<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ðŸŒ‘Flutter é¡µé¢å¯¼èˆªåŠæ‰“åŒ…ðŸŒ‘]]></title>
    <url>%2F2019%2F10%2F12%2FFlutter_navigation%2F</url>
    <content type="text"><![CDATA[ðŸŒ‘Flutter é¡µé¢å¯¼èˆªåŠæ‰“åŒ…ðŸŒ‘ðŸŒ“ä¸€èˆ¬é¡µé¢å¯¼èˆªå’Œè¿”å›žRaisedButtonæŒ‰é’®ç»„ä»¶ childï¼š å¯ä»¥æ”¾å…¥å®¹å™¨ï¼Œå›¾æ ‡ï¼Œæ–‡å­— onPressedï¼šç‚¹å‡»çš„ç›¸åº”äº‹ä»¶ï¼Œä¸€èˆ¬ä¼šè°ƒç”¨Navigatorç»„ä»¶ Navigator.pushå’ŒNavigator.pop Navigator.push: æ˜¯è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œä»–è¦æŽ¥å—ä¸¤ä¸ªå‚æ•°ä¸€ä¸ªæ˜¯ä¸Šä¸‹æ–‡çš„contextï¼Œå¦ä¸€ä¸ªæ˜¯è¦è·³è½¬çš„å‡½æ•° Navigator.pop: æ˜¯è¿”å›žåˆ°ä¸Šä¸€ä¸ªé¡µé¢ï¼Œä½¿ç”¨æ—¶ä¼ é€’ä¸€ä¸ªcontextï¼ˆä¸Šä¸‹æ–‡å‚æ•°ï¼‰ï¼Œä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„æ˜¯ï¼Œä½ å¿…é¡»æœ‰ä¸Šçº§é¡µé¢ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šçº§é¡µé¢ä½¿ç”¨äº†Navgitor.push import &#39;package:flutter/material.dart&#39;; void main() =&gt; runApp(MaterialApp( title:&#39;å¯¼èˆªæ¼”ç¤º1&#39;, home:Home() )); class Home extends StatelessWidget{ @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: Text(&#39;é¦–é¡µ&#39;),), body: Center( child: RaisedButton( onPressed: (){ Navigator.push(context,MaterialPageRoute(builder: (context) =&gt; new Detail())); }, child: Text(&#39;è·³è½¬åˆ°å•†å“è¯¦æƒ…é¡µ&#39;), ), ), ); } } class Detail extends StatelessWidget{ @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: Text(&#39;å•†å“è¯¦æƒ…é¡µ&#39;),), body: Center( child: RaisedButton( onPressed: (){ Navigator.pop(context); }, child: Text(&#39;è¯¥å›žåŽ»äº†ï¼Œè€å¼Ÿ&#39;), ), ), ); } } ðŸŒ”å¯¼èˆªå‚æ•°çš„ä¼ é€’å’ŒæŽ¥å—import &#39;package:flutter/material.dart&#39;; void main() =&gt; runApp(MaterialApp( title:&#39;å¯¼èˆªæ¼”ç¤º1&#39;, home:TextWidget() )); // åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ class MyList extends StatelessWidget{ final List&lt;String&gt; items = new List&lt;String&gt;.generate(1000, (i)=&gt; &quot;Item $i&quot;); @override Widget build(BuildContext context) { return ListView.builder( itemCount:items.length, itemBuilder:(context,index){ return new ListTile( title:new Text(&#39;${items[index]}&#39;), onTap: () { Navigator.push( context, MaterialPageRoute( builder: (context) =&gt; Detail(value: items[index]) // ä¼ é€’å‚æ•° ) ); }, ); } ); } } class TextWidget extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( title: &quot;Flutter Demo&quot;, theme: ThemeData( primaryColor: Colors.blue, ), home: Scaffold( appBar: AppBar(title: Text(&quot;é¦–é¡µ1&quot;)), body: Center( child: Container( child: MyList() // è°ƒç”¨åˆ—è¡¨ç»„ä»¶ ), ), ), ); } } class Detail extends StatelessWidget{ final String value; Detail({Key key,@required this.value}):super(key:key); // æŽ¥å—å‚æ•° @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: Text(&#39;å•†å“è¯¦æƒ…é¡µ&#39;),), body: Center( child: RaisedButton( onPressed: (){ Navigator.pop(context); }, child: Text(&#39;æ¥äº†ï¼Œè€å¼Ÿ $value&#39;), ), ), ); } } ðŸŒ™é¡µé¢è·³è½¬å¹¶è¿”å›žæ•°æ® å®žé™…å¼€å‘æˆ‘ä»¬å¯èƒ½é‡åˆ°è¿™ç§éœ€æ±‚ï¼Œåˆ—è¡¨é¡µè·³è½¬åˆ°è¯¦æƒ…é¡µï¼Œè¯¦æƒ…é¡µåœ¨è·³è½¬åˆ°åˆ—è¡¨é¡µï¼Œéœ€è¦æŠŠè¯¦æƒ…é¡µçš„æŸäº›æ•°æ®ä¼ é€’åˆ°åˆ—è¡¨é¡µ å…ˆè´´å‡ºä»£ç  import &#39;package:flutter/material.dart&#39;; void main() =&gt; runApp(MaterialApp( title:&#39;å¯¼èˆªæ¼”ç¤º1&#39;, home:TextWidget() )); class MyList extends StatelessWidget{ final List&lt;String&gt; items = new List&lt;String&gt;.generate(1000, (i)=&gt; &quot;Item $i&quot;); @override Widget build(BuildContext context) { return ListView.builder( itemCount:items.length, itemBuilder:(context,index){ return new ListTile( title:new Text(&#39;${items[index]}&#39;), onTap: () { _navigatoreto(context, items, index); }, ); } ); } _navigatoreto(BuildContext context, List&lt;String&gt; items, index) async{ final result = await Navigator.push( context, MaterialPageRoute( builder: (context) =&gt; Detail(value: items[index],) ) ); Scaffold.of(context).showSnackBar(SnackBar(content: Text(&#39;$result&#39;),)); } } class TextWidget extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( title: &quot;Flutter Demo&quot;, theme: ThemeData( primaryColor: Colors.blue, ), home: Scaffold( appBar: AppBar(title: Text(&quot;é¦–é¡µ1&quot;)), body: Center( child: Container( child: MyList() // è°ƒç”¨åˆ—è¡¨ç»„ä»¶ ), ), ), ); } } class Detail extends StatelessWidget{ final String value; Detail({Key key,@required this.value}):super(key:key); @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar(title: Text(&#39;å•†å“è¯¦æƒ…é¡µ&#39;),), body: Center( child: RaisedButton( onPressed: (){ Navigator.pop(context, &#39;æ­å–œä½ é€‰ä¸­äº†$value&#39;); }, child: Text(&#39;æ¥äº†ï¼Œè€å¼Ÿ $value&#39;), ), ), ); } } å¼‚æ­¥è¯·æ±‚å’Œç­‰å¾… Dartä¸­çš„å¼‚æ­¥è¯·æ±‚å’ŒES6ä¸­çš„æ–¹æ³•å¾ˆåƒï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨async awaitå°±å¯ä»¥å®žçŽ° _navigatoreto(BuildContext context, List&lt;String&gt; items, index) async{ final result = await Navigator.push( // è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç­‰è¿™ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•ä»¥åŽï¼Œã€ç­‰å¾…ç»“æžœå›žæ¥ã€‘ context, MaterialPageRoute( builder: (context) =&gt; Detail(value: items[index],) ) ); Scaffold.of(context).showSnackBar(SnackBar(content: Text(&#39;$result&#39;),)); // æˆ‘ä»¬åœ¨æ˜¾ç¤ºå…·ä½“å†…å®¹ } SnackBarçš„ä½¿ç”¨ SnackBarä½¿ç”¨æˆ·æ“ä½œä»¥åŽï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯çš„ä¸€ä¸ªæŽ§ä»¶ï¼Œç±»ä¼¼Toastï¼Œä¼šè‡ªåŠ¨éšè—ï¼ŒSnackBaræ˜¯ä»¥Scaffoldçš„showSnackBarçš„æ–¹æ³•æ¥è¿›è¡Œæ˜¾ç¤ºçš„ Scaffold.of(context).showSnackBar(SnackBar(content: Text(&#39;$result&#39;),)); // æˆ‘ä»¬åœ¨æ˜¾ç¤ºå…·ä½“å†…å®¹ è¿”å›žæ•°æ®çš„æ–¹å¼ è¿”å›žæ•°æ®å…¶å®žç‰¹åˆ«å®¹æ˜“ï¼Œåªè¦åœ¨è¿”å›žçš„æ—¶å€™å¸¦ä¸Šç¬¬äºŒä¸ªå‚æ•°å°±å¯ä»¥äº† Navigator.pop(context,&#39;xxxx&#39;); //xxxå°±æ˜¯è¿”å›žçš„å‚æ•° ðŸŒ›Flutter å®¢æˆ·ç«¯æ‰“åŒ…ã€Androidã€‘é…ç½®appçš„å›¾æ ‡ æ‰¾åˆ°ç›®å½• /android/app/src/main/res/ è¿›å…¥ä¹‹åŽä½ ä¼šçœ‹åˆ°å¾ˆå¤šmipomap-ä¸ºå‰ç¼€å‘½åçš„æ–‡ä»¶å¤¹ï¼ŒåŽé¢æ˜¯åƒç´ å¯†åº¦ï¼Œå¯ä»¥çœ‹å‡ºå›¾æ ‡çš„åˆ†è¾¨çŽ‡ mdpiï¼ˆä¸­ï¼‰ ~ 160dpi hdpi ï¼ˆé«˜ï¼‰ ~240dip xhdpi ï¼ˆè¶…é«˜ï¼‰ ~320dip xxhdpi ï¼ˆè¶…è¶…é«˜ï¼‰ ~480dip xxxhdpi ï¼ˆè¶…è¶…è¶…é«˜ï¼‰ ~640dip å°†å¯¹åº”çš„åƒç´ å¯†åº¦çš„å›¾ç‰‡æ”¾å…¥å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ï¼Œå›¾ç‰‡è®°å¾—ä½¿ç”¨pngæ ¼å¼ï¼Œè®°å¾—åå­—è¦ç»Ÿä¸€ï¼Œæ‰èƒ½ä¸€æ¬¡æ€§è¿›è¡Œé…ç½® AndroidManifest.xml æ–‡ä»¶è¿™ä¸ªæ–‡ä»¶ä¸»è¦ç”¨æ¥é…ç½®APPçš„åç§°ã€å›¾æ ‡å’Œç³»ç»Ÿæƒé™ï¼Œæ‰€åœ¨çš„ç›®å½•åœ¨: /android/app/src/main/AndroidManifest.xml android:label=&quot;flutter_app&quot; //é…ç½®APPçš„åç§°ï¼Œæ”¯æŒä¸­æ–‡ android:icon=&quot;@mipmap/ic_launcher&quot; //APPå›¾æ ‡çš„æ–‡ä»¶åç§° ç”Ÿæˆ keystorekeytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key è¿™é‡Œä¼šæœ‰æŠ¥é”™ï¼š å¦‚ä¸‹ å¾ˆå®¹æ˜“çŸ¥é“ï¼Œæ²¡æœ‰çŽ¯å¢ƒå˜é‡ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸åŽ»é…å€¼ï¼Œç›´æŽ¥æ‹¿åˆ°ä»–çš„æ ¹ç›®å½•è¿›è¡Œæ‰§è¡Œ é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è¿›è¡ŒæŸ¥æ‰¾ä»–çš„æ ¹ç›®å½• flutter doctor -v è¿™æ—¶å€™ä½ ç›´æŽ¥æ‹·è´å‘½ä»¤å¹¶è¿›è¡Œè¾“å…¥ï¼Œä½†è¿™é‡Œä¹Ÿæœ‰ä¸ªå‘ï¼Œå°±æ˜¯å¦‚æžœæ–‡ä»¶å¤¹ä¸­é—´å¸¦æœ‰ç©ºç©ºï¼Œä½ éœ€è¦ç”¨å¸¦å¼•å·æ‰©ä¸Šã€‚ ï¼ï¼ï¼æœ‰å¯èƒ½è¿˜ä¼šæŠ¥é”™ è¿™ä¸ªé”™è¯¯çš„ä¸»è¦é—®é¢˜æ˜¯ç›®å½•ä¸å­˜åœ¨å’Œæ²¡æœ‰å†™æƒé™ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ›´æ¢ä¸€ä¸ªæœ‰å†™æƒé™çš„ç›®å½•ã€‚æˆ‘ä»¬æŠŠå‘½ä»¤æ”¹æˆäº†ä¸‹é¢çš„å½¢å¼ã€‚ D:\Program\Android\&#39;Android Studio&#39;\jre\bin\keytool -genkey -v -keystore D:\key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key æœ‰äº†è¿™ä¸ªkey.jksæ–‡ä»¶åŽï¼Œå¯ä»¥åˆ°é¡¹ç›®ç›®å½•ä¸‹çš„androidæ–‡ä»¶å¤¹ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºkey.propertiesçš„æ–‡ä»¶ï¼Œå¹¶æ‰“å¼€ç²˜è´´ä¸‹é¢çš„ä»£ç ã€‚ storePassword=&lt;password from previous step&gt; //è¾“å…¥ä¸Šä¸€æ­¥åˆ›å»ºKEYæ—¶è¾“å…¥çš„ å¯†é’¥åº“ å¯†ç  keyPassword=&lt;password from previous step&gt; //è¾“å…¥ä¸Šä¸€æ­¥åˆ›å»ºKEYæ—¶è¾“å…¥çš„ å¯†é’¥ å¯†ç  keyAlias=key storeFile=&lt;E:/key.jks&gt; //key.jksçš„å­˜æ”¾è·¯å¾„ æˆ‘çš„æ–‡ä»¶æœ€åŽæ˜¯è¿™æ ·çš„ï¼š storePassword=123123 keyPassword=123123 keyAlias=key storeFile=D:/key.jks é…ç½®keyæ³¨å†Œkeyç”Ÿæˆå¥½åŽï¼Œéœ€è¦åœ¨build.gradleæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹å…¶å®žå¾ˆç®€å•ï¼Œå°±æ˜¯ç²˜è´´å¤åˆ¶ä¸€äº›ä¸œè¥¿ï¼Œä½ æ˜¯ä¸éœ€è¦çŸ¥é“è¿™äº›æ–‡ä»¶çš„å…·ä½“ç”¨å¤„çš„ã€‚ ç¬¬ä¸€é¡¹ï¼š è¿›å…¥é¡¹ç›®ç›®å½•çš„/android/app/build.gradleæ–‡ä»¶ï¼Œåœ¨android{è¿™ä¸€è¡Œå‰é¢,åŠ å…¥å¦‚ä¸‹ä»£ç : def keystorePropertiesFile = rootProject.file(&quot;key.properties&quot;) def keystoreProperties = new Properties() keystoreProperties.load(new FileInputStream(keystorePropertiesFile)) æŠŠå¦‚ä¸‹ä»£ç è¿›è¡Œæ›¿æ¢ buildTypes { release { signingConfig signingConfigs.debug } } æ›¿æ¢æˆçš„ä»£ç ï¼š signingConfigs { release { keyAlias keystoreProperties[&#39;keyAlias&#39;] keyPassword keystoreProperties[&#39;keyPassword&#39;] storeFile file(keystoreProperties[&#39;storeFile&#39;]) storePassword keystoreProperties[&#39;storePassword&#39;] } } buildTypes { release { signingConfig signingConfigs.release } } ç”Ÿæˆapk ç›´æŽ¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š flutter build apk æ‰“åŒ…æˆåŠŸ æ‰“åŒ…æˆåŠŸçš„apkæ–‡ä»¶åœ¨æ ¹ç›®å½•ä¸‹çš„ /build/app/outputs/apk/app.apk]]></content>
      <tags>
        <tag>Dart</tag>
        <tag>flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ðŸ˜ˆFlutter å¸ƒå±€ðŸ˜ˆ]]></title>
    <url>%2F2019%2F10%2F11%2FFlutter_layout%2F</url>
    <content type="text"><![CDATA[ðŸ˜ˆFlutter å¸ƒå±€ðŸ˜ˆðŸ‘¿æ°´å¹³å¸ƒå±€Rowçš„ä½¿ç”¨ Flutterçš„rowæŽ§ä»¶å°±æ˜¯æ°´å¹³æŽ§ä»¶ï¼Œå®ƒå¯ä»¥è®©Rowçš„é‡Œé¢çš„å­å…ƒç´ è¿›è¡Œæ°´å¹³æŽ’åˆ— ä¸çµæ´»æ°´å¹³å¸ƒå±€import &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ return MaterialApp( title:&#39;ListView widget&#39;, home:Scaffold( appBar:new AppBar(title:new Text(&#39;æ°´å¹³æ–¹å‘å¸ƒå±€&#39;)), body:new Row( children: &lt;Widget&gt;[ new RaisedButton( onPressed: (){ }, color:Colors.redAccent, child:new Text(&#39;çº¢è‰²æŒ‰é’®&#39;) ), new RaisedButton( onPressed: (){ }, color:Colors.orangeAccent, child: new Text(&#39;é»„è‰²æŒ‰é’®&#39;), ), new RaisedButton( onPressed: (){ }, color:Colors.pinkAccent, child:new Text(&#39;ç²‰è‰²æŒ‰é’®&#39;) ) ], ) ), ); } } è¿è¡Œæˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼ŒæŒ‰é’®åœ¨ä¸€è¡Œæ²¡æœ‰å¹³å‡åˆ†å¸ƒï¼Œå³ä¾§è¿˜æœ‰ç©ºéš™ï¼Œå¦‚æžœæƒ³è¦ä»–å¹³å‡åˆ†å¸ƒï¼Œæˆ‘ä»¬å°±è¦ä½¿ç”¨çµæ´»æ°´å¹³å¸ƒå±€ çµæ´»æ°´å¹³å¸ƒå±€ éœ€è¦è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Expandedæ¥è¿›è¡Œè§£å†³ï¼Œå°†æŒ‰é’®åŒ…åœ¨Expandedä¸­ body: Row( children: &lt;Widget&gt;[ Expanded( child:RaisedButton( onPressed: (){ }, color: Colors.red, child: Text(&#39;çº¢è¤è‰²æŒ‰é’®&#39;) ), ), Expanded( child: RaisedButton( onPressed: (){ }, color: Colors.yellow, child: Text(&#39;é»„è¤è‰²æŒ‰é’®&#39;) ), ) ], ), ðŸ‘¹åž‚ç›´å¸ƒå±€Columnç»„ä»¶ Columnç»„ä»¶æ˜¯åž‚ç›´å¸ƒå±€æŽ§ä»¶ï¼Œå¯ä»¥å°†å­ç»„ä»¶åž‚ç›´æŽ’åˆ— import &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ return MaterialApp( title:&#39;ListView widget&#39;, home:Scaffold( appBar:new AppBar( title:new Text(&#39;åž‚ç›´æ–¹å‘å¸ƒå±€&#39;), ), body: Column( children: &lt;Widget&gt;[ Text(&#39;data&#39;), Text(&#39;wwwwwwwwwwwwwwwwwwwwwwwwww&#39;), Text(&#39;data&#39;) ], ), ), ); } } è¿™æ ·ä½ ä¼šå‘çŽ°ä¸­é—´ä¸€æ®µå­—æ¯å¾ˆé•¿ï¼Œå¹¶ä¸”æ•´ä¸ªå¸ƒå±€æ˜¯å±…ä¸­å¯¹é½çš„ï¼Œå¦‚æžœæˆ‘ä»¬å¸Œæœ›ä»–æ˜¯é å·¦å¯¹é½çš„ï¼Œéœ€è¦åŠ ä¸€ä¸ªå¯¹é½å±žæ€§ CrossAxisAlignment.star: å±…å·¦å¯¹é½ CrossAxisAlignment.end: å±…å³å¯¹é½ CrossAxisAlignment.center: å±…ä¸­å¯¹é½ ä¸»è½´å’Œå‰¯è½´çš„è¾¨è¯†ã€mainAxisAlignmentã€‘ mainè½´ï¼šå¦‚æžœä½ ç”¨cloumnç»„ä»¶ï¼Œé‚£åž‚ç›´å°±æ˜¯ä¸»è½´ï¼Œå¦‚æžœç”¨çš„æ˜¯Rowç»„ä»¶ï¼Œé‚£ä¹ˆæ°´å¹³å°±æ˜¯ä¸»è½´ crossè½´ï¼šCrossè½´ç§°ä¸ºå‰¯è½´ï¼Œæ˜¯å’Œä¸»è½´åž‚ç›´çš„æ–¹å‘ï¼Œä¾‹ï¼šRowç»„ä»¶ï¼Œåž‚ç›´å°±æ˜¯å‰¯è½´ï¼ŒColumnçš„å‰¯è½´å°±æ˜¯æ°´å¹³æ–¹å‘ çŽ°åœ¨å°†ä¸Šé¢å¸ƒå±€æ”¹ä¸ºåž‚ç›´å±…ä¸­ body: Column( crossAxisAlignment: CrossAxisAlignment.start, mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text(&#39;data&#39;), Text(&#39;wwwwwwwwwwwwwwwwwwwwwwwwww&#39;), Text(&#39;data&#39;) ], ), Expandedå±žæ€§çš„ä½¿ç”¨ å¦‚æžœæˆ‘ä»¬æƒ³è¦è®©ä¸­é—´éƒ¨åˆ†å˜å¤§ï¼Œä¸Šä¸‹æ ¹æ®æ–‡å­—å¤§å°åœ¨åº•éƒ¨æ˜¾ç¤ºï¼Œ body: Column( // crossAxisAlignment: CrossAxisAlignment.center, mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Center(child: Text(&#39;data&#39;),), Expanded( child: Container( color: Colors.red, ) ), Center(child: Text(&#39;data&#39;),) ], ), ðŸ‘ºStackå±‚å å¸ƒå±€ å±‚å å¸ƒå±€å°±æ˜¯å°±æ˜¯æ”¾å…¥ä¸€å¼ å›¾ç‰‡ï¼Œç„¶åŽåœ¨å›¾ç‰‡ä¸Šé¢åŠ å…¥æ–‡å­—ï¼Œæˆ–è€…æ”¾å…¥å®¹å™¨ import &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ var stack = new Stack( alignment: const FractionalOffset(0.5, 0.8), children: &lt;Widget&gt;[ new CircleAvatar( backgroundImage: new NetworkImage(&#39;http://jspang.com/static//myimg/blogtouxiang.jpg&#39;), radius: 100.0, ), new Container( decoration: new BoxDecoration( color: Colors.lightBlue, ), padding: EdgeInsets.all(5.0), child: new Text(&quot;sssssssssssss&quot;), ) ], ); return MaterialApp( title:&#39;ListView widget&#39;, home:Scaffold( appBar:new AppBar( title:new Text(&#39;åž‚ç›´æ–¹å‘å¸ƒå±€&#39;), ), body:Center(child:stack), ), ); } } è¿è¡Œä»¥ä¸Šä»£ç ï¼Œå°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å¸ƒå±€æ•ˆæžœ alignmentå±žæ€§ å±‚å å¸ƒå±€alignmentå±žæ€§æ˜¯æŽ§åˆ¶å±‚å çš„ä½ç½®çš„, å»ºè®®ä¸¤ä¸ªå…ƒç´ è¿›è¡Œå±‚å æ—¶ä½¿ç”¨ï¼Œä»–æœ‰ä¸¤ä¸ªå€¼Xè½´è·ç¦»å’ŒYè½´çš„è·ç¦»ï¼Œå€¼æ˜¯0åˆ°1ï¼Œéƒ½æ˜¯ä»Žä¸Šå±‚å®¹å™¨çš„å·¦ä¸Šè§’å¼€å§‹ç®—èµ·çš„ CircleAvatarç»„ä»¶çš„ä½¿ç”¨ CircleAvatarè¿™ä¸ªç»„ä»¶æ˜¯ç»å¸¸æ˜¯ç”¨æ¥åˆ¶ä½œå¤´åƒçš„ï¼Œç»„ä»¶é‡Œé¢æœ‰ä¸€ä¸ªradiusçš„å€¼å¯ä»¥è®¾ç½®å›¾ç‰‡çš„å¼§åº¦ new CircleAvatar( backgroundImage: new NetworkImage(&#39;http://jspang.com/static//myimg/blogtouxiang.jpg&#39;), // æ”¾å…¥ä¸€å¼ èƒŒæ™¯å›¾ç‰‡ radius: 100.0, ), ðŸ‘½Stackçš„Positionedå±žæ€§ ä¸Šè¿°åªæ˜¯ä¸¤ä¸ªå®¹å™¨ä¹‹é—´çš„åµŒå¥—ï¼Œå¦‚æžœè¶…è¿‡äº†ä¸¤ä¸ªå®¹å™¨ä¹‹é—´çš„å±‚å åµŒå¥—ï¼Œæˆ‘ä»¬å°±è¦ä½¿ç”¨Positionedç»„ä»¶ bottomï¼šè·ç¦»å±‚å ç»„ä»¶ä¸‹é¢çš„è·ç¦» leftï¼šè·ç¦»å±‚å ç»„ä»¶å·¦é¢çš„è·ç¦» top: è·ç¦»å±‚å ç»„ä»¶ä¸Šé¢çš„è·ç¦» right: è·ç¦»å±‚å ç»„ä»¶å³è¾¹çš„è·ç¦» widthï¼šå±‚å å®šä½ç»„ä»¶çš„å®½åº¦ heightï¼š å±‚å å®šä½ç»„ä»¶çš„é«˜åº¦ import &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ var stack = Stack( alignment: const FractionalOffset(0.5, 0.8), children: &lt;Widget&gt;[ CircleAvatar( backgroundImage: new NetworkImage(&#39;http://img5.mtime.cn/mt/2018/10/22/104316.77318635_180X260X4.jpg&#39;), radius: 100.0, ), Positioned( top:10.0, left:10.0, child: Container( decoration: BoxDecoration( color: Colors.blue ), padding: EdgeInsets.all(10.0), child: Text(&#39;ssssssss&#39;) ), ), Positioned( bottom:10.0, right: 10.0, child: Container( decoration: BoxDecoration( color: Colors.red ), padding: EdgeInsets.fromLTRB(10.0, 20.0, 30.0, 40.0), child: Text(&#39;data&#39;), ), ) ], ); return MaterialApp( title:&#39;ListView widget&#39;, home:Scaffold( appBar:new AppBar( title:new Text(&#39;å±‚å å¸ƒå±€&#39;), ), body:Center(child:stack), ), ); } } è¿è¡Œå³å¯å®žçŽ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæžœ ðŸ’£å¡ç‰‡ç»„ä»¶å¸ƒå±€ å¡ç‰‡å¸ƒå±€æ˜¯æ’‘æ»¡æ•´ä¸ªå¤–éƒ¨å®¹å™¨çš„ï¼Œå¦‚æžœä½ æƒ³è®¾ç½®å¡ç‰‡çš„å®½é«˜ï¼Œéœ€è¦åœ¨å¤–éƒ¨å®¹å™¨è¿›è¡Œåˆ¶å®š import &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ var card = Card( child: Column( children: &lt;Widget&gt;[ ListTile( title: Text(&#39;data&#39;,style: TextStyle(fontWeight: FontWeight.w800),), subtitle: Text(&#39;data&#39;), leading: Icon(Icons.access_alarms, color: Colors.blue), ), Divider(), // åˆ†å‰²çº¿ ListTile( title: Text(&#39;data&#39;,style: TextStyle(fontWeight: FontWeight.w800),), subtitle: Text(&#39;data&#39;), leading: Icon(Icons.access_alarms, color: Colors.blue), ), Divider(), ListTile( title: Text(&#39;data&#39;,style: TextStyle(fontWeight: FontWeight.w800),), subtitle: Text(&#39;data&#39;), leading: Icon(Icons.access_alarms, color: Colors.blue), ), Divider(), ], ), ); return MaterialApp( title:&#39;ListView widget&#39;, home:Scaffold( appBar:new AppBar( title:new Text(&#39;å¡ç‰‡å¸ƒå±€&#39;), ), body:Center(child: card), ), ); } }]]></content>
      <tags>
        <tag>Dart</tag>
        <tag>flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ðŸ¥°Flutter å¸¸ç”¨ç»„ä»¶ðŸ¥°]]></title>
    <url>%2F2019%2F10%2F10%2FFlutter_view%2F</url>
    <content type="text"><![CDATA[Flutter å¸¸ç”¨ç»„ä»¶ ðŸ¥°Flutter å¸¸ç”¨ç»„ä»¶ðŸ¥° ðŸŒŸText Widgetæ–‡æœ¬ç»„ä»¶çš„ä½¿ç”¨import &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ return MaterialApp( title:&#39;Text widget&#39;, home:Scaffold( body:Center( child:Text(&#39;hello Flutterï¼Œ i like&#39;) ), ), ); } } TextAlignå±žæ€§ TextAlignå±žæ€§å°±æ˜¯æ–‡æœ¬çš„å¯¹é½æ–¹å¼ center â€”â€”â€”- æ–‡æœ¬ä»¥å±…ä¸­çš„å½¢å¼å¯¹é½ leftâ€”â€”â€”â€”â€“ æ–‡æœ¬ä»¥å·¦å¯¹é½çš„æ–¹å¼å¯¹é½ rightâ€”â€”â€”â€”- æ–‡æœ¬ä»¥å³å¯¹é½çš„æ–¹å¼å¯¹é½ startâ€”â€”â€”â€”- æ–‡æœ¬ä»¥å¼€å§‹çš„ä½ç½®å¯¹é½ï¼Œç±»ä¼¼left end â€”â€”â€”â€”â€“ æ–‡æœ¬ä»¥ç»“å°¾å¤„å¯¹é½ï¼Œç±»ä¼¼äºŽright child:Text( &#39;hello Flutterï¼Œ i like&#39;, textAlign: TextAlign.left, ) maxLineså±žæ€§ è®¾ç½®æœ€å¤šæ˜¾ç¤ºè¡Œæ•° child:Text( &#39;hello Flutterï¼Œ i like&#39;, textAlign: TextAlign.left, maxLines: 1 // æœ€å¤šæ˜¾ç¤ºä¸€è¡Œ ) overflowå±žæ€§ overflowå±žæ€§æ˜¯è®¾ç½®æ–‡æœ¬æº¢å‡ºçš„ clipï¼šç›´æŽ¥åˆ‡æ–­ï¼Œç›¸å½“äºŽcssä¸­hidden ellipsisï¼šåœ¨åŽé¢æ˜¾ç¤ºçœç•¥å· fadeï¼šæº¢å‡ºéƒ¨åˆ†é‡‡ç”¨æ¸å˜æ¶ˆå¤±çš„çŠ¶æ€(æ˜¯ä¸Šçº¿æ¸å˜æ¶ˆå¤±)) child:Text( &#39;hello Flutterï¼Œ i like&#39;, textAlign: TextAlign.left, maxLines: 1, // æœ€å¤šæ˜¾ç¤ºä¸€è¡Œ overflow: TextOverflow.ellipsis // è¶…å‡ºéƒ¨åˆ†ä»¥çœç•¥å·çš„å½¢å¼å‡ºçŽ° ) styleå±žæ€§ styleçš„å±žæ€§æ¯”è¾ƒå¤šï¼Œè¿™é‡Œåªæ¼”ç¤ºéƒ¨åˆ†ã€ä¸‹é¢åˆ¶ä½œä¸€ä¸ªå­—ä½“å¤§å°ä¸º25.0ï¼Œé¢œè‰²ä¸ºè“è‰²ï¼Œæœ‰ä¸‹åˆ’çº¿çš„,ä¸‹åˆ’çº¿é¢œè‰²ä¸ºé»„è‰²ã€‘ child:Text( &#39;hello Flutterï¼Œ i like&#39;, textAlign: TextAlign.left, maxLines: 1, // æœ€å¤šæ˜¾ç¤ºä¸€è¡Œ overflow: TextOverflow.ellipsis, // è¶…å‡ºéƒ¨åˆ†ä»¥çœç•¥å·çš„å½¢å¼å‡ºçŽ° style: TextStyle( fontSize: 25.0, color: Colors.blue, // color:Color.fromARGB(255, 255, 150, 150), // é¢œè‰²ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹å¼è¡¨ç¤º decoration: TextDecoration.underline, decorationStyle: TextDecorationStyle.solid, decorationColor: Colors.yellow ), ) æ›´å¤šå±žæ€§èµ„æ–™ Flutterä¸­æ–‡ç½‘ - æ–‡æœ¬ Widget âš¡Containerå®¹å™¨ç»„ä»¶çš„ä½¿ç”¨ Containerï¼ˆå®¹å™¨ç»„ä»¶ï¼‰æ˜¯ç»å¸¸ä½¿ç”¨çš„ç»„ä»¶ï¼Œç›¸å½“äºŽHTMLçš„divæ ‡ç­¾ class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ return MaterialApp( title:&#39;Text widget&#39;, home:Scaffold( body:Center( child:Container( child:new Text(&#39;hello Flutterï¼Œ i like&#39;), ), ), ), ); } } Alignmentå±žæ€§ è¿™ä¸ªå±žæ€§æ˜¯äº‰å¯¹Containerå†…childçš„å¯¹é½æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯å®¹å™¨å­å†…å®¹çš„å¯¹é½æ–¹å¼ bottomCenter â€”â€”â€”â€”â€“ ä¸‹éƒ¨å±…ä¸­å¯¹é½ bottomLeft â€”â€”â€”â€”â€”- ä¸‹éƒ¨å·¦å¯¹é½ bottomRight â€”â€”â€”â€”â€” ä¸‹éƒ¨å³å¯¹é½ center â€”â€”â€”â€”â€”â€”â€“ çºµæ¨ªåŒå‘å±…ä¸­å¯¹é½ centerLeft â€”â€”â€”â€”â€”- çºµå‘å±…ä¸­æ¨ªå‘å±…å·¦å¯¹é½ã€‚ centerRight â€”â€”â€”â€”â€” çºµå‘å±…ä¸­æ¨ªå‘å±…å³å¯¹é½ã€‚ topLeft â€”â€”â€”â€”â€”â€”- é¡¶éƒ¨å·¦ä¾§å¯¹é½ã€‚ topCenter â€”â€”â€”â€”â€”â€“ é¡¶éƒ¨å±…ä¸­å¯¹é½ã€‚ topRight â€”â€”â€”â€”â€”â€” é¡¶éƒ¨å±…å·¦å¯¹é½ã€‚ home:Scaffold( body:Center( child:Container( child:new Text(&#39;hello Flutterï¼Œ i like&#39;), alignment: Alignment.center, ), ), ), è®¾ç½®å®½ã€é«˜å’Œé¢œè‰²å±žæ€§ è®¾ç½®å®½é«˜ç›¸å¯¹å®¹æ˜“ï¼Œåªè¦åœ¨å±žæ€§åç§°åŽé¢åŠ å…¥æµ®ç‚¹æ•°å­—å°±å¯ä»¥ home:Scaffold( body:Center( child:Container( child:new Text(&#39;hello Flutterï¼Œ i like&#39;), alignment: Alignment.center, width:500.0, height:400.0, color: Colors.lightBlue, ), ), ), paddingå±žæ€§ paddingæŒ‡çš„çš„æ˜¯Containerå’Œchildå†…å®¹å™¨çš„è·ç¦» home:Scaffold( body:Center( child:Container( child:new Text(&#39;hello Flutterï¼Œ i like&#39;), alignment: Alignment.center, width:500.0, height:400.0, color: Colors.lightBlue, padding: const EdgeInsets.all(10.0), // ä»£è¡¨ä¸Šä¸‹å·¦å³çš„paddingè·ç¦»éƒ½æ˜¯10 ), ), ), ä¸Šé¢ä¸»è¦è¯´æ˜Žäº†paddingçš„ä¸€ä¸ªç»Ÿä¸€çš„å€¼ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³åˆ†åˆ«è®¾ç½®å‘¢ padding: const EdgeInsets.fromLTRB(10.0, 50.0, 0.0, 0.0) è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆ†åˆ«è®¾ç½®å„ä¸ªæ–¹å‘çš„paddingå€¼ marginå±žæ€§ ç”¨æ³•åŒä¸Š margin: const EdgeInsets.all(10.0), // ä»£è¡¨ä¸Šä¸‹å·¦å³çš„marginè·ç¦»éƒ½æ˜¯10 ||æˆ– margin: const EdgeInsets.fromLTRB(10.0, 50.0, 0.0, 0.0) decorationå±žæ€§ decorationæ˜¯containerçš„ä¿®é¥°å™¨ï¼Œä¸»è¦åŠŸèƒ½è®¾ç½®èƒŒæ™¯å’Œè¾¹æ¡† å¦‚æžœä½ æƒ³è¦ç»™ä¸€ä¸ªèƒŒæ™¯åŠ ä¸€ä¸ªæ¸å˜ï¼Œè¿™æ—¶å€™éœ€è¦è¿™ä¸ªBoxDecoation home:Scaffold( body:Center( child:Container( child:new Text(&#39;hello Flutterï¼Œ i like&#39;), alignment: Alignment.center, width:500.0, height:400.0, // color: Colors.lightBlue, padding: const EdgeInsets.all(10.0), // ä»£è¡¨ä¸Šä¸‹å·¦å³çš„paddingè·ç¦»éƒ½æ˜¯10 decoration: new BoxDecoration( gradient: const LinearGradient( colors: [Colors.blue, Colors.red, Colors.white] // è®¾ç½®æ¸å˜è‰² ), border: Border.all(width: 2.0, color: Colors.red) // è®¾ç½®è¾¹æ¡†çº¿çš„æ ·å¼ ), ), ), ), æ³¨æ„colorå’Œdecorationä¸èƒ½å…±å­˜,ä¼šæœ‰å†²çª ðŸ”¥Imageå›¾ç‰‡çš„ä½¿ç”¨ Image.asset: åŠ è½½èµ„æºå›¾ç‰‡,å°±æ˜¯åŠ è½½é¡¹ç›®èµ„æºçš„ç›®å½•ä¸­çš„å›¾ç‰‡,åŠ å…¥å›¾ç‰‡ä¼šå¢žåŠ æ‰“åŒ…çš„ä½“ç§¯,ä»¥ç›¸å¯¹è·¯å¾„å¼•å…¥ Image.network: ç½‘ç»œèµ„æºå›¾ç‰‡,æ„æ€å°±æ˜¯å¼•å…¥ç½‘ç»œå›¾ç‰‡è·¯å¾„ Image.file: åŠ è½½æœ¬åœ°å›¾ç‰‡,å°±æ˜¯åŠ è½½æœ¬åœ°æ–‡ä»¶ä¸­çš„å›¾ç‰‡,ä¸ä¼šå¢žåŠ æ‰“åŒ…ä½“ç§¯,ä»¥ç»å¯¹è·¯å¾„å¼•å…¥ Image.memory: åŠ è½½Uint8Listèµ„æºå›¾ç‰‡ home:Scaffold( body:Center( child:Container( child: Image.network( &#39;http://my.ignorantscholar.cn/images/headers.png&#39;, width: 300.0, height: 300.0, ), alignment: Alignment.center, width:500.0, height:400.0, // color: Colors.lightBlue, padding: const EdgeInsets.all(10.0), // ä»£è¡¨ä¸Šä¸‹å·¦å³çš„paddingè·ç¦»éƒ½æ˜¯10 decoration: new BoxDecoration( gradient: const LinearGradient( colors: [Colors.blue, Colors.red, Colors.white] // è®¾ç½®æ¸å˜è‰² ), border: Border.all(width: 2.0, color: Colors.red) // è®¾ç½®è¾¹æ¡†çº¿çš„æ ·å¼ ), ), ), ), fitå±žæ€§ fitå±žæ€§å¯ä»¥æŽ§åˆ¶å›¾ç‰‡çš„æ‹‰ä¼¸å’ŒæŒ¤åŽ‹,è¿™äº›éƒ½æ˜¯æ ¹æ®å›¾ç‰‡çš„çˆ¶çº§å®¹å™¨æ¥çš„ BoxFit.fill: å…¨å›¾æ˜¾ç¤º,å›¾ç‰‡ä¼šè¢«æ‹‰ä¼¸,å¹¶ä¸”å……æ»¡çˆ¶å®¹å™¨ BoxFit.contain: å…¨å›¾æ˜¾ç¤º,æ˜¾ç¤ºåŽŸæ¯”ä¾‹,å¯èƒ½ä¼šæœ‰ç©ºéš™ BoxFit.cover: æ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸,å¯èƒ½è£å‰ª,å……æ»¡(å›¾ç‰‡è¦å……æ»¡æ•´ä¸ªå®¹å™¨,è¿˜ä¸å˜å½¢) BoxFit.fitWidth: å®½åº¦å……æ»¡,(æ¨ªå‘å……æ»¡) BoxFit.fitHeight: é«˜åº¦å……æ»¡ (å±žç›¸å……æ»¡) BoxFit.scaleDown: æ•ˆæžœå’Œcontainå·®ä¸å¤š,ä½†æ˜¯æ­¤å±žæ€§ä¸èƒ½è¶…è¿‡å›¾ç‰‡å¤§å°,å¯å°ä¸å¯å¤§ child: Image.network( &#39;http://my.ignorantscholar.cn/images/headers.png&#39;, width: 300.0, height: 300.0, fit: BoxFit.cover, // ä¸å˜å½¢,å……æ»¡æ•´ä¸ªå®¹å™¨ ), å›¾ç‰‡æ··åˆæ¨¡å¼ å›¾ç‰‡æ··åˆæ¨¡å¼(colorBlendMode) å’Œ color å±žæ€§ä¸€èµ·ä½¿ç”¨,å¯ä»¥è®©å›¾ç‰‡æ”¹å˜é¢œè‰² ï¼ï¼ï¼ï¼ï¼ï¼colorBlendModeå’Œcoloréœ€è¦åŒæ—¶ä½¿ç”¨,å•ç‹¬ä½¿ç”¨ä¸€ä¸ªè¾¾ä¸åˆ°é¢„æœŸæ•ˆæžœ child: Image.network( &#39;http://my.ignorantscholar.cn/images/headers.png&#39;, width: 300.0, height: 300.0, color: Colors.yellow, colorBlendMode: BlendMode.modulate, fit: BoxFit.cover, ), ä½¿ç”¨é¡¹ç›®èµ„æºå›¾ç‰‡pubspec.yamlæ–‡ä»¶ å¦‚æžœæƒ³é…ç½®é¡¹ç›®èµ„æºæ–‡ä»¶ï¼Œå°±éœ€è¦ä½¿ç”¨pubspec.yamlæ–‡ä»¶ï¼Œéœ€è¦æŠŠèµ„æºæ–‡ä»¶åœ¨è¿™é‡Œå£°æ˜Ž æ¯”å¦‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å»ºç«‹äº†ä¸€ä¸ªæ–‡ä»¶imagesç”¨æ¥å­˜æ”¾å›¾ç‰‡ï¼Œæ–‡ä»¶å¤¹ä¸‹é¢æœ‰ä¸€ä¸ªå›¾ç‰‡ï¼Œpic.pngï¼Œé‚£æˆ‘ä»¬åœ¨pubspec.yamlæ–‡ä»¶ä¸­è¿›è¡Œå£°æ˜Ž assets: - images/pic.png child: Image.asset(&#39;images/pic.png&#39;), ðŸ’§ListViewåˆ—è¡¨ç»„ä»¶ListViewçš„å£°æ˜Žimport &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ return MaterialApp( title:&#39;Text widget&#39;, home:Scaffold( body:ListView( child: &lt;Widget&gt;[ ListTile( leading: Icon(Icons.assess_time), title: new Text(&#39;assess_time&#39;) ), ListTile( leading: Icon(Icons.assess_time), title: new Text(&#39;assess_time&#39;) ) ] ), ), ); } } æˆ‘ä»¬ä½¿ç”¨äº†ListViewï¼Œç„¶åŽåœ¨ä»–çš„å†…éƒ¨childrenä¸­ï¼Œä½¿ç”¨äº†widgetæ•°ç»„ï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ‰€ä»¥ä»–æŽ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åŽä½¿ç”¨äº†ListTileç»„ä»¶ã€åˆ—è¡¨ç“¦ç‰‡ã€‘ï¼Œå…·ä½“æ•ˆæžœå¯ä»¥åœ¨é¡¹ç›®ä¸­æŸ¥çœ‹ å›¾ç‰‡åˆ—è¡¨çš„ä½¿ç”¨ æˆ‘ä»¬ä½¿ç”¨ç½‘ç»œçš„æ–¹å¼ï¼Œæ’å…¥ä¸¤å¼ å›¾ç‰‡ body: new ListView( children:&lt;Widget&gt;[ new Image.network(&#39;http://jspang.com/static/upload/20181111/G-wj-ZQuocWlYOHM6MT2Hbh5.jpg&#39;), new Image.network(&#39;http://jspang.com/static/upload/20181109/1bHNoNGpZjyriCNcvqdKo3s6.jpg&#39;), ] ), æ¨ªå‘åˆ—è¡¨çš„ä½¿ç”¨ ä½¿ç”¨æ¨ªå‘åˆ—è¡¨éœ€è¦åŠ ä¸€ä¸ªå±žæ€§scrollDirection Axis.horizontal: æ¨ªå‘æ»šåŠ¨ Axis.vertical: çºµå‘æ»šåŠ¨ ã€é»˜è®¤çºµå‘æ»šåŠ¨ã€‘ home:Scaffold( body:Center( child:Container( height:200.0, child:new ListView( scrollDirection: Axis.horizontal, children: &lt;Widget&gt;[ new Container( width:180.0, color: Colors.lightBlue, ), new Container( width:180.0, color: Colors.amber, ), new Container( width:180.0, color: Colors.deepOrange, ), new Container( width:180.0, color: Colors.deepPurpleAccent, ), ], ) ), ), ä»Žä¸Šé¢ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œä»£ç åµŒå¥—æ¯”è¾ƒæ·±ï¼Œè¿›è¡Œä¼˜åŒ–ï¼Œæå– class MyList extends StatelessWidget{ @override Widget build(BuildContext context) { return ListView( scrollDirection: Axis.horizontal, children: &lt;Widget&gt;[ Container( width: 180.0, color: Colors.red, ), Container( width: 180.0, color: Colors.yellow, ), Container( width: 180.0, color: Colors.red, ), Container( width: 180.0, color: Colors.yellow, ) ] ); } } home:Scaffold( body:Center( child:Container( height:200.0, child: MyList() ), ), è¿™æ ·çœ‹å°±ç®€æ´è®¸å¤š åŠ¨æ€åˆ—è¡¨çš„ä½¿ç”¨ ä¸Šé¢çš„åˆ—è¡¨æ˜¯å†™æ­»çš„ï¼Œæˆ‘ä»¬åœ¨å®žé™…å¼€å‘ä¸­ï¼Œå¤§å¤šæ•°æ˜¯ä¸ä¼šæ­»çš„ class MyList extends StatelessWidget{ final List&lt;String&gt; items = new List&lt;String&gt;.generate(1000, (i)=&gt; &quot;Item $i&quot;); // ä½¿ç”¨listä¸­çš„å±žæ€§generateæ–¹æ³•äº§ç”ŸListé‡Œé¢çš„å…ƒç´  @override Widget build(BuildContext context) { return ListView.builder( // è°ƒç”¨åŠ¨æ€åˆ—è¡¨ç”Ÿæˆ itemCount:items.length, itemBuilder:(context,index){ return new ListTile( title:new Text(&#39;${items[index]}&#39;), ); } ); } } ðŸŒŠGridViewç½‘æ ¼åˆ—è¡¨å¸ƒå±€ç»„ä»¶import &#39;package:flutter/material.dart&#39;; void main () =&gt; runApp(MyApp()); class MyApp extends StatelessWidget{ @override Widget build(BuildContext context ){ return MaterialApp( title:&#39;ListView widget&#39;, home:Scaffold( body:GridView.count( padding:const EdgeInsets.all(20.0), crossAxisSpacing: 10.0, crossAxisCount: 3, children: &lt;Widget&gt;[ Container( color: Colors.red, ), Container( color: Colors.red, ), Container( color: Colors.red, ), Container( color: Colors.red, ), Container( color: Colors.red, ) ], ) ), ); } } crossAxisSpacing: ç½‘æ ¼ä¹‹é—´ çš„ç©ºéš™ crossAxisSpacingï¼šç½‘æ ¼åˆ—æ•°ï¼Œç›¸å½“äºŽä¸€è¡Œæ”¾ç½®çš„ç½‘æ ¼æ•°é‡ çŽ°åœ¨åšä¸€ä¸ªå›¾ç‰‡çš„ç½‘æ ¼å¸ƒå±€ body: GridView.count( padding: const EdgeInsets.all(10.0), crossAxisSpacing: 2.0, crossAxisCount: 3, mainAxisSpacing: 2, childAspectRatio: 0.7, children: &lt;Widget&gt;[ new Image.network(&#39;http://img5.mtime.cn/mt/2018/10/22/104316.77318635_180X260X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/10/10/112514.30587089_180X260X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/11/13/093605.61422332_180X260X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/11/07/092515.55805319_180X260X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/11/21/090246.16772408_135X190X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/11/17/162028.94879602_135X190X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/11/19/165350.52237320_135X190X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/11/16/115256.24365160_180X260X4.jpg&#39;,fit: BoxFit.cover), new Image.network(&#39;http://img5.mtime.cn/mt/2018/11/20/141608.71613590_135X190X4.jpg&#39;,fit: BoxFit.cover), ], ), childAspectRatioï¼š å®½é«˜æ¯”ï¼Œ è¿™ä¸ªå€¼çš„æ„æ€æ˜¯å®½æ˜¯é«˜çš„å¤šå°‘å€]]></content>
      <tags>
        <tag>Dart</tag>
        <tag>flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ðŸ‰Dartå­¦ä¹ ã€åŸºç¡€ã€‘ðŸ‰]]></title>
    <url>%2F2019%2F10%2F09%2FFlutter_Dart%2F</url>
    <content type="text"><![CDATA[ðŸ‰Dartå­¦ä¹ ã€åŸºç¡€ã€‘ðŸ‰ðŸŒDartç®€ä»‹ åœ¨Dartä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œä¸€åˆ‡å¯¹è±¡éƒ½æ˜¯classå®žä¾‹ï¼Œå“ªæ€•æ˜¯æ•°å­—ç±»åž‹ï¼Œæ–¹æ³•ç”šè‡³æ˜¯nulléƒ½æ˜¯å¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡ç»§æ‰¿äºŽObject Dartæ˜¯å¼ºè¯­è¨€ç±»åž‹ï¼Œä½†æ˜¯Dartå¯ä»¥è‡ªåŠ¨æŽ¨å˜å˜é‡ç±»åž‹ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æ”¯æŒåŠ¨æ€ç±»åž‹ Dartå…·æœ‰å¼ºå¤§çš„å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ› ðŸDartç”¨æ³• import å¯¼å…¥åº“ import &#39;package:flutter/material.dart&#39;; æ³¨é‡Šã€å’Œjsä¸€æ ·ã€‘ //å•è¡Œæ³¨é‡Š /****/å¤šè¡Œæ³¨é‡Š =&gt; [Dartçš„ç®­å¤´å‡½æ•°ï¼Œå³Lambdaè¡¨è¾¾å¼] void main() =&gt; runApp(MyApp()); extends ç»§æ‰¿ class MyApp extends StatelessWidget { var content = &#39;Dart&#39;; // å£°æ˜Žå¹¶åˆå§‹åŒ–å˜é‡ String _name = &quot;Flutter&quot;; @override Widget build(BuildContext context) { print(&#39;display $content&#39;); // æ‰“å°ã€å¯¹åº”jsçš„consoleã€‘ // return a Widget return MaterialApp( title: &quot;Flutter Demo&quot;, theme: ThemeData( primaryColor: Colors.blue, ), home: Scaffold( appBar: AppBar(title: Text(&quot;Flutter Dart è¯­æ³•&quot;)), body: Text(content+_name) ), ); } } var å˜é‡ç”³æ˜Žå¹¶ä¸”ä¸æŒ‡å®šå…¶ç±»åž‹çš„æ–¹æ³• var content = &#39;Dart è¯­æ³•&#39;; // å£°æ˜Žå¹¶åˆå§‹åŒ–å˜é‡ _ ä»¥ä¸‹åˆ’çº¿ _ å¼€å¤´çš„ç±»æˆ–æˆå‘˜å˜é‡æ˜¯ç§æœ‰çš„ Dart æ²¡æœ‰ Publicã€Protectedã€Private çš„å…³é”®å­—ï¼Œåœ¨ Dart é‡Œï¼Œç±»æˆ–æˆå‘˜å˜é‡é»˜è®¤éƒ½æ˜¯ Public çš„ï¼Œä»¥ä¸‹åˆ’çº¿ _ å¼€å¤´çš„å°±æ˜¯ç§æœ‰çš„ï¼Œä¾‹å¦‚æˆå‘˜å˜é‡ _name å°±æ˜¯ç§æœ‰çš„ã€‚ String _name = &quot;Flutter&quot;; String åœ¨å£°æ˜Žå˜é‡æ—¶ä¹Ÿå¯ä»¥æŒ‡å®šå…·ä½“ç±»åž‹ï¼ŒString æ˜¯å­—ç¬¦ä¸²ï¼Œè¿˜æœ‰å…¶ä»–çš„æ•°æ®ç±»åž‹ï¼šintã€doubleç­‰ã€‚ String _name = &quot;Flutter&quot;; $variableName æˆ– ${expression} å­—ç¬¦ä¸²æ’å€¼ï¼šå°†å˜é‡çš„å€¼ç›´æŽ¥æ’å…¥å­—ç¬¦ä¸²ä¸­ã€‚ print(&#39;display $content&#39;); ðŸ‘å˜é‡å£°æ˜Žï¼ˆä¸€å…±æœ‰å››ç§æ–¹å¼ï¼‰ var var content = &#39;Dart è¯­æ³•&#39; var switchOn = false var current = 0 ä½¿ç”¨varæ¥ç”³æ˜Žå˜é‡ï¼Œä¸éœ€è¦æŒ‡å®šå˜é‡çš„æ•°æ®ç±»åž‹ï¼Œå› ä¸ºDartä¼šè‡ªåŠ¨æŽ¨æ–­å…¶æ•°æ®ç±»åž‹ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨varæ¥å®šä¹‰ä»»ä½•å˜é‡ varä¸æ˜¯ç›´æŽ¥å‚¨å­˜å€¼ï¼Œè€Œæ˜¯å­˜å‚¨çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œä¾‹å¦‚ï¼švar content = â€˜Dartâ€™,æ˜¯åå­—ä¸ºcontentçš„varçš„å˜é‡å­˜å‚¨äº†å€¼ä¸ºDartçš„Stringå¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤varå¯ä»¥å®šä¹‰å®šä¹‰ä»»ä½•å˜é‡ æ˜Žç¡®æ•°æ®ç±»åž‹ String name = &#39;Flutter&#39; int count = 0 å°±æ˜¯åœ¨å£°æ˜Žå˜é‡çš„æ—¶å€™ï¼Œä½¿ç”¨æ˜Žç¡®çš„æ•°æ®ç±»åž‹ dynamic dynamic example = &#39;example&#39; æ„æ€æ˜¯æ•°æ®ç±»åž‹æ˜¯åŠ¨æ€å¯å˜çš„ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä»»ä½•å˜é‡ï¼Œä½†æ˜¯å’Œvarä¸åŒï¼Œvarä¸€æ—¦èµ‹å€¼ä»¥åŽï¼Œå°±ä¸èƒ½æ”¹å˜æ•°æ®ç±»åž‹äº† Object Object index = 100 Darté‡Œé¢çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ï¼Œå› ä¸ºDartçš„æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ï¼Œéƒ½ç»§æ‰¿äºŽObjectï¼Œå› æ­¤å¯ä»¥å®šä¹‰ä»»æ„ç±»åž‹ï¼Œè€Œä¸”èµ‹å€¼ä»¥åŽä¹Ÿå¯ä»¥æ›´æ”¹ Object index = 100 index = &#39;string&#39; âˆš å› ä¸º&#39;string&#39;ä¹Ÿæ˜¯object ï¼ï¼ï¼æ³¨æ„ï¼š è¯·ä¸è¦æ»¥ç”¨dynamicï¼Œä¸€èˆ¬æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨Objectæ¥ä»£æ›¿ dynamic ä½¿ç”¨åœºæ™¯ åœ¨ä¸Žnativeå¯¹æŽ¥æ—¶ï¼Œå¯¹ä¼ å…¥çš„å‚æ•°ç±»åž‹ä¸ç¡®å®šæ—¶ï¼Œè¿›è¡Œä½¿ç”¨ å¸¸é‡ï¼šfinal å’Œ constfinal content = &#39;Dart static const bool switch = false ä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ ä½¿ç”¨finalå’Œconstæ—¶å€™å¯ä»¥æŠŠvarçœç•¥ finalå’Œconstå˜é‡åªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œå¹¶ä¸”ä»–åœ¨å£°æ˜Žçš„æ—¶å€™å°±å·²ç»èµ‹å€¼ constæ˜¯éšå¼çš„const åœ¨ä½¿ç”¨constçš„æ—¶å€™ï¼Œå¦‚æžœæ˜¯åœ¨å…¨å±€å£°æ˜Žçš„è¯ï¼Œä¸éœ€è¦åŠ staticå±žæ€§ï¼Œå¦‚æžœæ˜¯åœ¨ç±»é‡Œé¢å£°æ˜Žï¼Œåˆ™éœ€è¦åŠ ä¸Š finalä¸Žconstçš„åŒºåˆ« constæ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™å°±å·²ç»åˆå§‹åŒ–äº†ï¼Œè€Œfinalå˜é‡æ˜¯å½“ç±»åˆ›å»ºçš„æ—¶å€™æ‰åˆå§‹åŒ– ðŸ“Dartæ”¯æŒçš„æ•°æ®ç±»åž‹ int æ•´æ•°ï¼ŒèŒƒå›´å¸¦-2^63åˆ°2^63-1 int x = 1; // æ²¡æœ‰å°æ•°ç‚¹å°±æ˜¯int double æµ®ç‚¹æ•°ï¼Œ64ä½ï¼ŒåŒç²¾åº¦- æµ®ç‚¹æ•° double y = 1.1; // æœ‰å°æ•°çš„å°±æ˜¯æµ®ç‚¹æ•° num numæ˜¯æ•°å­—ç±»åž‹ï¼Œæ—¢å¯ä»¥è¡¨ç¤ºæ•´æ•°ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºæµ®ç‚¹æ•°ï¼Œå…·ä½“çœ‹èµ‹å€¼ num x = 1; num y = 2; String å­—ç¬¦ä¸²ã€Dartå­—ç¬¦ä¸²é‡‡ç”¨UTF-8ç¼–ç ï¼Œå¯ä»¥é‡‡ç”¨å•å¼•å·æˆ–åŒå¼•å·ã€‘ var s1 = &#39;string&#39; String s1 = &#39;string&#39; bool å¸ƒå°”å€¼ var isShow = true bool isShow = true List List[E] Eè¡¨ç¤ºListé‡Œé¢çš„æ•°æ®ç±»åž‹ List&lt;int&gt; = [1, 2, 3] Set Set&lt;\E&gt; Eè¡¨ç¤ºSetçš„æ•°æ®ç±»åž‹ï¼Œä½¿ç”¨å¤§æ‹¬å·è¿›è¡Œèµ‹å€¼ Set&lt;String&gt; halong = {&#39;hellow&#39;, &#39;world&#39;, &#39;koal&#39;} Map Map&lt;\k, v&gt;kæ˜¯Keyçš„æ•°æ®ç±»åž‹ï¼ŒVæ˜¯Valueçš„æ•°æ®ç±»åž‹ Map&lt;String, String&gt; gits = { &#39;first&#39;: &#39;partridge&#39;, &#39;second&#39;: &#39;turtledoves&#39;, } Runes è¡¨ç¤ºé‡‡ç”¨UTF-32å­—ç¬¦ä¸²ï¼Œç”¨äºŽæ˜¾ç¤ºUnicodeï¼Œå› ä¸ºDartå­—ç¬¦ä¸²æ˜¯UTF-16ï¼Œå› æ­¤åœ¨Dartä¸­è¡¨ç¤º32ä½çš„Unicodeéœ€è¦Runesè¿™ä¸ªç‰¹æ®Šçš„è¯­æ³• Runes input = new Runes(&#39;\u{1f600}&#39;); print(new String.fromCharCodes(input)); æ‰“å°å‡ºæ¥çš„æ˜¯ç¬‘è„¸emojiï¼šðŸ˜† ðŸ„å‡½æ•° åœ¨Dartä¸­å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡,å‡½æ•°çš„ç±»åž‹æ˜¯Function å‡½æ•°çš„å†™ä½œæ ¼å¼bool say(String msg , String from, int clock){ print(msg+&quot; from &quot; + from + &quot; at &quot; + clock?.toString()); return true; } è¿”å›žç±»åž‹ å‡½æ•°å(å‡½æ•°å‚æ•°){ } å‡½æ•°çš„ç±»åž‹print(say is Function) // åˆ¤æ–­sayæ˜¯å¦ä¸ºå‡½æ•° å‡½æ•°çš„å‚æ•°ï¼š å¿…é€‰å‚æ•° ===== å¯é€‰å‚æ•° é¦–å…ˆå¿…é€‰å‚æ•°å¿…é¡»åœ¨å‰é¢ï¼Œå’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼ŒåŽé¢è·Ÿå¯é€‰å‚æ•°ï¼Œå¯é€‰å‚æ•°éœ€è¦ç”¨{}æˆ–è€…[]åŒ…èµ·æ¥ï¼Œç”¨ä¸åŒçš„æ‹¬å·ï¼Œå¯é€‰å‚æ•°çš„æ„ä¹‰ä¹Ÿä¸ä¸€æ · å¿…é€‰å‚æ•°å’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œè¿™é‡Œä¸å¤šé˜è¿°ï¼Œä¸»è¦è¯´æ˜Žå¯é€‰å‚æ•° å¯é€‰å‚æ•° å¯é€‰å‘½åå‚æ•°ï¼šï¼šä½¿ç”¨{}åŒ…èµ·æ¥çš„å‚æ•°æ˜¯å¯é€‰å‘½åå‚æ•° å¯é€‰ä½ç½®å‚æ•°ï¼šï¼šä½¿ç”¨[]åŒ…èµ·æ¥çš„å‚æ•°æ˜¯å¯é€‰ä½ç½®å‚æ•° å¯é€‰å‘½åå‚æ•°ï¼š{} ç”¨{}åŒ…èµ·æ¥çš„å‚æ•°ï¼Œå‰é¢è¯´çš„æ•°æ®ç±»åž‹ï¼Œä½¿ç”¨{}æ¥èµ‹å€¼çš„æ•°æ®ç±»åž‹æ˜¯Mapï¼Œæ‰€ä»¥å¯é€‰å‚æ•°çš„çš„ç±»åž‹ä¹Ÿæ˜¯Mapï¼Œå› æ­¤è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯é€‰å‚æ•°çš„èµ‹å€¼å¿…é¡»æ˜¯key: valueè¿™ç§æ ¼å¼çš„ï¼Œå¦‚ä¸‹ï¼š bool say(String msg , {String from, int clock}){ print(msg+&quot; from &quot; + from + &quot; at &quot; + clock.toString()); return true; } // è°ƒç”¨ say(&#39;Hello Flutter&#39;);//âœ… å› ä¸º from å’Œ clock æ˜¯å¯é€‰å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥ä¸å¡« say(&#39;Hello Flutter&#39;, from: &#39;XiaoMing&#39;);//å¯¹ ç”¨å‘½åå‚æ•°æ ¼å¼ paramName: value ä¸º from èµ‹å€¼ say(&#39;Hello Flutter&#39;, clock: 11);//âœ… say(&#39;Hello Flutter&#39;, from: &#39;XiaoMing&#39;, clock: 11);//âœ… åŒæ—¶ä¹Ÿå¯ä»¥ç»™å‘½åå‚æ•°åŠ @requiredï¼Œæ„æ€æ˜¯è¿™ä¸ªä¹Ÿæ˜¯å¿…é€‰å‚æ•°ï¼Œå¦‚ä¸‹ï¼š bool say(String msg , {@required String from, int clock}){ print(msg+&quot; from &quot; + from + &quot; at &quot; + clock.toString()); return true; } // è°ƒç”¨ say(&#39;Hello Flutter&#39;);//âŒ é”™è¯¯è°ƒç”¨æ–¹å¼ï¼Œå› ä¸º from æ˜¯å¿…é€‰å‚æ•°ï¼Œä¸å¡«çš„è¯ä¼šæŠ¥é”™ say(&#39;Hello Flutter&#39;, from: &#39;XiaoMing&#39;);//âœ… æ­£ç¡®è°ƒç”¨æ–¹å¼ say(&#39;Hello Flutter&#39;, from: &#39;XiaoMing&#39;, clock: 11);//âœ… è¿™ä¸ªè°ƒç”¨æ–¹å¼ä¹Ÿæ˜¯æ­£ç¡®çš„ å¯é€‰ä½ç½®å‚æ•°ï¼š[] ç”¨[ ]åŒ…èµ·æ¥çš„å‚æ•°æ˜¯å¯é€‰ä½ç½®å‚æ•°ï¼Œå‰é¢è¯´çš„æ•°æ®ç±»åž‹çš„æ—¶å€™ï¼Œä½¿ç”¨[ ]æ¥èµ‹å€¼çš„æ•°æ®ç±»åž‹æ˜¯Listï¼Œæ‰€ä»¥å¯é€‰å‚æ•°çš„å‘½åå‚æ•°ä¹Ÿæ˜¯Listï¼Œæ‰€ä»¥èµ‹å€¼å’Œå‚æ•°æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå¦‚ä¸‹ï¼š bool say(String msg , [String from , int clock]){ print(msg+&quot; from &quot; + from + &quot; at &quot; + clock.toString()); return true; } // è°ƒç”¨ say(&#39;Hello Flutter&#39;);//âœ… å› ä¸º from å’Œ clock æ˜¯å¯é€‰å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥ä¸å¡« say(&#39;Hello Flutter&#39;, &#39;XiaoMing&#39;,1);//âœ… ä¸ºå¯é€‰ä½ç½®å‚æ•°èµ‹å€¼ï¼Œåªèƒ½ä¸€ä¸ªå‚æ•°ä¸€ä¸ªå‚æ•°å¯¹åº”çš„èµ‹å€¼ï¼Œæ‰€ä»¥è¦å…¨éƒ¨èµ‹å€¼ say(&#39;Hello Flutter&#39;, &#39;XiaoMing&#39;)//âœ… say(&#39;Hello Flutter&#39;, 1)//âŒ å› ä¸º 1 èµ‹å€¼ç»™äº† from,ä½†æ˜¯ from æ˜¯Stringï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ å¯é€‰å‚æ•°çš„é»˜è®¤å€¼ï¼š = å› ä¸ºå‚æ•°æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆå‚æ•°çš„å€¼å¾ˆå¯èƒ½æ²¡æœ‰èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯nullï¼Œæˆ‘ä»¬å¦‚æžœéœ€è¦ç”¨åˆ°è¯¥å‚æ•°ï¼Œå¯ä»¥èµ‹å€¼ç»™ä»–ä¸€ä¸ªé»˜è®¤å€¼ bool say(String msg , {String from = &#39;empty&#39;, int clock = 0}){ print(msg+&quot; from &quot; + from + &quot; at &quot; + clock.toString()); return true; } ðŸ’=&gt; ç®­å¤´è¯­æ³• =&gt; è¯­å¥åŽé¢çš„åªèƒ½åŠ ä¸€è¡Œä»£ç ï¼Œè€Œä¸”è¿™ä¸€è¡Œä»£ç åªèƒ½ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œä¸”ä¸èƒ½è·Ÿè¯­å¥ï¼Œè¡¨è¾¾å¼å¯ä»¥ä½¿å‡½æ•°æˆ–å€¼ void main() =&gt; runApp(MyApp()); ç­‰ä»·äºŽï¼š void main(){ return runApp(MyApp());//runApp() è¿”å›žçš„æ˜¯ void } ðŸ­æ“ä½œç¬¦ ç±»åž‹åˆ¤æ–­æ“ä½œç¬¦ as ç±»åž‹è½¬æ¢ (emp as Person).firstName = &#39;Bob&#39;; is åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»åž‹ï¼Œå¦‚æžœæ˜¯çš„è¯ï¼Œå°±è¿”å›žtrue if (emp is Person) { // å¦‚æžœ emp æ˜¯ Person ç±»åž‹ emp.firstName =&#39;Bob&#39;; } is! åˆ¤æ–­æ˜¯å¦ä¸æ˜¯æŸä¸ªç±»åž‹ï¼Œå¦‚æžœä¸æ˜¯çš„è¯å°±è¿”å›žtrue if (emp is! Person) { // å¦‚æžœ emp ä¸æ˜¯ Person ç±»åž‹ } ðŸ¬æ¡ä»¶è¿ç®—ç¬¦condition ? expr1 : expr2 å¦‚æžœconditionä¸ºtrueçš„æ—¶å€™ï¼Œè¿”å›žexpr1ï¼Œå¦åˆ™è¿”å›žexpr2 var visibility = isPublic ? &#39;public&#39; : &#39;private&#39;; expr1 ?? expr2 å¦‚æžœ expr1 ä¸º nullï¼Œå°±è¿”å›ž expr2 çš„å€¼ï¼Œå¦åˆ™è¿”å›ž expr1 çš„å€¼ã€‚ å¦‚æžœéœ€è¦æ ¹æ®ä¸€ä¸ª boolean è¡¨è¾¾å¼æ˜¯å¦ä¸º null æ¥ä½œä¸ºæ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ ??ï¼Œä¾‹å¦‚ï¼š String playerName(String name) =&gt; name ?? &#39;Guest&#39;;]]></content>
      <tags>
        <tag>Dart</tag>
        <tag>flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ðŸ˜ŽflutterçŽ¯å¢ƒæ­å»ºï¼ˆwindowï¼‰ðŸ¤”]]></title>
    <url>%2F2019%2F10%2F08%2Fflutter-windows%2F</url>
    <content type="text"><![CDATA[ðŸ˜ŽflutterçŽ¯å¢ƒæ­å»ºï¼ˆwindowï¼‰ðŸ¤”ðŸ¤£æ­å»º Android å¼€å‘çŽ¯å¢ƒ å…·ä½“çŽ¯å¢ƒæ­å»ºå‚è€ƒä½¿ç”¨react-nativeåŸºç¡€çŽ¯å¢ƒæ­å»º ðŸ˜é…ç½®flutterçŽ¯å¢ƒå˜é‡ æ‰“å¼€é«˜çº§ç³»ç»Ÿè®¾ç½® =&gt; é…ç½®çŽ¯å¢ƒå˜é‡ ç”¨æˆ·å˜é‡ä¸‹ï¼Œé€‰æ‹©æ–°å»ºçŽ¯å¢ƒå˜é‡ FLUTTER_STORAGE_BASE_URL https://storage.flutter-io.cn PUB_HOSTED_URL https://pub.flutter-io.cn Flutter SDK Flutter å¼€å‘éœ€è¦å®‰è£… Flutter SDKï¼Œè¿™é‡Œåªä»‹ç» Flutter SDK åœ¨ Windows è¿™ä¸ªå¹³å°ä¸Šçš„å®‰è£…è¿‡ç¨‹ã€‚ ä¸‹è½½ Flutter SDK ä½ å¯ä»¥åœ¨ Flutter SDK çš„ä¸‹è½½é¡µé¢ï¼Œé€‰æ‹©ä½ æƒ³è¦çš„ç‰ˆæœ¬ï¼Œä¸€èˆ¬é€‰æ‹©ç¨³å®šç‰ˆçš„ï¼Œç›®å‰æœ€æ–°çš„ç¨³å®šç‰ˆæ˜¯ v1.9.1+hotfix.2ã€‚ å°† Flutter SDK çš„ zip åŒ…è§£åŽ‹åˆ°ä¸€ä¸ªç›®å½•ä¸‹ï¼Œä¾‹å¦‚ E:\src\flutterï¼ˆç›®å½•éšæ„ï¼Œä½†æ˜¯ä¸è¦æ”¾åœ¨éœ€è¦æƒé™çš„ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ C:\Program Files\ ï¼‰ è®¾ç½® Flutter SDK çš„çŽ¯å¢ƒå˜é‡ è®¡ç®—æœº -&gt; å±žæ€§ -&gt; é«˜çº§ç³»ç»Ÿè®¾ç½® -&gt; çŽ¯å¢ƒå˜é‡ï¼Œæ‰“å¼€çŽ¯å¢ƒå˜é‡è®¾ç½®æ¡†ã€‚ åœ¨ç”¨æˆ·å˜é‡ä¸‹, å°† Flutter SDK çš„å®Œæ•´è·¯å¾„ E:\src\flutter\bin æ·»åŠ åˆ°[Path]å˜é‡ä¸Šã€‚ è¿è¡Œ flutter doctor ä¸ºäº†éªŒè¯ Flutter æ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨ cmd è¿è¡Œï¼š flutter doctor C:\Users\Administrator&gt;flutter doctor Doctor summary (to see all details, run flutter doctor -v): [âœ“] Flutter (Channel stable, v1.9.1-hotfix.2, on Microsoft Windows [Version 6.1.7601], locale zh-CN) [âœ“] Android toolchain - develop for Android devices (Android SDK 27.0.3) [âœ“] Android Studio (version 3.1) [!] Connected device ! No devices available ! Doctor found issues in 1 categories. å¯èƒ½ä¼šé‡åˆ°çš„æŠ¥é”™Some Android licenses not acceptedï¼ˆAndroidè¯ä¹¦çš„é—®é¢˜ï¼‰ è¿è¡Œ flutter doctor â€“android-licenses ä¿®æŠ¤ å¾—åˆ°X:\xxxxsdk\tool\bin\sdkmanager â€“update å¤åˆ¶è¿è¡Œ[ä¼šå‡ºçŽ°çš„æŠ¥é”™]] Exception in thread â€œmainâ€ java.lang.UnsupportedClassVersionError æŸ¥çœ‹Javaç‰ˆæœ¬ [å¦‚æžœJavaç‰ˆæœ¬å¤§äºŽ8,åŽ»ä¸‹è½½8ç‰ˆæœ¬çš„JavaåŒ…,ä¸‹è½½å®ŒæˆåŽ,å°†Javaçš„çŽ¯å¢ƒå˜é‡è¿›è¡Œæ›¿æ¢,å¹¶ä¸”Javaçš„çŽ¯å¢ƒå˜é‡è¦ä¼˜å…ˆäºŽflutter],ä¿®å¤å®ŒæˆåŽç»§ç»­è¿è¡ŒX:\xxxxsdk\tool\bin\sdkmanager â€“update Warning: An error occured during installation: Failed to move away or delete existing target file: Xç›˜:\androidSDK\sdk\tools æŠŠsdkä¸‹é¢çš„toolsæ–‡ä»¶å¤¹ï¼Œé‡å‘½åä¸€ä¸‹toolæˆ–è€…éšæ„ï¼Œç„¶åŽæ‰“å¼€cmdï¼Œå‰å¾€å…¶ç›®å½•ä¸‹çš„bin\sdkmanager æ‰§è¡Œâ€“updateï¼Œä¹Ÿå°±æ˜¯ä½ çš„X:\xxxxsdk\tool\bin\sdkmanager â€“updateï¼Œæ‰§è¡Œ è¿™é‡Œä¼šæœ‰è­¦å‘Šï¼Œä¹Ÿå°±æ˜¯ä½ åˆšåˆšé‡å‘½åäº†ï¼Œç»™ä½ æé†’ä¸€ä¸‹ï¼Œç›´æŽ¥å¿½ç•¥è­¦å‘Šç­‰å¾…å®Œæˆï¼Œè¿‡ç¨‹æœ‰ç‚¹ä¹…ï¼Œé€›é€›å°ç½‘ç«™ï¼Œè¯¥å¹²å˜›å¹²å˜› æœ€ç»ˆä¼šåœ¨åˆšåˆšçš„sdkç›®å½•ä¸‹ç”Ÿæˆæ–°çš„toolsæ–‡ä»¶å¤¹ï¼Œç„¶åŽè¦†ç›–åˆšåˆšé‡å‘½åçš„toolæ–‡ä»¶å¤¹é‡Œçš„å†…å®¹ï¼Œåˆ æŽ‰tools å°±æ˜¯æŠŠåˆšåˆšæ›´æ–°ä¸‹æ¥çš„toolsé‡Œé¢çš„ä¸œè¥¿copyåˆ°toolé‡ŒåŽ»ï¼Œç„¶åŽæŠ›å¼ƒå®ƒ æœ€åŽå†æ¬¡æ‰§è¡Œflutter doctor â€“android-licenses å¹¶ä¸”åœ¨æŒ‡ä»¤é‡Œè·³å‡ºæ¥çš„y/Né‚£é‡Œï¼Œå…¨éƒ¨é€‰y æœ€åŽæç¤ºæ‰€æœ‰çš„éƒ½æŽ¥å—äº†, é—®é¢˜åº”è¯¥è§£å†³äº†ã€‚ ðŸ¤‘å¦‚ä½•éˆæŽ¥æ¨¡æ“¬å™¨é€²è¡Œdebugé–‹ç™¼ é€™è£æˆ‘ä¸‹è¼‰çš„æ˜¯é€é™æ¨¡æ“¬å™¨ã€ðŸ‘„è¿›å…¥D:\Microvirt\MEmuæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰“å¼€cmdè¾“å…¥ä»¥ä¸‹ä»£ç ã€‘ adb connect 127.0.0.1:21503 å¯èƒ½é‡åˆ°çš„é—®é¢˜ æ‹’ç»è¿žæŽ¥ â€¼ â€¼ â€¼ ç¡®å®šå…¨å±€çš„adbç‰ˆæœ¬æ˜¯å¦ä¸Žé€é¥æ¨¡æ‹Ÿå™¨çš„adbç‰ˆæœ¬ä¸€è‡´ å¦‚æžœä¸ä¸€è‡´, å°†å…¨å±€å˜é‡ä»£è¡¨çš„adb.exeæ–‡ä»¶å¤åˆ¶åˆ°é€é¥æ¨¡æ‹Ÿå™¨ä¸­çš„adb.exeè¿›è¡Œæ›¿æ¢ ç‰ˆæœ¬ä¸€è‡´åŽ, ç»§ç»­æ‰§è¡Œadb connect 127.0.0.1:21503 å‡ºçŽ°successfully, è¡¨ç¤ºè¿žæŽ¥æˆåŠŸ ðŸ˜ä½¿ç”¨vscodeå¯åŠ¨é¡¹ç›®åˆ›å»º Flutter é¡¹ç›® åœ¨ VS Code ä¸­ï¼Œç‚¹å‡» View &gt; Command Paletteâ€¦ï¼Œæˆ–è€…å¿«æ·é”® Shift+cmd+P(MacOS) /Ctrl+Shift+P(Windowsã€Linux)ï¼Œæ‰“å¼€å‘½ä»¤é¢æ¿,è¾“å…¥ Flutter é€‰æ‹© Flutter: New Project,ä¼šå¼¹å‡ºå‡ºå…¥æ¡† ç„¶ä½ è¾“å…¥ Flutter å·¥ç¨‹çš„åå­—ï¼Œä½ å¯ä»¥è‡ªå·±èµ·ä¸€ä¸ªï¼Œä¾‹å¦‚ï¼š hello_worldã€‚è¾“å…¥ Flutter å·¥ç¨‹çš„åå­—åŽï¼Œå›žè½¦ï¼Œä¼šå¼¹å‡ºä¿å­˜æ–‡ä»¶çš„ç›®å½•åœ°å€,é€‰æ‹©å¥½ç­‰å¾…å³å¯ (å¤§çº¦1-2åˆ†é’Ÿ) ï¼š è¿è¡ŒFlutter APP VS Code æœ‰ä¸¤ç§æ–¹å¼è¿è¡Œ Flutter APPï¼š Start Debugging Start Without Debugging ðŸ˜±æŠ¥é”™( 1 ) Error running Gradle:ProcessException: Process â€œC:\Users\asus\Desktop\myflutter\android\gradlew.batâ€ exited abnormally:Starting a Gradle Daemon, 1 incompatible Daemon could not be reused, use â€“status for details ä¿®æ”¹ androidç›®å½•ä¸‹çš„build.gradleæ–‡ä»¶ï¼Œå°†google()å’Œjcenter()æ³¨é‡ŠæŽ‰ï¼Œæ–°åŠ å¦‚ä¸‹ä»£ç ï¼› buildscript { ext.kotlin_version = &#39;1.2.71&#39; repositories { // google() // jcenter() maven { url &#39;https://maven.aliyun.com/repository/google&#39; } maven { url &#39;https://maven.aliyun.com/repository/jcenter&#39; } maven { url &#39;http://maven.aliyun.com/nexus/content/groups/public&#39; } } dependencies { classpath &#39;com.android.tools.build:gradle:3.2.1&#39; classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; } } allprojects { repositories { // google() // jcenter() maven { url &#39;https://maven.aliyun.com/repository/google&#39; } maven { url &#39;https://maven.aliyun.com/repository/jcenter&#39; } maven { url &#39;http://maven.aliyun.com/nexus/content/groups/public&#39; } } } ä¿®æ”¹Flutter SDKåŒ…ä¸‹çš„ flutter.gradle æ–‡ä»¶ buildscript { repositories { // google() // jcenter() maven { url &#39;https://maven.aliyun.com/repository/google&#39; } maven { url &#39;https://maven.aliyun.com/repository/jcenter&#39; } maven { url &#39;http://maven.aliyun.com/nexus/content/groups/public&#39; } } dependencies { classpath &#39;com.android.tools.build:gradle:3.2.1&#39; } } ðŸ˜‡VSCode å¼€å‘ Flutter å¿…ç”¨æ’ä»¶ Flutter Widget Snippets //æä¾› Widget ä»£ç ç‰‡æ®µï¼Œ Awesome Flutter Snippets //æ’ä»¶æä¾›å¸¸ç”¨å‡½æ•°çš„ä»£ç ç‰‡æ®µã€‚ Bracket Pair Colorizer // é«˜äº®]]></content>
      <tags>
        <tag>Dart</tag>
        <tag>flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[node + koa2åŸºç¡€]]></title>
    <url>%2F2019%2F09%2F26%2Fkoa%2F</url>
    <content type="text"><![CDATA[node + koa2åŸºç¡€ ä½¿ç”¨koa2ï¼Œå¿…é¡»ä¿æŒä½ çš„nodeç‰ˆæœ¬åœ¨7.6ä»¥ä¸Šï¼Œæœ€å¥½å®žåœ¨10ä»¥ä¸Šï¼Œå¦‚ä½ŽäºŽ7.6ç‰ˆæœ¬è¯·æ›´æ–°æ‚¨çš„nodeç‰ˆæœ¬ æ­å»ºhttpæœåŠ¡+ ä½¿ç”¨koa2æ­å»ºæœåŠ¡ï¼Œåªéœ€è¦ä¸‰æ­¥ /index.js const Koa = require(&#39;koa&#39;) const app = new Koa() app.listen(3000) ä½¿ç”¨nodeå‘½ä»¤è¿è¡Œå³å¯ node index.js æ‰“å¼€æµè§ˆå™¨è¾“å…¥http://loaclhost:3000è®¿é—®ï¼Œé¡µé¢ä¸­ä¼šæ˜¾ç¤ºNot Foundï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰åŽ»æŒ‡å®škoaè¯¥è¿”å›žä»€ä¹ˆå†…å®¹ï¼Œè¿™ä¸€ç‚¹ä¸Žexpressä¸åŒï¼Œkoaå†…éƒ¨ä¼šè‡ªåŠ¨åˆ¤æ–­ï¼Œæ˜¯å¦æœ‰è¿”å›žå†…å®¹ Contextå¯¹è±¡koaå†…éƒ¨æä¾›äº†ä¸€ä¸ªContextå¯¹è±¡ï¼Œè¡¨ç¤ºä¸€æ¬¡å¯¹è¯çš„ä¸Šä¸‹æ–‡ã€åŒ…æ‹¬httpçš„è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡ã€‘ï¼Œé€šè¿‡æ“æŽ§è¿™ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥æŽ§åˆ¶è¿”å›žç»™ç”¨æˆ·çš„å†…å®¹ /index.js const Koa = require(&#39;koa&#39;) const app = new Koa() app.use(async (ctx, next) =&gt; { ctx.response.body = &#39;hello&#39; await next() }) app.listen(3000) è·¯ç”±ã€koa-routerã€‘çš„ä½¿ç”¨const router = require(&#39;koa-router&#39;)() const Koa = require(&#39;koa&#39;) const app = new Koa() router.get(&#39;/list&#39;, ctx =&gt; { ctx.response.body = &#39;hellow, list&#39; }) router.get(&#39;/home&#39;, ctx =&gt; { ctx.response.body = &#39;hellow, home&#39; }) app.use(router.routes()).use(router.allowedMethods()) // å¯åŠ¨è·¯ç”± ä¸­é—´ä»¶åº”ç”¨çº§åˆ«ä¸­é—´ä»¶ ä»»ä½•è·¯ç”±éƒ½ä¼šç»è¿‡åº”ç”¨çº§åˆ«ä¸­é—´ä»¶,å½“æ‰§è¡ŒçŽ©æˆåŽnext()åŽ»åŒ¹é…ç›¸åº”çš„è·¯ç”± app.use(async (ctx, next) =&gt; { await next() }) é”™è¯¯å¤„ç†ä¸­é—´ä»¶app.use(async (ctx, next) =&gt; { await next() if (ctx.status == 404) { ctx.body = &#39;404&#39; } }) è·¯ç”±ä¸­é—´ä»¶ åœ¨åŒ¹é…è·¯ç”±çš„è¿‡ç¨‹ä¸­åŒ¹é…åˆ°çš„è·¯ç”±ä¼šä¾æ¬¡æ‰§è¡Œä¸­é—´ä»¶,çŸ¥é“æœ€åŽä¸€ä¸ªæ²¡æœ‰nextå‚æ•° router.get(&#39;/&#39;, async (ctx, next) =&gt; { ctx.response.body = &#39;hellow&#39; ctx.response.status = 200 await next() }) router.get(&#39;/home&#39;, ctx =&gt; { ctx.body = &#39;hellow, world&#39; }) ä¸­é—´ä»¶çš„åˆæˆ koa-compose æ¨¡å—å¯ä»¥å°†å¤šä¸ªä¸­é—´ä»¶åˆæˆä¸ºä¸€ä¸ª const Koa = require(&#39;koa&#39;) const app = new Koa() const compose = require(&#39;koa-compose&#39;) const logger = (ctx,next) =&gt; { console.log(new Date()) next() } const main = (ctx,next) =&gt; { ctx.response.body = &#39;hello world&#39; } const middleWares = compose([logger,main]) app.use(middleWares) app.listen(3000) xtemplateæ¨¡æ¿æ¸²æŸ“ã€koa-xtplã€‘app.use(xtpl({ root: path.join(__dirname, &#39;template&#39;), // èŽ·å–åˆ°æ¨¡æ¿æ‰€åœ¨çš„æ–‡ä»¶å¤¹ extname: &#39;xtpl&#39;, // æ¨¡æ¿åŽç¼€ commands: {} })) æ–°å»ºtemplate/login/index.xtplï¼ˆæ¨¡æ¿å¿…é¡»ä»¥xtplåŽç¼€ç»“å°¾ï¼‰ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;åŽå°ç®¡ç†ç³»ç»Ÿ&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;container-fluid&quot;&gt; hellow, world &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; æ‰“å¼€index.js router.get(&#39;/&#39;, async (ctx, next) =&gt; { await ctx.render(&#39;login/index&#39;, { title: new Date() }) await next() }) è¿è¡Œå°±å¯ä»¥çœ‹åˆ°é¡µé¢ä¸­å‡ºçŽ° hellow, world é™æ€èµ„æº å¦‚æžœç½‘ç«™æä¾›äº†é™æ€èµ„æºï¼ˆå›¾ç‰‡ï¼Œå­—ä½“ï¼Œæ ·å¼ï¼Œè„šæœ¬ï¼‰ï¼Œä¸ºä»–ä»¬ä¸€ä¸ªä¸ªå†™è·¯ç”±å°±å¾ˆéº»çƒ¦ï¼Œä¹Ÿæ²¡å¿…è¦ koa-static æ¨¡å—å°è£…äº†è¿™éƒ¨åˆ†çš„è¯·æ±‚ const Koa = require(&#39;koa&#39;) const app = new Koa() const serve = require(&#39;koa-static&#39;) const path = require(&#39;path&#39;) const main = serve(path.join(__dirname)) app.use(main) app.listen(3000) è®¾ç½®ä¹‹åŽå¯ä»¥ç›´æŽ¥åœ¨URLåœ°å€ä¸­è¾“å…¥é™æ€èµ„æºæ–‡ä»¶åè¿›è¡Œè®¿é—®]]></content>
      <tags>
        <tag>node</tag>
        <tag>koa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodeç®€å•çš„åŽ‹ç¼©/è§£åŽ‹ç¼©]]></title>
    <url>%2F2019%2F08%2F10%2Fnode_zip%2F</url>
    <content type="text"><![CDATA[nodeç®€å•çš„åŽ‹ç¼©/è§£åŽ‹ç¼© ä¸ºäº†å‡å°‘ç½‘ç»œä¼ è¾“æ•°æ®é‡ï¼Œhttpä¼ è¾“è¿‡ç¨‹ä¸­ä¼šé‡‡ç”¨é€šç”¨çš„åŽ‹ç¼©ç®—æ³•æ¥åŽ‹ç¼©æ•°æ®ï¼Œgzipå±žäºŽæœ€å¸¸ç”¨çš„åŽ‹ç¼©ç®—æ³•ã€‚ åŽ‹ç¼©æ–‡ä»¶//åŽ‹ç¼©æ–‡ä»¶ let zlib=require(&quot;zlib&quot;) let fs=require(&quot;fs&quot;) var gzip=zlib.createGzip() let rs=fs.createReadStream(&#39;./copy.js&#39;) let ws=fs.createWriteStream(&#39;./copy.js.gz&#39;) re.pipe(gzip).pipe.(ws) è§£åŽ‹æ–‡ä»¶//è§£åŽ‹æ–‡ä»¶ let zlib=require(&quot;zlib&quot;) let fs=require(&quot;fs&quot;) var gzip=zlib.createGzip() let rs=fs.createReadStream(&#39;./copy.js.gz&#39;) let ws=fs.createWriteStream(&#39;./copy.js&#39;) re.pipe(gzip).pipe.(ws) æœåŠ¡ç«¯çš„gzipåŽ‹ç¼©//æœåŠ¡ç«¯çš„gzipåŽ‹ç¼© //å…ˆèµ·ä¸€ä¸ªæœåŠ¡ï¼Œåˆ¤æ–­req.headers[&#39;accept-encoding&#39;]æ˜¯å¦åŒ…å«gzip let server=http.createServer(function(req,res){ console.log(req) var zp=req.headers[[&#39;accept-encoding&#39;]] console.log(zp) if(zp.indexOf(&#39;gzip&#39;)!=-1){//åˆ¤æ–­æ˜¯å¦éœ€è¦gzipåŽ‹ç¼© var gzip = zlib.createGzip(); res.writeHead(200, {//è®°å¾—å“åº” Content-Encodingï¼Œå‘Šè¯‰æµè§ˆå™¨ï¼šæ–‡ä»¶è¢« gzip åŽ‹ç¼©è¿‡ &#39;Content-Encoding&#39;: &#39;gzip&#39; }); let ws=fs.createWriteStream(&quot;./cop.js.gz&quot;) fs.createReadStream(&quot;./cop.js&quot;).pipe(gzip).pipe(ws); }else{ fs.createReadStream(&quot;./cop.js&quot;).pipe(res); } res.end() }).listen(3000)]]></content>
      <tags>
        <tag>js</tag>
        <tag>node</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Hook]]></title>
    <url>%2F2019%2F08%2F08%2FHooks%2F</url>
    <content type="text"><![CDATA[Hookæœ‰çŠ¶æ€çš„ç»„ä»¶æ²¡æœ‰æ¸²æŸ“ï¼Œæœ‰æ¸²æŸ“çš„ç»„ä»¶æ²¡æœ‰çŠ¶æ€ã€‚åœ¨çŽ°åœ¨å›žè¿‡å¤´æ¥çœ‹ï¼Œè¿™ä¸ªåŽŸåˆ™ä¼šä¸ºæˆ‘ä»¬åŽç»­å‘Hooksçš„è¿ç§»æä¾›éžå¸¸å¤§çš„ä¾¿åˆ©ã€‚ ðŸ”¥ Hookç®€ä»‹ Hookæ˜¯react16.8çš„æ–°å¢žç‰¹æ€§ï¼Œå¯ä»¥åœ¨ä¸ç¼–å†™classç±»çš„æƒ…å†µä¸‹ä½¿ç”¨stateä»¥åŠreactçš„å…¶ä»–ç‰¹æ€§React Hooksè¦è§£å†³çš„é—®é¢˜æ˜¯çŠ¶æ€å…±äº«ï¼Œä¸ä¼šäº§ç”ŸjsxåµŒå¥—é—®é¢˜ ðŸ† Hooksçš„è¿è¡Œè§„åˆ™ ä¸èƒ½å†å¾ªçŽ¯ä¸­ï¼Œæ¡ä»¶è¯­å¥å’ŒåµŒå¥—å‡½æ•°ä¸­è°ƒç”¨hooks åªåœ¨reactä¸­å‡½æ•°ç»„ä»¶ä¸­çš„hooks ðŸŒŸ React Hooksçš„ç‰¹ç‚¹ å¤šä¸ªçŠ¶æ€ä¸ä¼šäº§ç”ŸåµŒå¥— Hooksè¿˜å¯ä»¥å¼•ç”¨å…¶ä»–Hooks æ›´å®¹æ˜“ã€æ›´æ¸…æ™°ã€‘å°†ç»„ä»¶çš„UIå’ŒçŠ¶æ€è¿›è¡Œåˆ†ç¦» Hookså‡½æ•°å¿…é¡»ä½¿ç”¨â€˜useâ€™å‘½åå¼€å¤´ ðŸ“Œ State Hook import React, { useState } from &#39;react&#39;; function Example() { // å£°æ˜Žä¸€ä¸ªå« â€œcountâ€ çš„ state å˜é‡ã€‚ const [count, setCount] = useState(0); // ä½¿ç”¨useStateæ¥å®šä¹‰state [å‚æ•°åå­—, æ”¹å˜å‚æ•°çš„æ–¹æ³•] // ä¹Ÿå¯ä»¥å¤šä¸ªå£°æ˜Žstate ã€ä½†æ˜¯å¿…é¡»ä¿è¯è°ƒç”¨çš„é¡ºåºä¸€æ ·ã€‘ const [tods, settods] = useState(&#39;this is count&#39;) return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); } å‡½æ•°ç»„ä»¶ä¼šæœ‰ç‰¹æ®Šçš„å¤„ç†æ–¹å¼ åœ¨renderé˜¶æ®µï¼Œå†å°†å‡½æ•°Fiberå†…å®¹çš„å®žä¾‹åŒ–çš„æ—¶å€™åŽ»å¤„ç†å…¨å±€ä¸­çš„Hookså¯¹è±¡çš„æŒ‡å‘ æœ€ç»ˆuserStateæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•°mountStateåŽ»è®¾ç½®stateçš„stringif åœ¨mountStateä¼šå¯¹ä¼ å…¥çš„å‚æ•°å¦‚æžœæ˜¯å‡½æ•°ä¼šå¯¹å…¶å…ˆæ‰§è¡Œï¼Œå¾—å‡ºè¿”å›žå€¼åœ¨ç»§ç»­è¿è¡Œ åœ¨mountStateä¸­ä¼šåˆ›å»ºä¸€ä¸ªé—­åŒ…äº‹ä»¶ï¼Œå°†å½“å‰çš„Hooksæ‰€åœ¨çš„FiberèŠ‚ç‚¹ä»¥åŠHooksé˜Ÿåˆ—å¯¹è±¡ä½œä¸ºå‚æ•°ç»‘å®šåœ¨å‡½æ•°ï¼Œå¹¶è¿”å›ž0 âš¡ï¸ Effect Hook useEffect ç»™å‡½æ•°ç»„ä»¶æ·»åŠ å‰¯ä½œç”¨ï¼Œä»–å’Œclassç»„ä»¶ä¸­çš„componentDidMountã€componentDidUpdate å’Œ componentWillUnmountå…·æœ‰ç›¸åŒçš„ç”¨é€” å®žçŽ°componentDidMount å‰¯ä½œç”¨å‡½æ•° useEffect(() =&gt; { // ä½¿ç”¨æµè§ˆå™¨çš„ API æ›´æ–°é¡µé¢æ ‡é¢˜ document.title = `You clicked ${count} times`; }); å®žçŽ°componentDidUpdate å‰¯ä½œç”¨å‡½æ•° useEffect(() =&gt; { // ä½¿ç”¨æµè§ˆå™¨çš„ API æ›´æ–°é¡µé¢æ ‡é¢˜ document.title = `You clicked ${count} times`; }, [count]); // åªåœ¨countå‘ç”Ÿæ”¹å˜çš„æƒ…å†µä¸‹è°ƒç”¨ å®žçŽ°componentWillUnmount å‰¯ä½œç”¨å‡½æ•° useEffect(() =&gt; { // ä½¿ç”¨æµè§ˆå™¨çš„ API æ›´æ–°é¡µé¢æ ‡é¢˜ document.title = `You clicked ${count} times`; return () =&gt; { // æ¸…é™¤å‰¯ä½œç”¨æ“ä½œ } }); userEffectçš„æ‰§è¡Œæ—¶æœºéƒ½å‘ç”Ÿåœ¨æ¯æ¬¡æ¸²æŸ“ä¹‹åŽï¼Œæ— è®ºé¦–æ¬¡æ¸²æŸ“è¿˜æ˜¯æ›´æ–°æ¸²æŸ“ userEffectåªæœ‰åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œï¼Œä¸èƒ½å†éžå‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œ userEffectå¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå¤šæ¬¡ï¼Œæ˜¯æŒ‰è°ƒç”¨é¡ºåºæ‰§è¡Œçš„ userEffectä¼ å…¥çš„å‡½æ•°ï¼Œreturnæ˜¯åœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œçš„ userEffectçš„æ‰§è¡Œï¼Œæ˜¯ç”±ä»–çš„ç¬¬äºŒå‚æ•°æ¥æŽ§åˆ¶çš„ï¼Œè€Œä¸”ç¬¬äºŒçš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œreactä¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ä¸Žä¸Šæ¬¡çš„æ•°ç»„è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœä¸åŒï¼Œåˆ™æ‰ä¼šåŽ»æ‰§è¡Œå‡½æ•° userEffecté‡‡ç”¨çš„æ˜¯å¼‚æ­¥çš„æ–¹æ¡ˆæ‰§è¡Œï¼Œç±»ä¼¼äºŽjsä¸­çš„setTimeoutï¼Œå°†userEffectè¿›è¡Œå¼‚æ­¥æ‰§è¡Œ å®žç”¨ä¹‹å¤„ å†å®žçŽ°é‡å¤çš„æ•°æ®è¯·æ±‚ä¸­ä½¿ç”¨ function getData() { const [data, setdata] = useState(null) useEffect(() =&gt; { axios(&#39;/a/b&#39;).then(res =&gt; { setdata(res.data) }) }, []) return data } // åœ¨åˆ«çš„å‡½æ•°ç»„ä»¶ä¸­ç›´æŽ¥è°ƒç”¨å³å¯èŽ·å–åˆ°æ•°æ®ã€å½“ç„¶åŠ å…¥ç¬¬äºŒå‚æ•°æ˜¯ä¸ºäº†é˜²æ­¢æ•°æ®æ›´æ–°çš„æ—¶å€™å†æ¬¡è§¦çŠ¯è¯·æ±‚æ•°æ®æ‰§è¡Œã€‘ã€çµæ´» çš„å†™æ³•æœ‰å¾ˆå¤šç§ã€‘ ðŸ” æ³¨æ„äº‹é¡¹ ä¸å¯ä»¥åœ¨hooksä¸­ä½¿ç”¨æ¡ä»¶è¯­å¥ã€ä¼šå½±å“hooksçš„è°ƒç”¨è§„åˆ™ï¼ˆé¡ºåºï¼‰ã€‘ï¼Œä¼šå¯¼è‡´è°ƒç”¨æ··ä¹±ï¼Œäº§ç”Ÿbug å¦‚æžœæˆ‘ä»¬æƒ³æ‰§è¡Œä¸€ä¸ªåˆ¤æ–­å¯ä»¥å°†å…¶æ”¾åœ¨å†…éƒ¨æ¥ä½¿ç”¨ useEffect(() =&gt; { // å°†æ¡ä»¶è¯­å¥æ”¾ç½®åœ¨hooksä¸­ if (val != &#39;&#39;) { document.title = val } }) æˆ‘ä»¬å¯ä»¥åŽ»è‡ªå®šä¹‰hooksï¼Œä½†æˆ‘ä»¬è‡ªå®šä¹‰çš„hookså¿…é¡»ä»¥useå¼€å¤´ï¼Œè¿™æ˜¯ä¸€ç§çº¦å®šï¼Œå®ƒå¯ä»¥è¯†åˆ«æˆ‘ä»¬æ˜¯å¦éµå¾ªäº†è§„èŒƒï¼Œä»–æ˜¯hooksçš„è§„èŒƒï¼Œä¸æ˜¯reactçš„ ðŸ’• useContentå¯ä»¥ä½¿ç”¨useContextè¿›è¡Œè·¨ç»„ä»¶ä¼ å€¼ // çˆ¶ç»„ä»¶ import React, {useState} from &#39;react&#39; export const myContent = React.createContext(null) function Content() { const [val, setval] = useState(myContent) return ( &lt;&gt; &lt;input val = {val} onChange((e) =&gt; {setval(e.target.value)})/&gt; &lt;myContent.Provider&gt; &lt;Ptemp&gt;&lt;/Ptemp&gt; &lt;myContent.Provider&gt; &lt;/&gt; ) } export default Content // å­ç»„ä»¶ import React, {useContext} from &#39;react&#39; import {myContent} from &#39;./home&#39; function Ptemp() { const val = useContext(myContent) return ( &lt;&gt; &lt;p&gt;{val}&lt;/p&gt; &lt;/&gt; ) } ðŸ­ useReducer**useReduceræ˜¯useStateçš„å¦ä¸€ç§æ›¿ä»£ï¼Œä»–æŽ¥æ”¶(state, action) =&gt; newState, å¹¶ä¸”è¿”å›žäº†ä¸€ä¸ªä¸Žå½“å‰stateæˆå¯¹çš„dispatchæ–¹æ³• ä¾‹1ï¼šæœ€å°çš„ç®€å•æ¨¡å¼ã€è®¡æ•°å™¨ã€‘ reducer.ts export const initialState = 0 const renducer = (state, action) =&gt; { switch(action) { case &#39;count&#39;: console.log(state) return state + 1 } } export default renducer PgReducer.tsx import React, {useState, useReducer} from &#39;react&#39; import renducer, {initialState} from &#39;../../renducer/expamel&#39; function testRenducer() { const [count, dispatch] = useReducer(renducer, initialState) return ( &lt;&gt; &lt;p&gt;{count}&lt;/p&gt; &lt;p onClick={() =&gt; {dispatch(&#39;count&#39;)}}&gt;+&lt;/p&gt; &lt;/&gt; ) } export default testRenducer âš½ useRefuseRefè¿”å›žä¸€ä¸ªå¯å˜çš„refå¯¹è±¡å…¶.currentå±žæ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥å‚æ•°ï¼Œè¿”å›žçš„refå¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ å¸¸è§çš„å°±æ˜¯è®¿é—®å­ç»„ä»¶ èŽ·å–ä¸€äº›domå…ƒç´ çš„å‚æ•° import React, { useState, useRef, useEffect } from &#39;react&#39; function PgRef() { const ulRef = useRef(null) useEffect(() =&gt; { console.log(ulRef.current.offsetHeight) }) return ( &lt;&gt; &lt;p className=&#39;testP&#39; ref={ulRef}&gt;&lt;/p&gt; &lt;/&gt; ) } export default PgRef ðŸ¹ åŽŸç†å®žçŽ°ðŸ”¨ useStateé¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹useStateçš„è°ƒç”¨æ–¹å¼ const [count, setCount] = useState(0) å®žçŽ° let memoizedState = [] // memoizedStateå­˜å‚¨çŠ¶æ€çš„æ•°ç»„ let curson = 0 // å½“å‰memoizedStateçš„ä¸‹æ ‡ function useState(ininvalState) { memoizedState[curson] = memoizedState[curson] || ininvalState function setState(newState) { memoizedState[curson] = newState render() } return [memoizedState[curson++], setState] // æ¯ä¸ªhooksè°ƒç”¨éƒ½ä¼šé€’å¢žcurson, ä»Žå½“å‰ç»„ä»¶ä¸­å–å‡ºçŠ¶æ€ } åªæ˜¯ç®€å• çš„å®žçŽ°äº†ä¸€ä¸‹useStateã€useStateè¿™ä¸ªhooksè¿™åŽå°ä½¿ç”¨useReducerï¼Œä»–çš„è¿”å›žç»“æžœå…¶å®žå·²ç»æ˜¯ReducerçŠ¶æ€ã€‘ ðŸ”¨ useEffecté¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹useEffectçš„è°ƒç”¨æ–¹å¼ useEffect(() =&gt; { console.log(count) }, [count]) å®žçŽ° useEffectå­˜åœ¨ä¸¤ä¸ªå‚æ•°ï¼ˆcallback, depæ•°ç»„ï¼‰ï¼Œå¦‚æžœdepæ•°ç»„ä¸å­˜åœ¨çš„è¯ï¼Œæ¯æ¬¡renderå‡½æ•°æ‰§è¡ŒåŽï¼Œéƒ½ä¼šåŽ»æ‰§è¡Œcallbackå‡½æ•°ï¼Œå¦‚æžœdepæ•°ç»„å­˜åœ¨çš„æ—¶å€™ï¼Œå½“depå‘ç”Ÿæ”¹å˜çš„æ—¶å€™callbackæ‰ä¼šåŽ»æ‰§è¡Œ let memoizedState = []; // hooks å­˜æ”¾åœ¨è¿™ä¸ªæ•°ç»„ let cursor = 0; // å½“å‰ memoizedState ä¸‹æ ‡ function useEffect(callback, dep) { const hasDeps = !dep // æ˜¯å¦æœ‰depæ•°ç»„ const deps = memoizedState[cursor] const hasChangeDeps = deps ? !dep.every((el, i ) =&gt; el === deps[i]) : true if (hasDeps || hasChangeDeps) { callback(); memoizedState[cursor] = dep } cursor++; } åªæ˜¯ç®€å• çš„å®žçŽ°äº†ä¸€ä¸‹useEffect, åœ¨reactè°ƒç”¨ä¼šæœ‰è‡ªå·±çš„è°ƒç”¨æœºåˆ¶reactä¸­æ˜¯é€šè¿‡å•é“¾è¡¨çš„æ–¹å¼æ¥ä»£æ›¿æ•°ç»„çš„ï¼Œé€šè¿‡nextæ¥ä¸²è”æ‰€æœ‰çš„hooksçš„ ðŸ”« åŽŸç†é“¾æŽ¥ https://juejin.im/post/5c99a75af265da60ef635898#commentðŸ›¡ Hooksé˜Ÿåˆ— åœ¨åˆæ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œä»–çš„åˆå§‹çŠ¶æ€ä¼šè¢«åˆ›å»º ä»–çš„çŠ¶æ€å¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™è¿›è¡Œæ›´æ”¹ reactå¯ä»¥åœ¨åŽç»­çš„æ¸²æŸ“ä¸­è®°ä½hooksçš„çŠ¶æ€ reactå¯ä»¥æ ¹æ®è°ƒç”¨çš„é¡ºåºæä¾›ç»™ä½ æ­£ç¡®çš„çŠ¶æ€ reactçŸ¥é“å½“å‰çš„hookså±žäºŽå“ªä¸ªéƒ¨åˆ†]]></content>
      <tags>
        <tag>react</tag>
        <tag>hooks</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React-Nativeå¡«å‘ä¹‹åˆ é™¤ç¬¬ä¸‰æ–¹å¼€æºç»„ä»¶çš„ä¾èµ–åŒ…]]></title>
    <url>%2F2019%2F05%2F24%2Freact-native%20unlink%2F</url>
    <content type="text"><![CDATA[React-Nativeå¡«å‘ä¹‹åˆ é™¤ç¬¬ä¸‰æ–¹å¼€æºç»„ä»¶çš„ä¾èµ–åŒ…ä»Šå¤©é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼šä¸‹è½½äº†react-native-webviewçš„å¼€æºç»„ä»¶ï¼Œå¯æ˜¯åœ¨Androidä¸­é‡åˆ°äº†é—®é¢˜ï¼Œç¼–è¯‘ä¸é€šè¿‡ï¼Œæˆ‘æƒ³åˆ é™¤è¿™ä¸ªç»„ä»¶ï¼Œç„¶åŽå†™å…¶ä»–çš„åŠŸèƒ½ï¼Œä»¥åŽå†æ·»åŠ è¿™ä¸ªåœ°å›¾åŠŸèƒ½ï¼Œå¯æ˜¯å‘çŽ°æ— æ³•åˆ é™¤å¹²å‡€ï¼Œandroidå’ŒiosåŽŸç”Ÿéƒ½ç¼–è¯‘å¤±è´¥ã€‚å°±è¿™ä¸ªé—®é¢˜ç ”ç©¶äº†ä¸‹ï¼ŒçŽ°å°†æ–¹æ³•å¸è½½ä¸‹é¢ï¼š npm uninstall -s -D -O react-native-webview è¿›å…¥Androidç›®å½•ï¼Œæ‰¾åˆ°setting.gradleæ–‡ä»¶ åˆ é™¤æ‰€æœ‰æœ‰å…³è¯¥åŒ…çš„ä¾èµ– ç„¶åŽè¿›å…¥android/appç›®å½•ä¸‹ï¼Œæ‰“å¼€build.gradle åˆ é™¤æ‰€æœ‰æœ‰å…³è¯¥åŒ…çš„ä¾èµ– æ‰“å¼€android/app/src/main/java/com/åŒ…å/MainApplication.java, åˆ é™¤æ‰€æœ‰æœ‰å…³è¯¥åŒ…çš„ä¾èµ– ç„¶åŽç»ˆç«¯è¿è¡Œ npm install react-native run-android æˆåŠŸï¼ï¼ï¼]]></content>
      <tags>
        <tag>react-native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨react-nativeåŸºç¡€çŽ¯å¢ƒæ­å»º]]></title>
    <url>%2F2019%2F05%2F22%2Freact-native-windows%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨react-nativeåŸºç¡€çŽ¯å¢ƒæ­å»ºAndroid Studioå¼€å‘windowçŽ¯å¢ƒæ­å»ºAndroid å¼€å‘çŽ¯å¢ƒæ­å»ºä¸‹è½½jdk åœ¨è¿™é‡Œä½ å¯ä»¥ç‚¹å‡»é“¾æŽ¥åŽ»ä¸‹è½½ æ“ä½œæ­¥éª¤æŒ‰ç…§ä¸‹å›¾è¿›è¡Œæ“ä½œ ç‚¹è¿›åŽ»ä»¥åŽæ˜¯è¿™ä¹ˆä¸ªé¡µé¢ å‚»ç“œå¼æ“ä½œ æŽ¥ä¸‹æ¥æ˜¯é…ç½®çŽ¯å¢ƒå˜é‡ å°å¨œæœç´¢ å˜é‡åï¼šJAVA_HOMEå˜é‡å€¼ï¼šå½“ç„¶æ˜¯ä½ å®‰è£…çš„jdkç›®å½•äº† ç¼–è¾‘Pathå˜é‡å€¼ åœ¨Pathå€¼çš„å‰å¤´åŠ ä¸Š %JAVA_HOME%\bin; CLASSPATHå˜é‡ çœ‹ä¸€ä¸‹å¦‚æžœä½ çš„ç³»ç»Ÿå˜é‡ä¸­æ²¡æœ‰CLASSPATHå˜é‡ï¼Œå°±æ–°å»ºä¸€ä¸ªè¾“å…¥å˜é‡å€¼ .;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar; æµ‹è¯• å¥½äº†ï¼ŒçŽ°åœ¨æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬çš„çŽ¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸ â€œå¼€å§‹â€â€“â€œcmdâ€æ‰“å¼€æˆ‘ä»¬çš„doså‘½äº†çª—å£è¾“å…¥ javac å®‰è£…Android Studioåœ°å€ï¼š http://www.android-studio.org/ çŽ°åœ¨çš„å®‰è£…åŒ…ä¸€èˆ¬æ²¡æœ‰sdkå®‰è£…ï¼Œç›´æŽ¥ä¸‹ä¸€æ­¥ï¼Œä¸è¦æ…Œ æˆåŠŸå®‰è£…åŽï¼Œ Android Studioé…ç½®åŠ è½½æœ¬åœ°é…ç½®ä¿¡æ¯æç¤º åˆšå¼€å§‹æ‰“å¼€çš„æ—¶å€™ä¼šé—®æˆ‘ä»¬æ˜¯å¦åŠ è½½æœ¬åœ°çš„é…ç½®ä¿¡æ¯ï¼Œå…¶å®žå°±æ˜¯android studioçš„é…ç½®çŽ¯å¢ƒä¿¡æ¯ç­‰ï¼Œå¦‚æžœä½ ä»¥å‰æ²¡æœ‰ç”¨è¿‡ï¼Œå¿½ç•¥æŽ‰å°±å¥½äº†ã€‚ç›´æŽ¥æŒ‰é»˜è®¤çš„ç‚¹okå¯åŠ¨android studio æŽ¥ä¸‹æ¥å¦‚æžœè¿˜æœ‰ï¼Œç›´æŽ¥Cancel è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦sdk é™„ä¸Šé“¾æŽ¥https://www.androiddevtools.cn/ å®‰è£…å®Œä»¥åŽæ˜¯è¿™ä¸ªæ ·å­ è®¾ç½®sdkçš„çŽ¯å¢ƒå˜é‡ è®¾ç½®adbçŽ¯å¢ƒå˜é‡ã€ç”¨æ¥é“¾æŽ¥æ‰‹æœºï¼Œè¿™é‡Œä¸è¿‡å¤šé˜è¿°ã€‘ éªŒè¯ åŸºç¡€çŽ¯å¢ƒä»¥æ­å»ºå®Œæˆ è¿™é‡Œéœ€è¦ç€é‡å¼ºè°ƒå¿…é¡»nodeç‰ˆæœ¬ä¸º10ä»¥ä¸Š å¦‚ä½•å®‰è£…nodeå°±ä¸éƒ½åœ¨è¿‡å¤šé˜è¿° å®‰è£… react-native-cli npm install -g react-native-cli å®‰è£…å®ŒæˆåŽï¼Œé€šè¿‡ react-native-cli -v æŸ¥çœ‹ç‰ˆæœ¬ï¼Œç¡®å®šæ˜¯å¦å®‰è£…æˆåŠŸ åˆå§‹åŒ–é¡¹ç›®åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼Œé€šè¿‡å‘½ä»¤è¡Œåˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ï¼š react-native init NewProject éšåŽå¼€å§‹åˆå§‹åŒ–é¡¹ç›®ï¼Œä¸‹è½½èµ„æºï¼š è¿è¡Œé¡¹ç›® æ¥åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œé€šè¿‡è¾“å…¥å¦‚ä¸‹å‘½ä»¤æ¥è¿è¡Œé¡¹ç›®ï¼š react-native run-android è¾“å…¥å‘½ä»¤åŽï¼Œé¡¹ç›®å¼€å§‹åˆå§‹åŒ–è¿è¡Œï¼Œè¿è¡Œè¿‡ç¨‹ä¸­ä¼šæ‰“å¼€ä¸€ä¸ª node æœåŠ¡çª—å£ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ç„¶åŽé‡æ–°è¾“å…¥å‘½ä»¤ react-native run-android æ¥åˆå§‹åŒ–è¿è¡Œé¡¹ç›®ï¼Œç¨‹åºé¦–å…ˆä¼šè§£åŽ‹ gradle åŽ‹ç¼©æ–‡ä»¶ï¼Œç¬¬ä¸€æ¬¡åˆå§‹åŒ–å¯èƒ½éœ€è¦ä¸€ç‚¹æ—¶é—´ï¼š åˆå§‹åŒ–å®ŒæˆåŽï¼Œé¡¹ç›®è¿è¡ŒæˆåŠŸï¼Œå¯ä»¥åœ¨æ‰‹æœºä¸Šçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š åˆ°çŽ°åœ¨ä¸ºæ­¢ï¼Œä¸€ä¸ªçŽ¯å¢ƒå°±æ­å»ºå®Œæˆäº†ï¼Œä¸­è¿˜æœ‰å°‘è®¸æŒ«æŠ˜ï¼Œä½†æ˜¯è¿˜æ˜¯æˆåŠŸäº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚]]></content>
      <tags>
        <tag>react-native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tsçš„å­¦ä¹ åŽ†ç¨‹ -- 02]]></title>
    <url>%2F2019%2F05%2F16%2Fts-02%2F</url>
    <content type="text"><![CDATA[tsçš„å­¦ä¹ åŽ†ç¨‹ â€“ 02tsæŽ¥å£tsçš„æ ¸å¿ƒåŽŸåˆ™ä¹‹ä¸€æ˜¯å¯¹è¯¥å€¼æ‰€å¯¹åº”çš„æ•°æ®ç±»åž‹è¿›è¡Œä¸€ä¸ªæ£€æµ‹ ä½œç”¨ï¼šä¸ºä½ è§„å®šçš„è¿™äº›ç±»åž‹å‘½åï¼Œã€ç­¾è®¢å¥‘çº¦ã€‘ /** * é€šè¿‡tså¯¹å‡½æ•°çš„å‚æ•°è¿›è¡Œæ£€æµ‹ */ function lable(lable: {lable: string}){ console.log(lable) } let lables = { lable: &#39;storing&#39;, mine: 1 } lable(lables) å¯¹å‚æ•°lableè¿›è¡Œæ£€æµ‹ï¼Œå¿…é¡»åŒ…æ‹¬ä¸€ä¸ªlableå±žæ€§ï¼Œå¹¶ä¸”å€¼ä¸ºstringç±»åž‹ ä½¿ç”¨æŽ¥å£è¿›è¡Œæè¿° interface lableV { lable: string; } function lable(lable: lableV){ console.log(lable) } let lables = { lable: &#39;storing&#39;, mine: 1 } lable(lables) lableVæ­¤æŽ¥å£å°±ç›¸å½“äºŽä¸€ä¸ªåå­—ï¼Œç”¨æ¥æè¿°å‚æ•°çš„è¦æ±‚ã€å®ƒä»£è¡¨äº†æœ‰ä¸€ä¸ªlabelå±žæ€§ä¸”ç±»åž‹ä¸ºstringçš„å¯¹è±¡ã€‘ å¯é€‰å±žæ€§ æŽ¥å£é‡Œé¢çš„å±žæ€§ä¸å…¨æ˜¯å¿…é¡»çš„ï¼Œæ ¹æ®é¡µé¢éœ€æ±‚ï¼Œæœ‰äº›å‚æ•°å¯ä¼ å¯ä¸ä¼ ï¼š interface lableV { lable?: string; mine?: number } function lable(lable: lableV){ console.log(lable) } let lables = { lable: &#39;storing&#39;, mine: 1 } lable(lables) åªè¯»å±žæ€§ä¸€äº›å¯¹è±¡å±žæ€§åªèƒ½åœ¨å¯¹è±¡åˆ›å»ºçš„æ—¶å€™è¿›è¡Œåˆ›å»ºçš„æ—¶å€™ä¿®æ”¹ä»–çš„å€¼ï¼Œä½ å¯ä»¥ä½¿ç”¨readonlyæŒ‡å®šåªè¯»å±žæ€§ interface lableV { readonly a?: string; readonly b?: number } let str: lableV = { a: &#39;1&#39;, b: 1 } str.a = 1 // æŠ¥é”™ ã€‚ Cannot assign to &#39;a&#39; because it is a read-only property.ts(2540) ç¡®ä¿åˆ›å»ºå®Œä»¥åŽä¸èƒ½å†ä¿®æ”¹ typeScriptå…·æœ‰ReadonlyArrayç±»åž‹ï¼Œå®ƒä¸ŽArrayç›¸ä¼¼ï¼Œåªæ˜¯æŠŠæ‰€æœ‰å¯å˜æ–¹æ³•åŽ»æŽ‰äº†ï¼Œå› æ­¤å¯ä»¥ç¡®ä¿æ•°ç»„åˆ›å»ºåŽå†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼š let a: number[] = [1, 2, 3, 4]; let ro: ReadonlyArray&lt;number&gt; = a; ro[0] = 12; // error! ç±»åž‹â€œreadonly number[]â€ä¸­çš„ç´¢å¼•ç­¾åä»…å…è®¸è¯»å–ã€‚ts(2542) ro.push(5); // error! ç±»åž‹â€œreadonly number[]â€ä¸Šä¸å­˜åœ¨å±žæ€§â€œpushâ€ã€‚ts(2339) ro.length = 100; // error! Cannot assign to &#39;length&#39; because it is a read-only property.ts(2540) a = ro; // error! Type &#39;readonly number[]&#39; is missing the following properties from type &#39;number[]&#39;: pop, push, reverse, shift, and 6 more.ts(2740) || //ä½¿ç”¨ç±»åž‹æ–­è¨€é‡å†™ a = ro as number[]; æœ€ç®€å•åˆ¤æ–­è¯¥ç”¨readonlyè¿˜æ˜¯constçš„æ–¹æ³•æ˜¯çœ‹è¦æŠŠå®ƒåšä¸ºå˜é‡ä½¿ç”¨è¿˜æ˜¯åšä¸ºä¸€ä¸ªå±žæ€§ã€‚ åšä¸ºå˜é‡ä½¿ç”¨çš„è¯ç”¨constï¼Œè‹¥åšä¸ºå±žæ€§åˆ™ä½¿ç”¨readonlyã€‚ é¢å¤–çš„å±žæ€§æ£€æµ‹å½“æˆ‘ä»¬åœ¨ä¼ å‚çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºŽæŸä¸ªå±žæ€§ï¼Œå†™é”™çš„æ—¶å€™ï¼Œå¦‚ä¸‹ interface lableV { lable?: string; mine?: number; maxs: number; } function lable(lable: lableV){ console.log(lable) } let lables = { lable: &#39;storing&#39;, mine: 1, max: 20, min: 10, array: [1,2,3,5] } lable(lables) //ç±»åž‹â€œ{ lable: string; mine: number; max: number; min: number; array: number[]; }â€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»åž‹â€œlableVâ€çš„å‚æ•°ã€‚ //Property &#39;maxs&#39; is missing in type &#39;{ lable: string; mine: number; max: number; min: number; array: number[]; }&#39; but required in type &#39;lableV&#39;.ts(2345) //type.ts(50, 5): &#39;maxs&#39; is declared here åœ¨jsä¸­æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æžœä¼ é€’çš„å‚æ•°åœ¨å‡½æ•°ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œåˆ™å¯ä»¥æ­£ç¡®æ‰§è¡Œï¼Œä½†æ˜¯åœ¨tsä¸­ä¼šè®¤ä¸ºè¿™æ®µä»£ç å­˜åœ¨bugï¼Œæœ€ä½³çš„è§£å†³æ–¹æ³•å¦‚ä¸‹ interface SquareConfig { color?: string; width?: number; [propName: string]: any; } å‡½æ•°ç±»åž‹æŽ¥å£ä¹Ÿå¯ä»¥ç”¨æ¥æè¿°å‡½æ•°ç±»åž‹ interface SearchFunc { (source: string, subString: string): boolean; } let mySearch: SearchFunc; mySearch = function(source: string, subString: string) { let result = source.search(subString); return result &gt; -1; } //ä¸èƒ½å°†ç±»åž‹â€œ(source: string, subString: string) =&gt; stringâ€åˆ†é…ç»™ç±»åž‹â€œSearchFuncâ€ã€‚ //ä¸èƒ½å°†ç±»åž‹â€œstringâ€åˆ†é…ç»™ç±»åž‹â€œbooleanâ€ã€‚ts(2322) SearchFunc è¯¥æŽ¥å£è§„å®šäº†å‡½æ•°çš„å‚æ•°ç±»åž‹ï¼Œä»¥åŠè¯¥å‡½æ•°çš„è¿”å›žå€¼ï¼Œå¦‚æžœä¸ŽæŽ¥å£ä¸­å®šä¹‰çš„ä¸åŒ¹é…ï¼Œåˆ™ä¼šå‡ºé”™ å¯ç´¢å¼•ç±»åž‹æŽ¥å£å¯ä»¥æè¿°é‚£äº›èƒ½å¤Ÿé€šè¿‡ç´¢å¼•å¾—åˆ°çš„ç±»åž‹ï¼Œå¯ç´¢å¼•ç±»åž‹å…·æœ‰ä¸€ä¸ªç´¢å¼•ç­¾åï¼Œå®ƒæè¿°äº†å¯¹è±¡ç´¢å¼•çš„ç±»åž‹ï¼Œè¿˜æœ‰ç›¸åº”çš„ç´¢å¼•å€¼ç±»åž‹ï¼Œç´¢å¼•ç­¾åæ”¯æŒä¸¤ç§ç±»åž‹ï¼šnumber å’Œ stringï¼Œä½†æ˜¯ç”±äºŽ number å®žé™…ä¸Šä¼šè¢«è½¬åŒ–ä¸º string ç±»åž‹ï¼ˆæ ¹æ®å¯¹è±¡ key çš„æ€§è´¨ï¼‰ï¼Œæ‰€ä»¥éœ€è¦éµå®ˆï¼šnumber ç´¢å¼•çš„è¿”å›žå€¼ç±»åž‹æ˜¯ string ç´¢å¼•çš„è¿”å›žå€¼ç±»åž‹çš„å­ç±»åž‹ã€‚ interface IPerson { [index: string]: string; } let me: IPerson = {love: &#39;TS&#39;} me.name = &#39;funlee&#39;; me.age = 18; // error ä¸èƒ½å°†ç±»åž‹â€œ18â€åˆ†é…ç»™ç±»åž‹â€œstringâ€ã€‚ts(2322) å¦‚æžœ interface é‡Œè¿˜å£°æ˜Žäº†ä¸€ä¸ªå’Œç´¢å¼•ç­¾åç´¢å¼•è¿”å›žå€¼ç±»åž‹ä¸åŒ¹é…çš„å±žæ€§ï¼Œä¼šæŠ¥é”™ interface ITest { [index: string]: string; name: string; age: 18; // æŠ¥é”™ï¼Œå› ä¸ºè¿”å›žå€¼ç±»åž‹æ˜¯numberï¼Œä¸ç¬¦åˆstringç±»åž‹ [ç±»åž‹â€œ18â€çš„å±žæ€§â€œageâ€ä¸èƒ½èµ‹ç»™å­—ç¬¦ä¸²ç´¢å¼•ç±»åž‹â€œstringâ€ã€‚ts(2411)] } è¿˜å¯ä»¥å£°æ˜Žä¸€ä¸ª readonly çš„ç´¢å¼•ç­¾å interface IPerson { readonly [index: string]: string; } let p: IPerson = {name: &#39;funlee&#39;}; p.love = &#39;TS&#39;; // error ç±»åž‹â€œIPersonâ€ä¸­çš„ç´¢å¼•ç­¾åä»…å…è®¸è¯»å–ã€‚ts(2542) ç±»ç±»åž‹typeScriptä¹Ÿå¯ä»¥ä½¿ç”¨classæ¥å®žçŽ°ä¸€ä¸ªæŽ¥å£ï¼Œåªä¸è¿‡ä»–æè¿°å¾—æ˜¯ç±»çš„å…¬å…±éƒ¨åˆ†ï¼Œå› æ­¤ä¸ä¼šæ£€æŸ¥ç±»æ˜¯å¦å…·æœ‰æŸäº›ç§æœ‰æˆå‘˜ interface ISome { prop: string // æè¿°ä¸€ä¸ªå±žæ€§ method(paramA: string, paramB: number) // æè¿°ä¸€ä¸ªæ–¹æ³• } class A implements ISome { prop: &#39;propValue&#39; method(a: string, b: number) { // ... } constructor(paramA: number){ // ... } } ç»§æ‰¿æŽ¥å£å’Œç±»ä¸€æ ·ï¼ŒæŽ¥å£ä¹Ÿå¯ä»¥äº’ç›¸ç»§æ‰¿ interface Shape { color: string; } interface Square extends Shape { sideLength: number; } const square = &lt;Square&gt;{}; square.color = &#39;blue&#39;; square.sideLength = 10; åŒæ—¶ï¼Œä¸€ä¸ªæŽ¥å£ä¹Ÿå¯ä»¥ç»§æ‰¿å¤šä¸ªæŽ¥å£ï¼Œåˆ›å»ºå‡ºå¤šä¸ªæŽ¥å£çš„åˆæˆæŽ¥å£ï¼Œå¦‚ï¼š interface Shape { color: string; } interface PenStroke { penWidth: number; } interface Square extends Shape, PenStroke { sideLength } const square = &lt;Square&gt;{}; square.color = &#39;blue&#39;; square.sideLength = 10; square.penWidth = 5.0;]]></content>
      <tags>
        <tag>ts</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tsçš„å­¦ä¹ åŽ†ç¨‹ -- 01]]></title>
    <url>%2F2019%2F05%2F10%2Fts-01%2F</url>
    <content type="text"><![CDATA[tsçš„å­¦ä¹ åŽ†ç¨‹ â€“ 01tsæ˜¯ä»€ä¹ˆï¼Ÿ TypeScript æ˜¯ JavaScript çš„ä¸€ä¸ªè¶…é›†ï¼Œæ”¯æŒ ECMAScript 6 æ ‡å‡†ã€‚ TypeScript ç”±å¾®è½¯å¼€å‘çš„è‡ªç”±å’Œå¼€æºçš„ç¼–ç¨‹è¯­è¨€ã€‚ TypeScript è®¾è®¡ç›®æ ‡æ˜¯å¼€å‘å¤§åž‹åº”ç”¨ï¼Œå®ƒå¯ä»¥ç¼–è¯‘æˆçº¯ JavaScriptï¼Œç¼–è¯‘å‡ºæ¥çš„ JavaScript å¯ä»¥è¿è¡Œåœ¨ä»»ä½•æµè§ˆå™¨ä¸Šã€‚ è¯­è¨€ç‰¹æ€§tsæ˜¯ä¸€ç§ç»™jsæ·»åŠ ç‰¹æ€§çš„æ‰©å±•æ€§è¯­è¨€ï¼Œæ‰©å±•åŠŸèƒ½å¦‚ä¸‹ï¼š åŸºç¡€ç±»åž‹ æŽ¥å£ ç±» å‡½æ•° æ³›åž‹ ç±»åž‹å…¼å®¹æ€§ é«˜çº§ç±»åž‹ æ¨¡å— å‘½åç©ºé—´ æ··å…¥ åŸºç¡€ç±»åž‹jsæ˜¯å¼±è¯­è¨€ç±»åž‹ï¼Œè€Œtsç±»ä¼¼c++è¿™ç§å¼ºè¯­è¨€ï¼Œå¯ä»¥å¯¹å˜é‡è¿›è¡Œå¤„ç†ï¼Œè§„å®šå˜é‡çš„ç±»åž‹ï¼Œè®©ç¨‹åºå˜å¾—å¯ç»´æŠ¤æ€§å¼ºï¼Œæœ‰ä»·å€¼ã€‚å¸ƒå°”å€¼æˆ‘ä»¬å¯ä»¥åœ¨tsä¸­è¿›è¡Œå¦‚ä¸‹å£°æ˜Žï¼š let isDone: boolean = false æ•°å­—å’Œjsä¸€æ ·ï¼Œtsä¸­çš„æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ï¼Œç±»åž‹ä¸ºnumber. let num: number = 6 å­—ç¬¦ä¸²let str: string = &quot;26&quot; æ•°ç»„æœ‰ä¸¤ç§å¯ä»¥å®šä¹‰æ•°ç»„çš„æ–¹å¼ let list: number[] = [1, 2, 3] // è¡¨ç¤ºç”±æ­¤ç±»åž‹å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ let list: Array&lt;number&gt; = [1, 2, 3] // ä½¿ç”¨æ•°ç»„æ³›åž‹Array&lt;å…ƒç´ ç±»åž‹&gt; å…ƒç»„ Tupleå…ƒç»„ç±»åž‹è¡¨ç¤ºå…è®¸ä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»åž‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»åž‹ä¸å¿…ç›¸åŒ let x: [string, number]; x = [&#39;hello&#39;, 10]; æžšä¸¾ enumç±»åž‹æ˜¯å¯¹JavaScriptæ ‡å‡†æ•°æ®ç±»åž‹çš„ä¸€ä¸ªè¡¥å…… enum Color {Red, Green, Blue} let c: Color = Color.Green; é»˜è®¤æƒ…å†µä¸‹ï¼Œä»Ž0å¼€å§‹ä¸ºå…ƒç´ ç¼–å·ã€‚ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„æŒ‡å®šæˆå‘˜çš„æ•°å€¼ enum Color {Red = 1, Green, Blue} let c: Color = Color.Green; æˆ–è€…ï¼Œå…¨éƒ¨éƒ½é‡‡ç”¨æ‰‹åŠ¨èµ‹å€¼ï¼š enum Color {Red = 1, Green = 2, Blue = 4} let c: Color = Color.Green; æžšä¸¾ç±»åž‹æä¾›çš„ä¸€ä¸ªä¾¿åˆ©æ˜¯ä½ å¯ä»¥ç”±æžšä¸¾çš„å€¼å¾—åˆ°å®ƒçš„åå­— enum Color {Red = 1, Green, Blue} let colorName: string = Color[2]; // Green ä»»æ„å€¼ anyæœ‰çš„æ—¶å€™æˆ‘ä»¬æˆ–è®¸è¿˜ä¸çŸ¥åˆ°è¯¥å˜é‡åˆ°åº•è¯¥èµ‹ä»€ä¹ˆç±»åž‹çš„å€¼ï¼Œæ¯”å¦‚å¯¹è±¡ let notSure: any = 4; å½“ä½ åªçŸ¥é“ä¸€éƒ¨åˆ†æ•°æ®çš„ç±»åž‹æ—¶ï¼Œanyç±»åž‹ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚ æ¯”å¦‚ï¼Œä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†ä¸åŒçš„ç±»åž‹çš„æ•°æ®ï¼š let list: any[] = [1, true, &quot;free&quot;]; list[1] = 100; ç©ºå€¼ voidä½ å¯ä»¥ç†è§£ä¸ºå’Œanyç›¸åçš„ç±»åž‹ï¼Œä»–è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»åž‹ function warnUser(): void { alert(&quot;This is my warning message&quot;); } åœ¨å£°æ˜Žå˜é‡çš„æ—¶å€™ï¼Œä½ åªèƒ½èµ‹äºˆå®ƒundefinedå’Œnull let unusable: void = undefined; ||æˆ– let unusable: void = null; Null å’Œ Undefinedundefinedå’Œnullä¸¤è€…å„è‡ªæœ‰è‡ªå·±çš„ç±»åž‹åˆ†åˆ«å«åšundefinedå’Œnullã€‚ å’Œvoidç›¸ä¼¼ let u: undefined = undefined; let n: null = null; Neverneverç±»åž‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»åž‹ã€‚ è¿”å›žneverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹ function infiniteLoop(): never { while (true) { } } ç±»åž‹æ–­è¨€æœ‰çš„æ—¶å€™ä¼šæˆ–è®¸æ›´äº†è§£ä½ çš„ä¸€äº›å˜é‡ã€ä¸¤ç§å†™æ³•ã€‘ å°–æ‹¬å· let someValue: any = &quot;this is a string&quot;; let strLength: number = (&lt;string&gt;someValue).length; asè¯­æ³• let someValue: any = &quot;this is a string&quot;; let strLength: number = (someValue as string).length; ï¼è¡¨ç¤ºéžnullçš„æ„æ€ æœ‰æ—¶å€™èŽ·å–çš„èŠ‚ç‚¹æœ‰å¯èƒ½ä¸ºnullï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ˜Žç¡®çš„ä½¿ç”¨tsè¡¨è¾¾è‡ªå·±çš„æ„å‘ï¼Œæ˜Žç¡®è‡ªå·±æƒ³è¦çš„å€¼ const a = document.getElementById(&#39;id&#39;)!]]></content>
      <tags>
        <tag>ts</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ajax]]></title>
    <url>%2F2019%2F04%2F05%2Fajax-task%2F</url>
    <content type="text"><![CDATA[ajaxä»€ä¹ˆæ˜¯ajax?AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚Ajax æ˜¯ä¸€ç§ç”¨äºŽåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚Ajax æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚ä¼ ç»Ÿçš„ç½‘é¡µï¼ˆä¸ä½¿ç”¨ Ajaxï¼‰å¦‚æžœéœ€è¦æ›´æ–°å†…å®¹ï¼Œå¿…é¡»é‡è½½æ•´ä¸ªç½‘é¡µé¡µé¢ã€‚ åŽŸç”Ÿjs ajaxè¯·æ±‚æœ‰å‡ ä¸ªæ­¥éª¤ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆ//åˆ›å»º XMLHttpRequest å¯¹è±¡ var ajax = new XMLHttpRequest(); //è§„å®šè¯·æ±‚çš„ç±»åž‹ã€URL ä»¥åŠæ˜¯å¦å¼‚æ­¥å¤„ç†è¯·æ±‚ã€‚ ajax.open(&#39;GET&#39;,url,true); //å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨æ—¶å†…å®¹ç¼–ç ç±»åž‹ ajax.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;); //å‘é€è¯·æ±‚ ajax.send(null); //æŽ¥å—æœåŠ¡å™¨å“åº”æ•°æ® ajax.onreadystatechange = function () { if (ajax.readyState == 4 &amp;&amp; (ajax.status == 200 || ajax.status == 304)) { } }; ajaxå‡ ç§è¯·æ±‚æ–¹å¼ï¼Ÿä»–ä»¬çš„ä¼˜ç¼ºç‚¹ï¼Ÿå¸¸ç”¨çš„post,get,deleteã€‚ // ä»£ç ä¸Šçš„åŒºåˆ« 1: geté€šè¿‡urlä¼ é€’å‚æ•° 2: postè®¾ç½®è¯·æ±‚å¤´ è§„å®šè¯·æ±‚æ•°æ®ç±»åž‹ // ä½¿ç”¨ä¸Šçš„åŒºåˆ« 1: postæ¯”getå®‰å…¨(å› ä¸ºpostå‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ã€‚getå‚æ•°åœ¨urlä¸Šé¢) 2: getä¼ è¾“é€Ÿåº¦æ¯”postå¿« æ ¹æ®ä¼ å‚å†³å®šçš„ã€‚ (posté€šè¿‡è¯·æ±‚ä½“ä¼ å‚ï¼ŒåŽå°é€šè¿‡æ•°æ®æµæŽ¥æ”¶ã€‚é€Ÿåº¦ç¨å¾®æ…¢ä¸€äº›ã€‚è€Œgeté€šè¿‡urlä¼ å‚å¯ä»¥ç›´æŽ¥èŽ·å–) 3: postä¼ è¾“æ–‡ä»¶å¤§ç†è®ºæ²¡æœ‰é™åˆ¶ getä¼ è¾“æ–‡ä»¶å°å¤§æ¦‚7-8k ie4kå·¦å³ 4: getèŽ·å–æ•°æ® postä¸Šä¼ æ•°æ®(ä¸Šä¼ çš„æ•°æ®æ¯”è¾ƒå¤š è€Œä¸”ä¸Šä¼ æ•°æ®éƒ½æ˜¯é‡è¦æ•°æ®ã€‚æ‰€ä»¥ä¸è®ºåœ¨å®‰å…¨æ€§è¿˜æ˜¯æ•°æ®é‡çº§ postæ˜¯æœ€å¥½çš„é€‰æ‹©) ä¼˜ç‚¹ï¼š 1.å‡è½»æœåŠ¡å™¨çš„è´Ÿæ‹…,æŒ‰éœ€å–æ•°æ®,æœ€å¤§ç¨‹åº¦çš„å‡å°‘å†—ä½™è¯·æ±‚ 2.å±€éƒ¨åˆ·æ–°é¡µé¢,å‡å°‘ç”¨æˆ·å¿ƒç†å’Œå®žé™…çš„ç­‰å¾…æ—¶é—´,å¸¦æ¥æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ 3.åŸºäºŽxmlæ ‡å‡†åŒ–,å¹¶è¢«å¹¿æ³›æ”¯æŒ,ä¸éœ€å®‰è£…æ’ä»¶ç­‰,è¿›ä¸€æ­¥ä¿ƒè¿›é¡µé¢å’Œæ•°æ®çš„åˆ†ç¦» ç¼ºç‚¹ï¼š 1.AJAXå¤§é‡çš„ä½¿ç”¨äº†javascriptå’Œajaxå¼•æ“Ž,è¿™äº›å–å†³äºŽæµè§ˆå™¨çš„æ”¯æŒ.åœ¨ç¼–å†™çš„æ—¶å€™è€ƒè™‘å¯¹æµè§ˆå™¨çš„å…¼å®¹æ€§. 2.AJAXåªæ˜¯å±€éƒ¨åˆ·æ–°,æ‰€ä»¥é¡µé¢çš„åŽé€€æŒ‰é’®æ˜¯æ²¡æœ‰ç”¨çš„. 3.å¯¹æµåª’ä½“è¿˜æœ‰ç§»åŠ¨è®¾å¤‡çš„æ”¯æŒä¸æ˜¯å¤ªå¥½ç­‰ è¯·æ±‚å¤´ï¼šheader(&#39;Access-Control-Allow-Origin:*&#39;); //æ”¯æŒå…¨åŸŸåè®¿é—®ï¼Œä¸å®‰å…¨ï¼Œéƒ¨ç½²åŽéœ€è¦å›ºå®šé™åˆ¶ä¸ºå®¢æˆ·ç«¯ç½‘å€ header(&#39;Access-Control-Allow-Methods:POST,GET,OPTIONS,DELETE&#39;); //æ”¯æŒçš„http åŠ¨ä½œ header(&#39;Access-Control-Allow-Headers:x-requested-with,content-type&#39;); //å“åº”å¤´ è¯·æŒ‰ç…§è‡ªå·±éœ€æ±‚æ·»åŠ ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react-redux]]></title>
    <url>%2F2019%2F04%2F05%2Fredux%2F</url>
    <content type="text"><![CDATA[react-reduxä¸ºä»€ä¹ˆéœ€è¦reduxå­¦è¿‡reactçš„éƒ½çŸ¥é“ï¼Œreactç”¨stateå’ŒpropsæŽ§åˆ¶ç»„ä»¶çš„æ¸²æŸ“æƒ…å†µï¼Œè€Œå¯¹äºŽJavaScriptå•é¡µé¢æ—¥è¶‹å¤æ‚çš„ä»Šå¤©ï¼ŒJavaScriptéœ€è¦ç®¡ç†è¶Šæ¥è¶Šå¤šçš„stateï¼Œè€Œè¿™äº›stateåŒ…æ‹¬ç€å„ç§ä¹±ä¸ƒå…«ç³Ÿé€”å¾„æ¥çš„æ•°æ®ã€‚ç”šè‡³æœ‰çš„åº”ç”¨çš„stateä¼šå…³ç³»åˆ°å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€ã€‚æ‰€ä»¥ä¸ºäº†æ–¹ä¾¿å¯¹è¿™äº›stateçš„ç®¡ç†ä»¥åŠå¯¹stateå˜åŒ–çš„å¯æŽ§æ€§ã€‚è¿™ä¸ªæ—¶å€™Reduxè¿™ä¸ªä¸œè¥¿å°±å‡ºæ¥äº†ï¼Œå®ƒå¯ä»¥è®©stateçš„å˜åŒ–å˜å¾—å¯é¢„æµ‹ã€‚ Reduxçš„åŸºæœ¬æ¦‚å¿µä»€ä¹ˆæ˜¯reduxï¼Ÿè¿™é‡Œéžæƒå¨çš„è§£é‡Šï¼šå°±æ˜¯ä¸€ä¸ªåº”ç”¨çš„stateç®¡ç†åº“ï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯å‰ç«¯æ•°æ®åº“ã€‚æ›´åŒ…æ‹¬çš„æ˜¯ç®¡ç†æ•°æ®ã€‚ statestateæ˜¯æ•´ä¸ªåº”ç”¨çš„æ•°æ®ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ã€‚ actionæ•°æ®stateå·²ç»æœ‰äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•å®žçŽ°ç®¡ç†è¿™äº›stateä¸­çš„æ•°æ®çš„å‘¢ï¼Ÿé‚£å°±æ˜¯actionï¼Œä»€ä¹ˆæ˜¯actionï¼ŸæŒ‰å­—é¢æ„æ€è§£é‡Šå°±æ˜¯åŠ¨ä½œï¼Œä¹Ÿå¯ä»¥ç†è§£æˆï¼Œä¸€ä¸ªå¯èƒ½ï¼æ”¹å˜stateçš„åŠ¨ä½œåŒ…è£…ã€‚å°±è¿™ä¹ˆç®€å•ã€‚ã€‚ã€‚ã€‚ æ¯”å¦‚æœ‰ä¸€ä¸ªcounteræ•°é‡åŠ å‡åº”ç”¨ï¼Œæˆ‘ä»¬å°±æœ‰ä¸¤ä¸ªactionï¼Œä¸€ä¸ªdecrementï¼Œä¸€ä¸ªincrementã€‚ æ‰€ä»¥è¿™é‡Œçš„action creatorå†™æˆå¦‚ä¸‹ï¼š export function decrement() { return{ type:DECREMENT_COUNTER } } export function increment(){ return{ type:INCREMENT_COUNTER } } é‚£ä¹ˆï¼Œå½“actionåˆ›å»ºå®Œæˆäº†ä¹‹åŽå‘¢ï¼Œæˆ‘ä»¬æ€Žä¹ˆè§¦å‘è¿™äº›actionå‘¢ï¼Œè¿™æ—¶æˆ‘ä»¬æ˜¯è¦åˆ©ç”¨dispatchï¼Œæ¯”å¦‚æˆ‘ä»¬æ‰§è¡Œcountå¢žå‡å‡å°‘åŠ¨ä½œã€‚ export function incrementIfOdd(){ return(dispatch,getState)=&gt;{ const {counter} = getState(); if(counter%2==0) { return; } dispatch(increment()); } } export function incrementAsync() { return dispatch =&gt; { setTimeout(() =&gt; { dispatch(increment()); }, 1000); }; } ä¸ºäº†å‡å°‘æ ·æ¿ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨å•ç‹¬çš„æ¨¡å—æˆ–æ–‡ä»¶æ¥å®šä¹‰ action type å¸¸é‡ export const INCREMENT_COUNTER = &#39;INCREMENT_COUNTER&#39;; export const DECREMENT_COUNTER = &#39;DECREMENT_COUNTER&#39;; è¿™ä¹ˆåšä¸æ˜¯å¿…é¡»çš„ï¼Œåœ¨å¤§åž‹åº”ç”¨ä¸­æŠŠå®ƒä»¬æ˜¾å¼åœ°å®šä¹‰æˆå¸¸é‡è¿˜æ˜¯åˆ©å¤§äºŽå¼Šçš„ã€‚ reduceræ—¢ç„¶è¿™ä¸ªå¯èƒ½æ”¹å˜stateçš„åŠ¨ä½œå·²ç»åŒ…è£…å¥½äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€Žä¹ˆåŽ»åˆ¤æ–­å¹¶ä¸”å¯¹stateåšç›¸åº”çš„æ”¹å˜å‘¢ï¼Ÿå¯¹ï¼Œè¿™å°±æ˜¯reducerå¹²çš„äº‹æƒ…äº†ã€‚ reduceræ˜¯stateæœ€ç»ˆæ ¼å¼çš„ç¡®å®šã€‚å®ƒæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä¼ å…¥å‚æ•°ç›¸åŒï¼Œè¿”å›žè®¡ç®—å¾—åˆ°çš„ä¸‹ä¸€ä¸ª state å°±ä¸€å®šç›¸åŒã€‚æ²¡æœ‰ç‰¹æ®Šæƒ…å†µã€æ²¡æœ‰å‰¯ä½œç”¨ï¼Œæ²¡æœ‰ API è¯·æ±‚ã€æ²¡æœ‰å˜é‡ä¿®æ”¹ï¼Œå•çº¯æ‰§è¡Œè®¡ç®—ã€‚ reducerå¯¹ä¼ å…¥çš„actionè¿›è¡Œåˆ¤æ–­ï¼Œç„¶åŽè¿”å›žä¸€ä¸ªé€šè¿‡åˆ¤æ–­åŽçš„stateï¼Œè¿™å°±æ˜¯reducerçš„å…¨éƒ¨èŒè´£ã€‚å¦‚æˆ‘ä»¬çš„counteråº”ç”¨ï¼š import {INCREMENT_COUNTER,DECREMENT_COUNTER} from &#39;../actions&#39;; export default function counter(state = 0, action) { switch (action.type){ case INCREMENT_COUNTER: return state+1; case DECREMENT_COUNTER: return state-1; default: return state; } } å¯¹äºŽä¸€ä¸ªæ¯”è¾ƒå¤§ä¸€ç‚¹çš„åº”ç”¨æ¥è¯´ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦å°†reduceræ‹†åˆ†çš„ï¼Œæœ€åŽé€šè¿‡reduxæä¾›çš„combineReducersæ–¹æ³•ç»„åˆåˆ°ä¸€èµ·ã€‚ å¦‚æ­¤é¡¹ç›®ä¸Šçš„ï¼š const rootReducer = combineReducers({ counter }); export default rootReducer; æ¯ä¸ªreduceråªè´Ÿè´£ç®¡ç†å…¨å±€stateä¸­å®ƒè´Ÿè´£çš„ä¸€éƒ¨åˆ†ã€‚æ¯ä¸ªreducerçš„stateå‚æ•°éƒ½ä¸åŒï¼Œåˆ†åˆ«å¯¹åº”å®ƒç®¡ç†çš„é‚£éƒ¨åˆ†stateæ•°æ®ã€‚combineReducers()æ‰€åšçš„åªæ˜¯ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥è°ƒç”¨ä½ çš„ä¸€ç³»åˆ—reducerï¼Œæ¯ä¸ªreduceræ ¹æ®å®ƒä»¬çš„keyæ¥ç­›é€‰å‡ºstateä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®å¹¶å¤„ç†ï¼Œ ç„¶åŽè¿™ä¸ªç”Ÿæˆçš„å‡½æ•°å†å°†æ‰€æœ‰reducerçš„ç»“æžœåˆå¹¶æˆä¸€ä¸ªå¤§çš„å¯¹è±¡ã€‚ storestoreæ˜¯å¯¹ä¹‹å‰è¯´åˆ°ä¸€ä¸ªè”ç³»å’Œç®¡ç†ã€‚å…·æœ‰å¦‚ä¸‹èŒè´£ ç»´æŒåº”ç”¨çš„stateï¼› æä¾›getState()æ–¹æ³•èŽ·å– state æä¾›dispatch(action)æ–¹æ³•æ›´æ–° stateï¼› é€šè¿‡subscribe(listener)æ³¨å†Œç›‘å¬å™¨; é€šè¿‡subscribe(listener)è¿”å›žçš„å‡½æ•°æ³¨é”€ç›‘å¬å™¨ã€‚ å¼ºè°ƒä¸€ä¸‹ Redux åº”ç”¨åªæœ‰ä¸€ä¸ªå•ä¸€çš„storeã€‚å½“éœ€è¦æ‹†åˆ†æ•°æ®å¤„ç†é€»è¾‘æ—¶ï¼Œä½ åº”è¯¥ä½¿ç”¨reducerç»„åˆ,è€Œä¸æ˜¯åˆ›å»ºå¤šä¸ªstoreã€‚storeçš„åˆ›å»ºé€šè¿‡reduxçš„createStoreæ–¹æ³•åˆ›å»ºï¼Œè¿™ä¸ªæ–¹æ³•è¿˜éœ€è¦ä¼ å…¥reducerï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼šæ¯•ç«Ÿæˆ‘éœ€è¦dispatchä¸€ä¸ªactionæ¥æ”¹å˜stateå˜›ã€‚ åº”ç”¨ä¸€èˆ¬ä¼šæœ‰ä¸€ä¸ªåˆå§‹åŒ–çš„stateï¼Œæ‰€ä»¥å¯é€‰ä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°é€šå¸¸æ˜¯æœ‰æœåŠ¡ç«¯æä¾›çš„ï¼Œä¼ è¯´ä¸­çš„Universalæ¸²æŸ“ã€‚ ç¬¬ä¸‰ä¸ªå‚æ•°ä¸€èˆ¬æ˜¯éœ€è¦ä½¿ç”¨çš„ä¸­é—´ä»¶ï¼Œé€šè¿‡applyMiddlewareä¼ å…¥ã€‚ redux-thunkä¸€ä¸ªæ¯”è¾ƒæµè¡Œçš„reduxçš„actionä¸­é—´ä»¶ï¼Œå®ƒå¯ä»¥è®©actionCreatoræš‚æ—¶ä¸è¿”å›žactionå¯¹è±¡ï¼Œè€Œæ˜¯è¿”å›žä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¼ é€’ä¸¤ä¸ªå‚æ•°(dispatch, getState)ï¼Œåœ¨å‡½æ•°ä½“å†…è¿›è¡Œä¸šåŠ¡é€»è¾‘çš„å°è£…ï¼Œæ¯”å¦‚å¼‚æ­¥æ“ä½œï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦è§¦å‘ä¸¤ä¸ªactionï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡redux-thunkå°†è¿™ä¸¤ä¸ªactionå°è£…åœ¨ä¸€èµ·ï¼Œå¦‚ä¸‹ï¼š store.js import { createStore, applyMiddleware } from &quot;redux&quot;; import RankReducer from &quot;./reducers/reducer&quot; import thunk from &quot;redux-thunk&quot;; const store = createStore(RankReducer, applyMiddleware(thunk)); export default store reducer.jsx const defaultState = { rankList: [] } const RankReducer = (state = defaultState, action) =&gt; { const { type, layload } = action; switch (type) { case &quot;UPDATE&quot;: return { ...state, rankList: layload } default: return state; } } export default RankReducer; rank.js import axios from &quot;axios&quot; export function updata(layload){ return function(dispatch){ return axios.get(&quot;/getrankList&quot;).then(result=&gt;{ return dispatch({ type:&quot;UPDATA&quot;, layload:result.data.data }) }) } } index.jsx import {updata} from &quot;../../store/action/rank&quot; const mapdispatchToprops=(dispatch)=&gt;{ return { updata(){ dispatch(updata()) }, add(layload){ dispatch({ type:&quot;ADD&quot;, layload:layload }) } } } react-reduxreduxå’Œreactçš„æ¡¥æ¢å·¥å…·ã€‚ index.js import React from &#39;react&#39;; import ReactDOM from &#39;react-dom&#39;; import &quot;./common/css/index.css&quot; import App from &#39;../src/containers/app&#39;; import {Provider} from &quot;react-redux&quot; import {store} from &quot;./store/store&quot; ReactDOM.render( &lt;Provider store={store}&gt; &lt;App /&gt; &lt;/Provider&gt; ,document.getElementById(&#39;root&#39;) ); home.js import React from &quot;react&quot; import {connect} from &quot;react-redux&quot; class Home extends React.Component{ } const mapstateToprops=(state)=&gt;{ return state } const mapdispatchToprops=(dispatch)=&gt;{ return { updata(){ dispatch(updata()) }, add(layload){ dispatch({ type:&quot;ADD&quot;, layload:layload }) } } } export default connect(mapstateToprops,mapdispatchToprops)(Home) redux-sagaä¸Šé¢ä»‹ç»äº†redux-thunkæ˜¯å¼‚æ­¥æ“ä½œçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œä»–çš„å‡½æ•°å†…éƒ¨æ¯”è¾ƒå¤æ‚ï¼Œå¦‚æžœéœ€è¦æ¯ä¸ªå¼‚æ­¥æ“ä½œéƒ½å®šä¹‰ä¸€ä¸ªactionçš„è¯ï¼Œæ˜¾ç„¶æ˜¯ä¸æ˜“ç»´æŠ¤çš„ redux-sagaçš„APIredux-sagaæ˜¯é€šè¿‡ES6ä¸­çš„generatorå®žçŽ°çš„ï¼ˆbabelçš„åŸºç¡€ç‰ˆæœ¬ä¸åŒ…å«generatorè¯­æ³•ï¼Œå› æ­¤éœ€è¦åœ¨ä½¿ç”¨sagaçš„åœ°æ–¹import â€˜babel-polyfillâ€™ï¼‰ã€‚redux-sagaæœ¬è´¨æ˜¯ä¸€ä¸ªå¯ä»¥è‡ªæ‰§è¡Œçš„generatorã€‚ redux-sagaä¸­çš„Effectredux-sagaä¸­å®šä¹‰äº†Effectï¼ŒEffectæ˜¯ä»€ä¹ˆå‘¢ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªç‰¹å®šçš„å‡½æ•°ï¼Œè¿”å›žçš„æ˜¯çº¯æ–‡æœ¬å¯¹è±¡ã€‚ç®€å•ç†è§£ï¼Œé€šè¿‡Effectå‡½æ•°ï¼Œä¼šè¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œsaga-middlewareæ ¹æ®è¿™ä¸ªå­—ç¬¦ä¸²æ¥æ‰§è¡ŒçœŸæ­£çš„å¼‚æ­¥æ“ä½œï¼Œå¯ä»¥å…·ä½“è¡¨çŽ°æˆå¦‚ä¸‹å½¢å¼ï¼š å¼‚æ­¥æ“ä½œâ€”â€”&gt;Effectå‡½æ•°â€”â€”&gt;çº¯æ–‡æœ¬å¯¹è±¡â€”â€”&gt;saga-middlewareâ€”â€”&gt;æ‰§è¡Œå¼‚æ­¥æ“ä½œ å› ä¸ºEffectçš„å­˜åœ¨ï¼Œæ–¹ä¾¿sagaæµ‹è¯•å¼‚æ­¥æ“ä½œã€‚ Effectå…·ä½“å‡½æ•°Effectå‡½æ•°æœ‰å¾ˆå¤šä¸ªï¼Œåœ¨redux-saga/effectsæä¾›ï¼Œä¸»è¦åŒ…æ‹¬callï¼Œforkï¼Œputï¼Œtakeï¼Œselectç­‰ï¼Œå®ƒä»¬éƒ½ä¸Žmiddlewareä¸­çš„æ“ä½œä¸€ä¸€å¯¹åº”ã€‚ call å’Œ fork callå’Œforkè¡¨ç¤ºå¼‚æ­¥è°ƒç”¨ï¼Œå…¶ä¸­callè¡¨ç¤ºçš„æ˜¯é˜»å¡žè°ƒç”¨ï¼Œforkè¡¨ç¤ºçš„æ˜¯éžé˜»å¡žè°ƒç”¨ã€‚ putå’Œselect putå¯¹åº”çš„æ˜¯middlewareä¸­çš„dispatchæ–¹æ³•ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªplain objectï¼Œä¸€èˆ¬åœ¨å¼‚æ­¥è°ƒç”¨è¿”å›žç»“æžœåŽï¼ŒæŽ¥ç€æ‰§è¡Œputã€‚selectç›¸å½“äºŽgetStateï¼Œç”¨äºŽèŽ·å–storeä¸­çš„ç›¸åº”éƒ¨åˆ†çš„stateã€‚ takeã€takeEveryã€takeLatest redux-sagaä¸­å¦‚æžœåœ¨éžé˜»å¡žè°ƒç”¨ä¸‹ï¼ˆforkï¼‰,é‚£ä¹ˆéµå¾ªçš„æ˜¯worker/watcheræ¨¡å¼ï¼Œé€šè¿‡takeå¯ä»¥ç›‘å¬æŸä¸ªactionæ˜¯å¦è¢«å‘èµ·ï¼Œæ­¤å¤–é€šè¿‡takeç»“åˆforkï¼Œå¯ä»¥å®žçŽ°takeEveryå’ŒtakeLatestçš„æ•ˆæžœã€‚ å¦‚æžœä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„actionè¢«å‘èµ·å¤šæ¬¡ï¼ŒtakeEveryä¼šæ‰§è¡Œå¤šæ¬¡actionï¼Œè€ŒtakeLateståªä¼šæ‰§è¡Œæœ€è¿‘çš„ä¸€æ¬¡ã€‚ redux-sagaçš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ï¼š ï¼ˆ1ï¼‰é›†ä¸­å¤„ç†äº†æ‰€æœ‰çš„å¼‚æ­¥æ“ä½œï¼Œå¼‚æ­¥æŽ¥å£éƒ¨åˆ†ä¸€ç›®äº†ç„¶ ï¼ˆ2ï¼‰actionæ˜¯æ™®é€šå¯¹è±¡ï¼Œè¿™è·ŸreduxåŒæ­¥çš„actionä¸€æ¨¡ä¸€æ · ï¼ˆ3ï¼‰é€šè¿‡Effectï¼Œæ–¹ä¾¿å¼‚æ­¥æŽ¥å£çš„æµ‹è¯• ï¼ˆ4ï¼‰é€šè¿‡worker å’Œwatcherå¯ä»¥å®žçŽ°éžé˜»å¡žå¼‚æ­¥è°ƒç”¨ï¼Œå¹¶ä¸”åŒæ—¶å¯ä»¥å®žçŽ°éžé˜»å¡žè°ƒç”¨ä¸‹çš„äº‹ä»¶ç›‘å¬ ï¼ˆ5ï¼‰ å¼‚æ­¥æ“ä½œçš„æµç¨‹æ˜¯å¯ä»¥æŽ§åˆ¶çš„ï¼Œå¯ä»¥éšæ—¶å–æ¶ˆç›¸åº”çš„å¼‚æ­¥æ“ä½œã€‚ ç¼ºç‚¹ï¼š å¤ªå¤æ‚ï¼Œå­¦ä¹ æˆæœ¬è¾ƒé«˜ ä½¿ç”¨æ–¹å¼ sagas.js import { takeEvery, takeLatest } from &#39;redux-saga&#39;; import { call, put } from &#39;redux-saga/effects&#39;; import axios from &#39;axios&#39;; import { BEGIN_GET_POSTS, GET_POSTS, GET_POSTS_ERROR } from &#39;../reducers&#39;; // worker saga function* showPostsAsync(action) { try { const response = yield call(axios.get, &#39;https://jsonplaceholder.typicode.com/posts&#39;); yield put(GET_POSTS(response.data)); } catch(e) { yield put(GET_ERROR(e)); } } reducers.js import { combineReducers } from &#39;redux&#39; // actions export const RECEIVE_USERS = &#39;RECEIVE_USERS&#39;; export const FETCH_USERS_ERROR = &#39;FETCH_USERS_ERROR&#39;; export const RECEIVE_POSTS = &#39;RECEIVE_POPTS&#39;; export const FETCH_POSTS_ERROR = &#39;FETCH_USERS_ERROR&#39;; export const BEGIN_GET_POSTS = &#39;BEGIN_GET_POSTS&#39;; // action creators export function GET_USERS(users) { return { type: RECEIVE_USERS, users } } export function GET_ERROR(error) { return { type: FETCH_USERS_ERROR, error } } export function GET_POSTS(posts) { return { type: RECEIVE_POSTS, posts } } export function Begin_GET_POSTS() { return { type: BEGIN_GET_POSTS } } export function GET_POSTS_ERROR(error) { return { type: FETCH_POSTS_ERROR, error } } // reducer const initialState = { fetched: false, users: [{ key: &#39;1&#39;, name: &#39;å¼ ä¸‰&#39;, email: &#39;zhangsan@126.com&#39; }], posts: [{ key: &#39;1&#39;, id: &#39;1&#39;, title: &#39;test&#39; }], error: null }; const appReducer = (state = initialState, action) =&gt; { switch(action.type) { case FETCH_USERS_ERROR: { return {...state, error: action.error} break; } case RECEIVE_USERS: { return {...state, fetched: true, users: action.users} break; } case FETCH_POSTS_ERROR: { return {...state, error: action.error} break; } case RECEIVE_POSTS: { return {...state, fetched: true, posts: action.posts} break; } } return state; } export default appReducer app.js &#39;use strict&#39;; import &#39;../asset/css/style.scss&#39;; import &#39;antd/dist/antd.min.css&#39;; import React from &#39;react&#39;; import { render } from &#39;react-dom&#39;; import { Provider } from &#39;react-redux&#39;; import { createStore, applyMiddleware, combineReducers } from &#39;redux&#39;; import logger from &#39;redux-logger&#39;; import thunk from &#39;redux-thunk&#39;; import createSagaMiddleware from &#39;redux-saga&#39;; import axios from &#39;axios&#39;; import appReducer from &#39;./reducers&#39;; import AppRouter from &#39;./router&#39;; import rootSaga from &#39;./sagas&#39;; const sagaMiddleware = createSagaMiddleware(); const middlewares = [thunk, sagaMiddleware, logger]; const store = createStore(appReducer, applyMiddleware(...middlewares)); sagaMiddleware.run(rootSaga); render( &lt;Provider store={store}&gt; &lt;AppRouter /&gt; &lt;/Provider&gt;, document.getElementById(&#39;app&#39;) ); æ€»ç»“æœ¬æ–‡ä»‹ç»äº†react-reduxåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼šé¦–å…ˆéœ€è¦åˆ›å»ºä»“åº“ï¼Œä½¿ç”¨reduxåˆ›å»ºä»“åº“ï¼Œåˆ›å»ºreducerï¼Œé¡µé¢ä¸­ä½¿ç”¨dispatchæ‰§è¡Œactionï¼Œå°†æ”¹å˜çš„å€¼ä¼ é€’åˆ°renducerä¸­ï¼Œç„¶è€Œé“¾æŽ¥é¡µé¢ä¸Žä»“åº“éœ€è¦react-reduxä¸­çš„{provider,connect},åœ¨æ ¹ç›®å½•è¿›è¡Œé“¾æŽ¥ï¼Œå°†ç»„ä»¶ä½¿ç”¨provideråŒ…è£¹èµ·æ¥ï¼Œå°†åˆ›å»ºçš„ä»“åº“ï¼Œä¼ å…¥åˆ°providerä¸­ï¼Œè§†å›¾ä¸­ä½¿ç”¨connecté“¾æŽ¥ä»“åº“ã€‚ redux-thunkä½¿ç”¨applymiddleå¼•å…¥æ’ä»¶thunkï¼Œåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œä»–è¿”å›žä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥æŽ¥æ”¶dispatchï¼Œä»–å¯ä»¥åœ¨å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå®Œä»¥åŽåœ¨ï¼Œdispatch redux-sagaredux-sageä¸­çš„effectä¸­æœ‰putï¼Œcallï¼Œselectâ€¦å‡ ä¸ªå±žæ€§ï¼Œcallä½¿ç”¨æ¥æäº¤ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªè¦æ‰§è¡Œçš„å¼‚æ­¥å‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯è¦ä¼ é€’çš„å‚æ•°ï¼Œputæ˜¯ç”¨æ¥æ‰§è¡Œreducerï¼Œä½¿ç”¨æ—¶éœ€è¦åˆ›å»ºä¸€ä¸ªsage]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reactçš„æ¦‚è¿°]]></title>
    <url>%2F2019%2F04%2F03%2Freact-task%2F</url>
    <content type="text"><![CDATA[reactçš„æ¦‚è¿°ä»€ä¹ˆæ˜¯react reactæ˜¯ä¸€ä¸ªå‰ç«¯çš„jsåº“ï¼Œç”¨äºŽæž„å»ºç”¨æˆ·ç•Œé¢ï¼Œå°¤å…¶æ˜¯å•é¡µé¢åº”ç”¨ç¨‹åº reactçš„ç‰¹ç‚¹ï¼š å•å‘æ•°æ®æµï¼Œç»„ä»¶åŒ–å¼€å‘ï¼Œè™šæ‹Ÿdomï¼Œjsxï¼Œåªå…³æ³¨mv*ä¸­çš„mè¿™ä¸€å±‚ï¼Œæ¸²æŸ“æ€§èƒ½å¥½ reactç»„ä»¶çš„åˆ’åˆ† ä¸šåŠ¡ç»„ä»¶ æ¯ä¸ªåŠŸèƒ½å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘åˆ’åˆ† å±•ç¤ºç»„ä»¶ åˆ—è¡¨ï¼ŒæŒ‰é’®è¡¨å•ã€‚ã€‚ã€‚uiç»„ä»¶ å®¹å™¨ç»„ä»¶ åŒ…è£…çš„ç›’å­ï¼Œé¡µé¢ç»„ä»¶ æœ¨å¶ç»„ä»¶ å±•ç¤ºç»„ä»¶ï¼ŒåŠŸèƒ½ç»„ä»¶ã€ä¸€äº›æ•ˆæžœã€‘ components[ä¸šåŠ¡ç»„ä»¶]ï¼ˆå±•ç¤ºç»„ä»¶ï¼Œæœ¨å¶ç»„ä»¶ï¼Œå®¹å™¨ç»„ä»¶ï¼‰views[é¡µé¢ç»„ä»¶] åˆ›å»ºç»„ä»¶æ–¹å¼ classç»„ä»¶åˆ›å»ºï¼šä¸šåŠ¡ç»„ä»¶ï¼Œé¡µé¢ç»„ä»¶ å‡½æ•°å¼åˆ›å»ºï¼šå±•ç¤ºç»„ä»¶ï¼ŒåŒ…è£…ç±»åž‹ç»„ä»¶ renderç”¨æ³• åœ¨reactä¸­æœ‰ä¸¤ä¸ªrenderï¼Œä¸€ä¸ªæ˜¯ç»„ä»¶å†…éƒ¨çš„renderï¼Œä¸€ä¸ªæ˜¯reactdomçš„render ç»„å»ºçš„renderç”¨æ¥è¿”å›žä¸€ä¸ªè™šæ‹Ÿdomï¼Œåœ¨é‡Œé¢ä¸èƒ½ä¿®æ”¹stateï¼Œåªèƒ½è¯»å– è™šæ‹Ÿdomæ˜¯é€šè¿‡ç¼–è¯‘å™¨ï¼Œå°†jsxè½¬åŒ–ä¸ºreact.createElement()çš„æ–¹æ³•è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•çš„è¿”å›žç»“æžœå°±æ˜¯ä¸€ä¸ªjsxå¯¹è±¡ã€è™šæ‹Ÿdomã€‘ æ¯ä¸€ä¸ªç»„ä»¶éƒ½å¿…é¡»æœ‰renderè¿™ä¸ªæ–¹æ³• reactdomçš„renderåªæ˜¯å°†è™šæ‹Ÿdomæ¸²æŸ“åˆ°é¡µé¢ä¸­ reactä¸­çš„statestateåªèƒ½å®šä¹‰åœ¨constructä¸­çš„this.stateä¸­ï¼Œå‡½æ•°å¼çš„ç»„ä»¶æ²¡æœ‰state ä¿®æ”¹stateåªèƒ½é€šè¿‡setStateæ–¹æ³•ï¼Œåªèƒ½ä¿®æ”¹ä¸€çº§å±žæ€§ï¼Œä¸èƒ½ä¿®æ”¹ç´¢å¼•æ•°ç»„ï¼Œä¸èƒ½é€šè¿‡å±žæ€§ä¿®æ”¹å¯¹è±¡ è¯»å–ä½¿ç”¨this.state.xxxï¼Œthis.props.xxx å®šä¹‰propsé»˜è®¤å€¼ä½¿ç”¨static defaultProps reactçš„ç”Ÿæ˜Žå‘¨æœŸ ç»„ä»¶åˆå§‹åŒ–é˜¶æ®µ import React, { Component } from &#39;react&#39;; class Test extends Component { constructor(props) { super(props); } } ç»„ä»¶æŒ‚è½½é˜¶æ®µ componentWillMount: åœ¨ç»„ä»¶æŒ‚è½½åˆ°DOMå‰è°ƒç”¨ï¼Œä¸”åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨è¿™è¾¹è°ƒç”¨this.setStateä¸ä¼šå¼•èµ·ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥æŠŠå†™åœ¨è¿™è¾¹çš„å†…å®¹æå‰åˆ°constructor()ä¸­ï¼Œæ‰€ä»¥é¡¹ç›®ä¸­å¾ˆå°‘ç”¨ã€‚ render: æ ¹æ®ç»„ä»¶çš„propså’Œstateï¼ˆæ— ä¸¤è€…çš„é‡ä¼ é€’å’Œé‡èµ‹å€¼ï¼Œè®ºå€¼æ˜¯å¦æœ‰å˜åŒ–ï¼Œéƒ½å¯ä»¥å¼•èµ·ç»„ä»¶é‡æ–°renderï¼‰ ï¼Œreturn ä¸€ä¸ªReactå…ƒç´ ï¼ˆæè¿°ç»„ä»¶ï¼Œå³UIï¼‰ï¼Œä¸è´Ÿè´£ç»„ä»¶å®žé™…æ¸²æŸ“å·¥ä½œï¼Œä¹‹åŽç”±Reactè‡ªèº«æ ¹æ®æ­¤å…ƒç´ åŽ»æ¸²æŸ“å‡ºé¡µé¢DOMã€‚renderæ˜¯çº¯å‡½æ•°ï¼ˆPure functionï¼šå‡½æ•°çš„è¿”å›žç»“æžœåªä¾èµ–äºŽå®ƒçš„å‚æ•°ï¼›å‡½æ•°æ‰§è¡Œè¿‡ç¨‹é‡Œé¢æ²¡æœ‰å‰¯ä½œç”¨ï¼‰ï¼Œä¸èƒ½åœ¨é‡Œé¢æ‰§è¡Œthis.setStateï¼Œä¼šæœ‰æ”¹å˜ç»„ä»¶çŠ¶æ€çš„å‰¯ä½œç”¨ã€‚ componentDidMount: ç»„ä»¶æŒ‚è½½åˆ°DOMåŽè°ƒç”¨ï¼Œä¸”åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ ç»„ä»¶æ›´æ–°é˜¶æ®µ setStateå¼•èµ·çš„stateæ›´æ–°æˆ–çˆ¶ç»„ä»¶é‡æ–°renderå¼•èµ·çš„propsæ›´æ–°ï¼Œæ›´æ–°åŽçš„stateå’Œpropsç›¸å¯¹ä¹‹å‰æ— è®ºæ˜¯å¦æœ‰å˜åŒ–ï¼Œéƒ½å°†å¼•èµ·å­ç»„ä»¶çš„é‡æ–°renderã€‚ é€ æˆç»„ä»¶æ›´æ–°æœ‰ä¸¤ç±»ï¼ˆä¸‰ç§ï¼‰æƒ…å†µï¼š çˆ¶ç»„ä»¶é‡æ–°render æ¯å½“çˆ¶ç»„ä»¶é‡æ–°renderçš„å¯¼è‡´çš„é‡ä¼ propsï¼Œå­ç»„ä»¶å°†ç›´æŽ¥è·Ÿç€é‡æ–°æ¸²æŸ“ï¼Œå¯ä»¥é€šè¿‡shouldComponentUpdateæ–¹æ³•è¿›è¡Œä¼˜åŒ– class Child extends Component { shouldComponentUpdate(nextProps){ // åº”è¯¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¦åˆ™æ— è®ºpropsæ˜¯å¦æœ‰å˜åŒ–éƒ½å°†ä¼šå¯¼è‡´ç»„ä»¶è·Ÿç€é‡æ–°æ¸²æŸ“ if(nextProps.someThings === this.props.someThings){ return false } } render() { return &lt;div&gt;{this.props.someThings}&lt;/div&gt; } } åœ¨componentWillReceivePropsæ–¹æ³•ä¸­ï¼Œå°†propsè½¬æ¢æˆè‡ªå·±çš„state class Child extends Component { constructor(props) { super(props); this.state = { someThings: props.someThings }; } componentWillReceiveProps(nextProps) { // çˆ¶ç»„ä»¶é‡ä¼ propsæ—¶å°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³• this.setState({someThings: nextProps.someThings}); } render() { return &lt;div&gt;{this.state.someThings}&lt;/div&gt; } } . ç»„ä»¶æœ¬èº«è°ƒç”¨setStateï¼Œæ— è®ºstateæœ‰æ²¡æœ‰å˜åŒ–ã€‚å¯é€šè¿‡shouldComponentUpdateæ–¹æ³•ä¼˜åŒ–ã€‚ class Child extends Component { constructor(props) { super(props); this.state = { someThings:1 } } shouldComponentUpdate(nextStates){ // åº”è¯¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¦åˆ™æ— è®ºstateæ˜¯å¦æœ‰å˜åŒ–éƒ½å°†ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ if(nextStates.someThings === this.state.someThings){ return false } } handleClick = () =&gt; { // è™½ç„¶è°ƒç”¨äº†setState ï¼Œä½†stateå¹¶æ— å˜åŒ– const preSomeThings = this.state.someThings this.setState({ someThings: preSomeThings }) } render() { return &lt;div onClick = {this.handleClick}&gt;{this.state.someThings}&lt;/div&gt; } } æ‰§è¡Œé¡ºåºï¼šcomponentWillReceiveProps shouldComponentUpdate componentWillUpdate render componentDidUpdate componentWillReceiveProps(nextProps) æ­¤æ–¹æ³•åªè°ƒç”¨äºŽpropså¼•èµ·çš„ç»„ä»¶æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œå‚æ•°nextPropsæ˜¯çˆ¶ç»„ä»¶ä¼ ç»™å½“å‰ç»„ä»¶çš„æ–°propsã€‚ä½†çˆ¶ç»„ä»¶renderæ–¹æ³•çš„è°ƒç”¨ä¸èƒ½ä¿è¯é‡ä¼ ç»™å½“å‰ç»„ä»¶çš„propsæ˜¯æœ‰å˜åŒ–çš„ï¼Œæ‰€ä»¥åœ¨æ­¤æ–¹æ³•ä¸­æ ¹æ®nextPropså’Œthis.propsæ¥æŸ¥æ˜Žé‡ä¼ çš„propsæ˜¯å¦æ”¹å˜ï¼Œä»¥åŠå¦‚æžœæ”¹å˜äº†è¦æ‰§è¡Œå•¥ï¼Œæ¯”å¦‚æ ¹æ®æ–°çš„propsè°ƒç”¨this.setStateå‡ºå‘å½“å‰ç»„ä»¶çš„é‡æ–°render shouldComponentUpdate(nextProps, nextState) æ­¤æ–¹æ³•é€šè¿‡æ¯”è¾ƒnextPropsï¼ŒnextStateåŠå½“å‰ç»„ä»¶çš„this.propsï¼Œthis.stateï¼Œè¿”å›žtrueæ—¶å½“å‰ç»„ä»¶å°†ç»§ç»­æ‰§è¡Œæ›´æ–°è¿‡ç¨‹ï¼Œè¿”å›žfalseåˆ™å½“å‰ç»„ä»¶æ›´æ–°åœæ­¢ï¼Œä»¥æ­¤å¯ç”¨æ¥å‡å°‘ç»„ä»¶çš„ä¸å¿…è¦æ¸²æŸ“ï¼Œä¼˜åŒ–ç»„ä»¶æ€§èƒ½ã€‚ componentWillUpdate(nextProps, nextState) æ­¤æ–¹æ³•åœ¨è°ƒç”¨renderæ–¹æ³•å‰æ‰§è¡Œï¼Œåœ¨è¿™è¾¹å¯æ‰§è¡Œä¸€äº›ç»„ä»¶æ›´æ–°å‘ç”Ÿå‰çš„å·¥ä½œï¼Œä¸€èˆ¬è¾ƒå°‘ç”¨ã€‚ render åªæ˜¯é‡æ–°è°ƒç”¨ã€‚ componentDidUpdate(prevProps, prevState) æ­¤æ–¹æ³•åœ¨ç»„ä»¶æ›´æ–°åŽè¢«è°ƒç”¨ï¼Œå¯ä»¥æ“ä½œç»„ä»¶æ›´æ–°çš„DOMï¼ŒprevPropså’ŒprevStateè¿™ä¸¤ä¸ªå‚æ•°æŒ‡çš„æ˜¯ç»„ä»¶æ›´æ–°å‰çš„propså’Œstate å¸è½½é˜¶æ®µ componentWillUnmount æ­¤æ–¹æ³•åœ¨ç»„ä»¶è¢«å¸è½½å‰è°ƒç”¨ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚æ¸…æ¥šç»„ä»¶ä¸­ä½¿ç”¨çš„å®šæ—¶å™¨ï¼Œæ¸…æ¥šcomponentDidMountä¸­æ‰‹åŠ¨åˆ›å»ºçš„DOMå…ƒç´ ç­‰ï¼Œä»¥é¿å…å¼•èµ·å†…å­˜æ³„æ¼ã€‚ React v16.4 çš„ç”Ÿå‘½å‘¨æœŸå˜æ›´ç¼˜ç”±åŽŸæ¥ï¼ˆReact v16.0å‰ï¼‰çš„ç”Ÿå‘½å‘¨æœŸåœ¨React v16æŽ¨å‡ºçš„Fiberä¹‹åŽå°±ä¸åˆé€‚äº†ï¼Œå› ä¸ºå¦‚æžœè¦å¼€å¯async renderingï¼Œåœ¨renderå‡½æ•°ä¹‹å‰çš„æ‰€æœ‰å‡½æ•°ï¼Œéƒ½æœ‰å¯èƒ½è¢«æ‰§è¡Œå¤šæ¬¡ã€‚ åŽŸæ¥ï¼ˆReact v16.0å‰ï¼‰çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›æ˜¯åœ¨renderå‰æ‰§è¡Œçš„å‘¢ï¼Ÿ componentWillMount componentWillReceiveProps shouldComponentUpdate componentWillUpdate å¦‚æžœå¼€å‘è€…å¼€äº†async renderingï¼Œè€Œä¸”åˆåœ¨ä»¥ä¸Šè¿™äº›renderå‰æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•åšAJAXè¯·æ±‚çš„è¯ï¼Œé‚£AJAXå°†è¢«æ— è°“åœ°å¤šæ¬¡è°ƒç”¨ã€‚ã€‚ã€‚æ˜Žæ˜¾ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æžœã€‚è€Œä¸”åœ¨componentWillMounté‡Œå‘èµ·AJAXï¼Œä¸ç®¡å¤šå¿«å¾—åˆ°ç»“æžœä¹Ÿèµ¶ä¸ä¸Šé¦–æ¬¡renderï¼Œè€Œä¸”componentWillMountåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¹Ÿä¼šè¢«è°ƒç”¨åˆ°ï¼ˆå½“ç„¶ï¼Œä¹Ÿè®¸è¿™æ˜¯é¢„æœŸçš„ç»“æžœï¼‰ï¼Œè¿™æ ·çš„IOæ“ä½œæ”¾åœ¨componentDidMounté‡Œæ›´åˆé€‚ã€‚ å› æ­¤å¼•å…¥ä¸¤ä¸ªæ–°å¢žçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•° getDerivedStateFromProps getSnapshotBeforeUpdate éšç€getDerivedStateFromPropsçš„æŽ¨å‡ºï¼ŒåŒæ—¶deprecateäº†ä¸€ç»„ç”Ÿå‘½å‘¨æœŸAPIï¼ŒåŒ…æ‹¬ï¼š componentWillReceiveProps componentWillMount componentWillUpdate æŒ‰ç…§å®˜æ–¹è¯´æ³•ï¼Œä»¥å‰éœ€è¦åˆ©ç”¨è¢«deprecateçš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰èƒ½å®žçŽ°çš„åŠŸèƒ½ï¼Œéƒ½å¯ä»¥é€šè¿‡getDerivedStateFromPropsçš„å¸®åŠ©æ¥å®žçŽ°ã€‚ è¿™ä¸ªgetDerivedStateFromPropsæ˜¯ä¸€ä¸ªé™æ€å‡½æ•°ï¼Œæ‰€ä»¥å‡½æ•°ä½“å†…ä¸èƒ½è®¿é—®thisï¼Œç®€å•è¯´ï¼Œå°±æ˜¯åº”è¯¥ä¸€ä¸ªçº¯å‡½æ•°ï¼Œçº¯å‡½æ•°æ˜¯ä¸€ä¸ªå¥½ä¸œè¥¿å•Šï¼Œè¾“å‡ºå®Œå…¨ç”±è¾“å…¥å†³å®šã€‚ static getDerivedStateFromProps(nextProps, prevState) { //æ ¹æ®nextPropså’ŒprevStateè®¡ç®—å‡ºé¢„æœŸçš„çŠ¶æ€æ”¹å˜ï¼Œè¿”å›žç»“æžœä¼šè¢«é€ç»™setState } æ‰€æœ‰è¢«deprecateçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œç›®å‰è¿˜å‡‘åˆç€ç”¨ï¼Œä½†æ˜¯åªè¦ç”¨äº†ï¼Œå¼€å‘æ¨¡å¼ä¸‹ä¼šæœ‰çº¢è‰²è­¦å‘Šï¼Œåœ¨ä¸‹ä¸€ä¸ªå¤§ç‰ˆæœ¬ï¼ˆä¹Ÿå°±æ˜¯React v17)æ›´æ–°æ—¶ä¼šå½»åº•åºŸå¼ƒã€‚ getSnapshotBeforeUpdateï¼Œè¿™å‡½æ•°ä¼šåœ¨renderä¹‹åŽæ‰§è¡Œï¼Œè€Œæ‰§è¡Œä¹‹æ—¶DOMå…ƒç´ è¿˜æ²¡æœ‰è¢«æ›´æ–°ï¼Œç»™äº†ä¸€ä¸ªæœºä¼šåŽ»èŽ·å–DOMä¿¡æ¯ï¼Œè®¡ç®—å¾—åˆ°ä¸€ä¸ªsnapshotï¼Œè¿™ä¸ªsnapshotä¼šä½œä¸ºcomponentDidUpdateçš„ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥ã€‚ getSnapshotBeforeUpdate(prevProps, prevState) { console.log(&#39;#enter getSnapshotBeforeUpdate&#39;); return &#39;foo&#39;; } componentDidUpdate(prevProps, prevState, snapshot) { console.log(&#39;#enter componentDidUpdate snapshot = &#39;, snapshot); }. getDerivedStateFromPropsæ— è®ºæ˜¯Mountingè¿˜æ˜¯Updatingï¼Œä¹Ÿæ— è®ºæ˜¯å› ä¸ºä»€ä¹ˆå¼•èµ·çš„Updatingï¼Œå…¨éƒ¨éƒ½ä¼šè¢«è°ƒç”¨ã€‚ æ€»ç»“ï¼š ç”¨ä¸€ä¸ªé™æ€å‡½æ•°getDerivedStateFromPropsæ¥å–ä»£è¢«deprecateçš„å‡ ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå°±æ˜¯å¼ºåˆ¶å¼€å‘è€…åœ¨renderä¹‹å‰åªåšæ— å‰¯ä½œç”¨çš„æ“ä½œï¼Œè€Œä¸”èƒ½åšçš„æ“ä½œå±€é™åœ¨æ ¹æ®propså’Œstateå†³å®šæ–°çš„stateï¼Œè€Œå·²ã€‚ å¼•ç”¨ ç¨‹å¢¨Morganè€å¸ˆçš„React v16.3ä¹‹åŽçš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå‡½æ•°]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯¹react-routerçš„å°è£…åŠapi]]></title>
    <url>%2F2019%2F04%2F03%2Freact-router%2F</url>
    <content type="text"><![CDATA[å¯¹react-routerçš„å°è£…ç›´æŽ¥ä¸Šä»£ç å§ config.js // è¯¥æ–‡ä»¶æ˜¯å¯¹è·¯ç”±çš„é…ç½® //ç»„ä»¶çš„å¼•å…¥ import Home from &#39;../contentais/home/index&#39; import Login from &quot;../contentais/login/index&quot; import Business from &#39;./../contentais/home/business/index&#39;; import Finance from &#39;./../contentais/home/finance/index&#39;; import Tissue from &#39;./../contentais/home/tissue/index&#39;; import Statistics from &#39;./../contentais/home/statistics/index&#39;; import Order from &#39;./../contentais/home/order/index&#39;; import UserHome from &#39;./../contentais/home/userHome/index&#39;; import Loans from &#39;./../contentais/home/order/loans/index&#39;; import Transfer from &#39;./../contentais/home/order/transfer/index&#39;; import Insurance from &#39;./../contentais/home/order/insurance/index&#39;; const RouteConfig = [ { //title title: &quot;é¦–é¡µ&quot;, //è·¯ç”±åœ°å€ path: &quot;/Home&quot;, //å…³é”®å­—é‡å®šå‘ defaultRedirect: true, //ç»„ä»¶ component: Home, //äºŒçº§è·¯ç”± children: [ { key: &quot;1&quot;, defaultRedirect: true, title: &quot;é¦–é¡µ&quot;, path: &quot;/Home/one&quot;, component: UserHome, }, { key: &quot;sub1&quot;, title: &quot;è®¢å•ç®¡ç†&quot;, path: &quot;/Home/order&quot;, component: Order, //ä¸‰çº§è·¯ç”± children: [ { defaultRedirect: true, key: &quot;2&quot;, title: &quot;è´·æ¬¾è®¢å•&quot;, path: &quot;/Home/order/loans&quot;, component: Loans, }, { key: &quot;3&quot;, title: &quot;è½¬å•è®¢å•&quot;, path: &quot;/Home/order/transfer&quot;, component: Transfer, }, { key: &quot;4&quot;, title: &quot;ä¿é™©è®¢å•&quot;, path: &quot;/Home/order/insurance&quot;, component: Insurance, }, //ä¸‰çº§è·¯ç”±çš„é‡å®šå‘ é»˜è®¤æ˜¾ç¤ºçš„é¡µé¢ { path: &quot;/Home/order&quot;, redirect: &quot;/Home/order/loans&quot; } ] }, { key: &quot;5&quot;, title: &quot;è´¢åŠ¡ç®¡ç†&quot;, path: &quot;/Home/finance&quot;, component: Finance, } , { key: &quot;6&quot;, title: &quot;ç»„ç»‡æž¶æž„&quot;, path: &quot;/Home/tissue&quot;, component: Tissue, }, { key: &quot;7&quot;, title: &quot;æ•°æ®ç»Ÿè®¡&quot;, path: &quot;/Home/statistics&quot;, component: Statistics, }, { key: &quot;8&quot;, title: &quot;å•†åŠ¡ç®¡ç†&quot;, path: &quot;/Home/business&quot;, component: Business, }, //äºŒçº§è·¯ç”±çš„é‡å®šå‘ é»˜è®¤æ˜¾ç¤ºçš„é¡µé¢ { path: &quot;/Home&quot;, redirect: &quot;/Home/one&quot; } ] }, { title: &quot;ç™»é™†&quot;, path: &quot;/Login&quot;, component: Login, }, { //ä¸€çº§è·¯ç”±çš„é‡å®šå‘ path: &quot;/&quot;, redirect: &quot;/Home&quot; } ] export default RouteConfig; routerView.js // è·¯ç”±é€’å½’é€»è¾‘å®žçŽ° import { Route, Switch, Redirect } from &quot;react-router-dom&quot; import React, { Component } from &#39;react&#39;; class RouteView extends Component { render() { // propsæŽ¥æ”¶é…ç½®æ–‡ä»¶ // routers ä¸‹ä¸€çº§è·¯ç”±çš„å‚æ•° // defaultConfigé»˜è®¤ä¼ å‚ const { routers, defaultConfig } = this.props // è¿™é‡Œåˆ¤æ–­ã€ä¸‹ä¸€çº§è·¯ç”±çš„å‚æ•°ã€‘æ˜¯å¦æœ‰å€¼ ? ã€ä½¿ç”¨ä¸‹ä¸€çº§è·¯ç”±çš„å‚æ•°ã€‘ ï¼š ã€é»˜è®¤è·¯ç”±å‚æ•°ã€‘ let routerDate = routers ? routers : defaultConfig; //æ•°æ®äºŒæ¬¡å¤„ç† //ç­›é™¤æ²¡æœ‰é‡å®šå‘çš„ let routerDatepath = routerDate.filter((item) =&gt; { return !item.redirect }) //ç­›é€‰é‡å®šå‘ let defualtRouter = routerDate.filter((item) =&gt; { return item.redirect }) //é‡å®šå‘ let defualtRedirect = defualtRouter.map((item, i) =&gt; { return &lt;Redirect key={i} path={item.path} to={item.redirect}&gt;&lt;/Redirect&gt; }) return (&lt;Switch&gt; { routerDatepath &amp;&amp; routerDatepath.map((item, index) =&gt; { const Comp = item.component // ä¸€ä¸ªå¤§å‘ è¦ç”¨render ä¸ç„¶ç”¨componentä¼šå¯¼è‡´é¡µé¢çš„å›žæµ return &lt;Route path={item.path} render={ //api è·¯ç”±ç›¸å…³å‚æ•°å‚æ•°åŠå…¶å®ƒ (api) =&gt; { //åŠ¨æ€çš„title document.title = item.title || &quot;è·¯ç”±é…ç½®&quot; //æŠŠä¸‹ä¸€çº§è·¯ç”±å‚æ•°å­˜å…¥propsä¸­ return &lt;Comp routers={item.children} {...api}&gt;&lt;/Comp&gt; } } key={&quot;key&quot; + item.key}&gt;&lt;/Route&gt; //é‡å®šå‘ }).concat(defualtRedirect) } &lt;/Switch&gt;) } } export default RouteView; app.js // è·¯ç”±è°ƒç”¨çš„ä½¿ç”¨æ–¹å¼ import React, { Component } from &#39;react&#39;; import { BrowserRouter as Router } from &quot;react-router-dom&quot; import RouteConfig from &#39;./config.js&#39;; // å¼•å…¥è·¯ç”±çš„é…ç½®ä¿¡æ¯ import RouteView from &#39;./routeView,js&#39;; // å¼•å…¥è·¯ç”±çš„é€»è¾‘å®žçŽ° class App extends Component { render() { return &lt;div className=&quot;wrapper&quot;&gt; &lt;Router&gt; //ä¼ å…¥é»˜è®¤è·¯ç”±é…ç½®æ–‡ä»¶ &lt;RouteView defaultConfig={RouteConfig}&gt;&lt;/RouteView&gt; &lt;/Router&gt; &lt;/div&gt; } } export default App; äºŒçº§è·¯ç”±çš„è°ƒç”¨ import React, { Component } from &#39;react&#39;; import RouteView from &#39;./../../router/RouteView&#39;; import SiderMenu from &#39;./../../components/SiderMenu/index&#39;; import &quot;./index.css&quot; class Home extends Component { render() { //æŽ¥æ”¶è·¯ç”±é…ç½® const { routers } = this.props return &lt;div className=&quot;home-wrapper&quot;&gt; &lt;div className=&quot;left&quot;&gt; &lt;div className=&quot;user&quot;&gt; &lt;div className=&quot;user-img&quot;&gt; &lt;/div&gt; &lt;p className=&quot;mt12&quot;&gt;ä½ çž…å•¥&lt;/p&gt; &lt;b className=&quot;mt12 radius&quot;&gt;&lt;/b&gt; &lt;/div&gt; //ä¾§è¾¹æ çš„ç»„ä»¶ &lt;SiderMenu style={{ background:"#2F3B4C"}} {...this.props}&gt;&lt;/SiderMenu&gt; &lt;div className=&quot;ri &lt;/div&gt;ght&quot;&gt; //ä¼ å…¥RouteViewå½“ä¸­è¿›è¡Œå¤„ç† &lt;RouteView routers={routers}&gt;&lt;/RouteView&gt; &lt;/div&gt; &lt;/div&gt; } } export default Home; â€˜react-router-domçš„apireact-router-domæä¾›äº†BrowserRouter, Route, Linkç­‰api,æˆ‘ä»¬å¯ä»¥é€šè¿‡domçš„äº‹ä»¶æŽ§åˆ¶è·¯ç”±ã€‚ä¾‹å¦‚ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®è¿›è¡Œè·³è½¬ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ›´å¤šæ˜¯ä½¿ç”¨React-router-domã€‚å®‰è£…å¾ˆç®€å•npm i react-router-dom â€“save,å®‰è£…äº†æ·˜å®é•œåƒçš„å°±ç”¨cnpmå§ã€‚ å¸¸ç”¨çš„è·¯ç”±api HashRouterå’ŒBrowserRouter å®ƒä»¬ä¸¤ä¸ªæ˜¯è·¯ç”±çš„åŸºæœ¬ï¼Œå°±åƒç›–æˆ¿å­å¿…é¡»æœ‰åœ°åŸºä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä»¬åŒ…è£¹åœ¨æœ€å¤–å±‚ï¼Œæˆ‘ä»¬åªè¦é€‰æ‹©å…¶ä¸€å°±å¯ä»¥äº†ã€‚çŽ°åœ¨è®²å®ƒä»¬çš„ä¸åŒï¼š HashRouter å¦‚æžœä½ ä½¿ç”¨è¿‡react-router2æˆ–3æˆ–è€…vue-routerï¼Œä½ ç»å¸¸ä¼šå‘çŽ°ä¸€ä¸ªçŽ°è±¡å°±æ˜¯urlä¸­ä¼šæœ‰ä¸ª#ï¼Œä¾‹å¦‚localhost:3000/#ï¼ŒHashRouterå°±ä¼šå‡ºçŽ°è¿™ç§æƒ…å†µï¼Œå®ƒæ˜¯é€šè¿‡hashå€¼æ¥å¯¹è·¯ç”±è¿›è¡ŒæŽ§åˆ¶ã€‚å¦‚æžœä½ ä½¿ç”¨HashRouterï¼Œä½ çš„è·¯ç”±å°±ä¼šé»˜è®¤æœ‰è¿™ä¸ª#ã€‚ BrowserRouter å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬åˆ™ä¸æ˜¯è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™ä¸ª#ï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥å¾ˆæ€ªï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°BrowserRouterã€‚ Route Routeæ˜¯è·¯ç”±çš„ä¸€ä¸ªåŽŸææ–™ï¼Œå®ƒæ˜¯æŽ§åˆ¶è·¯å¾„å¯¹åº”æ˜¾ç¤ºçš„ç»„ä»¶ã€‚æˆ‘ä»¬ç»å¸¸ç”¨çš„æ˜¯exactã€pathä»¥åŠcomponentå±žæ€§ã€‚ &lt;Route path=&#39;/&#39; component=&#39;&#39; exact&gt;&lt;/Route&gt; exactæŽ§åˆ¶åŒ¹é…åˆ°/è·¯å¾„æ—¶ä¸ä¼šå†ç»§ç»­å‘ä¸‹åŒ¹é…ï¼Œ pathæ ‡è¯†è·¯ç”±çš„è·¯å¾„ componentè¡¨ç¤ºè·¯å¾„å¯¹åº”æ˜¾ç¤ºçš„ç»„ä»¶ Linkå’ŒNavLinkçš„é€‰æ‹© ä¸¤è€…éƒ½æ˜¯å¯ä»¥æŽ§åˆ¶è·¯ç”±è·³è½¬çš„ï¼Œä¸åŒç‚¹æ˜¯NavLinkçš„apiæ›´å¤šï¼Œæ›´åŠ æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚ Link ä¸»è¦apiæ˜¯toï¼Œtoå¯ä»¥æŽ¥å—stringæˆ–è€…ä¸€ä¸ªobjectï¼Œæ¥æŽ§åˆ¶urlã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ NavLink å®ƒå¯ä»¥ä¸ºå½“å‰é€‰ä¸­çš„è·¯ç”±è®¾ç½®ç±»åã€æ ·å¼ä»¥åŠå›žè°ƒå‡½æ•°ç­‰ã€‚ä½¿ç”¨å¦‚ä¸‹ &lt;Navlink to=&#39;&#39; activeClassName=&#39;actived&#39;&gt; activeClassNameæ˜¯é€‰ä¸­çŠ¶æ€çš„ç±»åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶æ·»åŠ æ ·å¼ Switch Switchå¸¸å¸¸ä¼šç”¨æ¥åŒ…è£¹Routeï¼Œå®ƒé‡Œé¢ä¸èƒ½æ”¾å…¶ä»–å…ƒç´ ï¼Œç”¨æ¥åªæ˜¾ç¤ºä¸€ä¸ªè·¯ç”±ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reactç»„ä»¶ä¼˜åŒ–åŠç»„ä»¶é€šè®¯]]></title>
    <url>%2F2019%2F04%2F03%2Freact-optimization%2F</url>
    <content type="text"><![CDATA[reactç»„ä»¶ä¼˜åŒ–keyå€¼åœ¨ä½¿ç”¨v-forçš„æƒ…å†µä¸‹ï¼Œç»™æ¯ä¸ªå˜é‡çš„å…ƒç´ éƒ½åŠ ä¸Škeyå€¼ï¼ŒåŠ keyå€¼å¾—å¥½å¤„å·²ç»åœ¨ä¸Šä¸€æ–‡ä¸­æåˆ°è¿‡ï¼Œä¸»è¦ä¸ºäº†æé«˜æ¸²æŸ“æ•ˆçŽ‡ shouldComponentUpdateè¯¥ç”Ÿå‘½å‘¨æœŸå¯ä»¥å†³å®šæ•°æ®æ”¹å˜çš„æ—¶å€™æ˜¯å¦è¿›è¡Œrenderï¼Œè¿”å›žå€¼ä¸ºbooleanï¼Œè¿”å›žtrueå³ä¸ºæ¸²æŸ“ï¼Œè¿”å›žfalseåŠä¸æ¸²æŸ“ï¼Œé»˜è®¤ä¸å†™ä¸ºtrue çº¯å‡½æ•°ç»„ä»¶å°†å•ç‹¬çš„é¡¹å°è£…æˆä¸€ä¸ªç»„ä»¶ï¼Œå·²è¾¾åˆ°æœç”¨æ•ˆæžœ ç»„ä»¶é€šè®¯çˆ¶ä¼ å­ ä½¿ç”¨propsä¼ å€¼ çˆ¶ç»„ä»¶ import React,{ Component } from &quot;react&quot;; import Sub from &quot;./SubComponent.js&quot;; import &quot;./App.css&quot;; export default class App extends Component{ render(){ return( &lt;div&gt; &lt;Sub title = &quot;ä»Šå¹´è¿‡èŠ‚ä¸æ”¶ç¤¼&quot; /&gt; &lt;/div&gt; ) } } å­ç»„ä»¶ import React from &quot;react&quot;; const Sub = (props) =&gt; { return( &lt;h1&gt; { props.title } &lt;/h1&gt; ) } export default Sub; å­ä¼ çˆ¶çˆ¶ç»„ä»¶ import React,{ Component } from &quot;react&quot;; import Sub from &quot;./SubComponent.js&quot;; import &quot;./App.css&quot;; export default class App extends Component{ callback(msg){ console.log(msg); } render(){ return( &lt;div&gt; &lt;Sub callback = { this.callback.bind(this) } /&gt; &lt;/div&gt; ) } } å­ç»„ä»¶ import React from &quot;react&quot;; const Sub = (props) =&gt; { const cb = (msg) =&gt; { return () =&gt; { props.callback(msg) } } return( &lt;div&gt; &lt;button onClick = { cb(&quot;æˆ‘ä»¬é€šä¿¡æŠŠ&quot;) }&gt;ç‚¹å‡»æˆ‘&lt;/button&gt; &lt;/div&gt; ) } export default Sub; è·¨ç»„ä»¶ä¼ å€¼ 16.3ç‰ˆæœ¬æä¾›äº†æ–°çš„context api,å¹¶ä¸”ç”¨äº†ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼Œ const {Provider, Consumer} = React.createContext({ color: &#39;white&#39; }); class Item extends Component { static contextTypes = { color: React.PropTypes.string, }; render() { const {value} = this.props; return ( &lt;Consumer&gt; {context =&gt; ( &lt;li style={{background: context.color}}&gt; &lt;span&gt;{value}&lt;/span&gt; &lt;/li&gt; )} &lt;/Consumer&gt; ); } } class List extends Component { render() { const {list} = [{id: &#39;1&#39;, text: 1}, {id: &#39;1&#39;, text: 2}, {id: &#39;1&#39;, text: 3}] return ( &lt;Provider value={{color: 'green'}}&gt; &lt;div&gt; &lt;ul&gt; {list.map((entry, index) =&gt; ( &lt;Item key={entry.id} value={entry.text}/&gt; ))} &lt;/ul&gt; &lt;/div&gt; &lt;/Provider&gt; ); } } ä¸Šé¢çš„ä»£ç é€šè¿‡React.createContextåˆ›å»ºå‡ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼šContextå¯¹è±¡ï¼Œç„¶åŽè¿™ä¸ªContextå¯¹è±¡åˆåŒ…å«ä¸¤ä¸ªå±žæ€§ï¼Œä¸€ä¸ªå«Providerï¼Œå¦ä¸€ä¸ªå«Consumerï¼Œè¿™ä¸¤ä¸ªå±žæ€§éƒ½æ˜¯çº¯ç§çš„Reactç»„ä»¶ã€‚ åœ¨çˆ¶ç»„ä»¶ä¸­è¿ç”¨Providerï¼Œåœ¨å­ç»„ä»¶ä¸­è¿ç”¨Consumerå³å¯ï¼ŒProviderä¸­é€šè¿‡valueå±žæ€§å¯ä»¥å‘Consumerä¼ é€’å‚æ•°ï¼Œè€ŒConsumerçš„å­ç»„ä»¶åˆ™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå­ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒConsumerä¼šå‘å®ƒä¼ é€’ä¸€ä¸ªcontextï¼Œè¿™ä¸ªcontextæ¥è‡ªäºŽProviderï¼Œè¾¾åˆ°é€šä¿¡çš„ç›®çš„ éžåµŒå¥—ç»„ä»¶é—´é€šä¿¡è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨è‡ªå®šä¹‰äº‹ä»¶çš„æ–¹å¼æ¥å®žçŽ°éžåµŒå¥—ç»„ä»¶é—´çš„é€šä¿¡ã€‚ npm install events --save æ–°å»ºä¸€ä¸ª ev.jsï¼Œå¼•å…¥ events åŒ…ï¼Œå¹¶å‘å¤–æä¾›ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œä¾›é€šä¿¡æ—¶ä½¿ç”¨ï¼š import { EventEmitter } from &quot;events&quot;; export default new EventEmitter(); App.jsï¼š import React, { Component } from &#39;react&#39;; import Foo from &quot;./Foo&quot;; import Boo from &quot;./Boo&quot;; import &quot;./App.css&quot;; export default class App extends Component{ render(){ return( &lt;div&gt; &lt;Foo /&gt; &lt;Boo /&gt; &lt;/div&gt; ); } } Foo.jsï¼š import React,{ Component } from &quot;react&quot;; import emitter from &quot;./ev&quot; export default class Foo extends Component{ constructor(props) { super(props); this.state = { msg:null, }; } componentDidMount(){ // å£°æ˜Žä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ // åœ¨ç»„ä»¶è£…è½½å®Œæˆä»¥åŽ this.eventEmitter = emitter.addListener(&quot;callMe&quot;,(msg)=&gt;{ this.setState({ msg }) }); } // ç»„ä»¶é”€æ¯å‰ç§»é™¤äº‹ä»¶ç›‘å¬ componentWillUnmount(){ emitter.removeListener(this.eventEmitter); } render(){ return( &lt;div&gt; { this.state.msg } æˆ‘æ˜¯éžåµŒå¥— 1 å· &lt;/div&gt; ); } } Boo.jsï¼š import React,{ Component } from &quot;react&quot;; import emitter from &quot;./ev&quot; export default class Boo extends Component{ render(){ const cb = (msg) =&gt; { return () =&gt; { // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ emitter.emit(&quot;callMe&quot;,&quot;Hello&quot;) } } return( &lt;div&gt; æˆ‘æ˜¯éžåµŒå¥— 2 å· &lt;button onClick = { cb(&quot;blue&quot;) }&gt;ç‚¹å‡»æˆ‘&lt;/button&gt; &lt;/div&gt; ); } } è‡ªå®šä¹‰äº‹ä»¶æ˜¯å…¸åž‹çš„å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œé€šè¿‡å‘äº‹ä»¶å¯¹è±¡ä¸Šæ·»åŠ ç›‘å¬å™¨å’Œè§¦å‘äº‹ä»¶æ¥å®žçŽ°ç»„ä»¶é—´é€šä¿¡ã€‚ æ€»ç»“ï¼š çˆ¶ä¼ å­ï¼šé€šè¿‡props å­ä¼ çˆ¶ï¼šé€šè¿‡å›žè°ƒ è·¨ç»„ä»¶ä¼ å€¼ï¼š å¼•å…¥react.createContext()ä¸­çš„{provider, consumer}ï¼Œä½¿ç”¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨provider ä¼ å…¥å€¼ï¼Œå­ç»„ä»¶é€šconsumer æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°å›žè°ƒ[{context =&gt; (&lt;\li&gt;{context}&lt;\/li&gt;)}] åŒçº§ç»„ä»¶é€šè®¯ï¼šä½¿ç”¨eventsæ’ä»¶ï¼Œé€šè¿‡å‘å¸ƒè®¢é˜…è€…æ¨¡å¼æ‰§è¡Œ]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆReactçš„æœ€å¤§äº®ç‚¹â€”â€”è™šæ‹ŸDOM]]></title>
    <url>%2F2019%2F04%2F03%2FvirtualDom1%20%2F</url>
    <content type="text"><![CDATA[æµ…è°ˆReactçš„æœ€å¤§äº®ç‚¹â€”â€”è™šæ‹ŸDOMReactéžå¸¸å¿«é€Ÿæ˜¯å› ä¸ºå®ƒä»Žä¸ç›´æŽ¥æ“ä½œDOMã€‚ è™šæ‹ŸDOMæ˜¯åœ¨DOMçš„åŸºç¡€ä¸Šå»ºç«‹äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå¯¹æ•°æ®å’ŒçŠ¶æ€æ‰€åšçš„ä»»ä½•æ”¹åŠ¨ï¼Œéƒ½ä¼šè¢«è‡ªåŠ¨ä¸”é«˜æ•ˆçš„åŒæ­¥åˆ°è™šæ‹ŸDOMï¼Œæœ€åŽå†æ‰¹é‡åŒæ­¥åˆ°DOMä¸­ã€‚ åœ¨Reactä¸­ï¼Œrenderæ‰§è¡Œçš„ç»“æžœå¾—åˆ°çš„å¹¶ä¸æ˜¯çœŸæ­£çš„DOMèŠ‚ç‚¹ï¼Œè€Œä»…ä»…æ˜¯JavaScriptå¯¹è±¡ï¼Œç§°ä¹‹ä¸ºè™šæ‹ŸDOMã€‚ è™šæ‹ŸDOMå…·æœ‰æ‰¹å¤„ç†å’Œé«˜æ•ˆçš„Diffç®—æ³•ï¼Œå¯ä»¥æ— éœ€æ‹…å¿ƒæ€§èƒ½é—®é¢˜è€Œéšæ—¶â€œåˆ·æ–°â€æ•´ä¸ªé¡µé¢ï¼Œå› ä¸ºè™šæ‹ŸDOMå¯ä»¥ç¡®ä¿åªå¯¹ç•Œé¢ä¸ŠçœŸæ­£å˜åŒ–çš„éƒ¨åˆ†è¿›è¡Œå®žé™…çš„DOMæ“ä½œã€‚ è™šæ‹ŸDOMçš„åŽŸç†ï¼šReactä¼šåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªè™šæ‹ŸDOMæ ‘ï¼Œå¯¹è¿™ä¸ªæ ‘è¿›è¡Œè¯»æˆ–å†™ï¼Œå®žé™…ä¸Šæ˜¯å¯¹è™šæ‹ŸDOMè¿›è¡Œã€‚å½“æ•°æ®å˜åŒ–æ—¶ï¼ŒReactä¼šè‡ªåŠ¨æ›´æ–°è™šæ‹ŸDOMï¼Œç„¶åŽå°†æ–°çš„è™šæ‹ŸDOMå’Œæ—§çš„è™šæ‹ŸDOMè¿›è¡Œå¯¹æ¯”ï¼Œæ‰¾åˆ°å˜æ›´çš„éƒ¨åˆ†ï¼Œå¾—å‡ºä¸€ä¸ªdiffï¼Œç„¶åŽå°†diffæ”¾åˆ°ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œæœ€ç»ˆæ‰¹é‡æ›´æ–°è¿™äº›diffåˆ°DOMä¸­ã€‚ è™šæ‹ŸDOMçš„ä¼˜ç‚¹ï¼šæœ€ç»ˆè¡¨çŽ°åœ¨DOMä¸Šçš„ä¿®æ”¹åªæ˜¯å˜æ›´çš„éƒ¨åˆ†ï¼Œå¯ä»¥ä¿è¯éžå¸¸é«˜æ•ˆçš„æ¸²æŸ“ã€‚ è™šæ‹ŸDOMçš„ç¼ºç‚¹ï¼šé¦–æ¬¡æ¸²æŸ“å¤§é‡DOMæ—¶ï¼Œç”±äºŽå¤šäº†ä¸€å±‚è™šæ‹ŸDOMçš„è®¡ç®—ï¼Œä¼šæ¯”innerHTMLæ’å…¥æ…¢ã€‚ è™šæ‹ŸDOMçš„ç†è§£è¯¯åŒºå¯¹è™šæ‹ŸDOMçš„ç†è§£å¾€å¾€åœç•™åœ¨ï¼šé€šè¿‡JavaScriptå¯¹è±¡æ¨¡æ‹ŸåŽŸç”ŸDOMï¼ŒåŠ ä¸ŠDOM Diff æžå¤§æå‡äº†DOMæ“ä½œçš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œè™šæ‹ŸDOMæœ€å¤§çš„æ„ä¹‰ä¸åœ¨äºŽæ€§èƒ½çš„æå‡ï¼ˆJavaScriptå¯¹è±¡æ¯”DOMå¯¹è±¡æ€§èƒ½é«˜ï¼‰ï¼Œè€Œåœ¨äºŽæŠ½è±¡äº†DOMçš„å…·ä½“å®žçŽ°ï¼ˆå¯¹DOMè¿›è¡Œäº†ä¸€å±‚æŠ½è±¡ï¼‰ï¼Œè¿™åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ Reactæ—¶ä¸æ˜¯ç‰¹åˆ«æ˜Žæ˜¾ï¼Œå› ä¸ºå†™çš„DOMæ ‡ç­¾è·ŸåŽŸç”Ÿçš„æ²¡æœ‰åŒºåˆ«ï¼Œå¹¶ä¸”æœ€ç»ˆéƒ½è¢«æ¸²æŸ“æˆäº†DOMï¼Œåœ¨React Nativeä¸­å°†ä¼šæœ‰å¾ˆå¥½çš„è¯´æ˜Žã€‚ æ¨¡æ‹Ÿæ–¹æ³•å’Œæ¸²æŸ“æ–¹æ³• è°ƒç”¨ let virtualDom1 = createElement(&#39;ul&#39;, {class: &#39;list&#39;}, [ createElement(&#39;li&#39;, {class: &#39;item&#39;}, [&#39;a&#39;]), createElement(&#39;li&#39;, {class: &#39;item&#39;}, [&#39;b&#39;]), createElement(&#39;li&#39;, {class: &#39;item&#39;}, [&#39;c&#39;]), ]) let virtualDom2 = createElement(&#39;ul&#39;, {class: &#39;list&#39;}, [ createElement(&#39;li&#39;, {class: &#39;item&#39;}, [&#39;1&#39;]), createElement(&#39;li&#39;, {class: &#39;item&#39;}, [&#39;2&#39;]), createElement(&#39;li&#39;, {class: &#39;item&#39;}, [&#39;3&#39;]), ]) let el = render(virtualDom); renderDom(el, window.root); let patchs = diff(virtualDom1, virtualDom2); ç”Ÿæˆè™šæ‹Ÿå¯¹è±¡çš„æ–¹æ³•createElement function createElement(type, props, children) { return new Element(type, props, children) } class Element{ constructor(type, props, children){ this.type = type; this.props = props; this.children = children } } å°†è™šæ‹Ÿå¯¹è±¡æ¸²æŸ“æˆçœŸå®žDOMçš„renderæ–¹æ³• //renderæ–¹æ³•å°†vNodeè½¬åŒ–æˆçœŸå®žDOM function render(eleObj){ //åˆ›å»ºå…ƒç´  let el = document.createElement(eleObj.type); //è®¾ç½®å±žæ€§ for(let key in eleObj.props) { setAttr(el, key, eleObj.props[key]); } //é€’å½’æ¸²æŸ“å­å…ƒç´  eleObj.children.foEach(child =&gt; { child = child instanceof Element ? render(child) : document.createTextNode(child); el.appendChild(child); }) } setAttr(node, key, value) { switch(key) { case &#39;value&#39;: if (node.tagName.toUpperCase() === &#39;INPUT&#39; || node.tagName.toUpperCase() === &#39;TEXTAREA&#39;) { node.value = value; }else { node.setAttribute(key, value); } break; case &#39;style&#39;: node.style.cssText = value; break; default: node.setAttribute(key, value); break; } } æ¸²æŸ“èŠ‚ç‚¹åˆ°é¡µé¢çš„æ–¹æ³•renderDom //å°†çœŸå®žDOMæ¸²æŸ“åˆ°é¡µé¢ function renderDom(el, target) { target.appendChild(el); } DOM DIFF ç®—æ³•DOM DIFF å°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªè™šæ‹ŸDOMçš„åŒºåˆ«ï¼Œå®žé™…ä¸Šå°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åŒºåˆ«ã€‚æ ¹æ®ä¸¤ä¸ªè™šæ‹Ÿå¯¹è±¡åˆ›å»ºå‡ºè¡¥ä¸ï¼Œæè¿°æ”¹å˜çš„å†…å®¹ã€‚å°†è¿™ä¸ªè¡¥ä¸ç”¨æ¥æ›´æ–°DOMã€‚ ã€æ³¨æ„ã€‘ä¸ä¼šæ›´æ”¹æ‰€æœ‰èŠ‚ç‚¹ï¼Œåªæ›´æ”¹æœ‰æ”¹å˜çš„éƒ¨åˆ† ç®—æ³•å®žçŽ° å·®å¼‚è®¡ç®—ï¼šå…ˆåºæ·±åº¦ä¼˜å…ˆéåŽ† è§„åˆ™ï¼š è‹¥èŠ‚ç‚¹ç±»åž‹ä¸ç›¸åŒï¼Œç›´æŽ¥é‡‡ç”¨æ›¿æ¢æ¨¡å¼ï¼Œ{type:â€™REPLACEâ€™,newNode:newNode} å½“èŠ‚ç‚¹ç±»åž‹ç›¸åŒæ—¶ï¼ŒåŽ»çœ‹ä¸€ä¸‹å±žæ€§æ˜¯å¦ç›¸åŒï¼Œäº§ç”Ÿä¸€ä¸ªå±žæ€§çš„è¡¥ä¸åŒ…ï¼Œæ¯”å¦‚{type:â€™ATTRSâ€™,attrs:{class: â€˜list-groupâ€™} æ–°çš„DOMèŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œä¹Ÿè¿”å›žä¸€ä¸ªä¸å­˜åœ¨çš„è¡¥ä¸åŒ…{type:â€™REMOVEâ€™,index:XXX} æ–‡æœ¬çš„å˜åŒ–{type:â€™TEXTâ€™, text:1} //diff ç®—æ³• let Index = 0; function diff(oldTree, newTree) { let patches = {}; let index = 0; //é€’å½’æ•°æ¯”è¾ƒåŽçš„ç»“æžœæ”¾åˆ°è¡¥ä¸åŒ…ä¸­ walk(oldTree, newTree, index, patches); return patches; } function walk(oldTree, newTree, index, patches){ let currentPatch = [];//æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªè¡¥ä¸å¯¹è±¡ if (!newTree) { currentPatch.push({type:&#39;REMOVE&#39;, index}) } if (isString(oldTree) &amp;&amp; isString(newTree)) { // åˆ¤æ–­æ–‡æœ¬æ˜¯å¦ä¸€è‡´ if (oldTree !== newTree) { currentPatch.push({type:&#39;TEXT&#39;,text:newTree}); } }else if(oldTree.type === newTree.type) { //æ¯”è¾ƒå±žæ€§æ˜¯å¦æœ‰æ›´æ”¹ let attrs = diffAttr(oldTree.props, newTree.props); if(Object.keys(attrs).length) { currentPatch.push({type:&#39;ATTRS&#39;, attrs}); } // å¦‚æžœæœ‰å„¿å­èŠ‚ç‚¹ï¼ŒéåŽ†å­èŠ‚ç‚¹ diffChildren(oldTree.children, newTree.children, index, patches); } else { // èŠ‚ç‚¹ç±»åž‹ä¸åŒçš„æ—¶å€™ï¼Œç›´æŽ¥æ›¿æ¢ currentPatch.push({type:&#39;REPLACE&#39;, newTree}); } // å½“å‰å…ƒç´ æœ‰è¡¥ä¸çš„æƒ…å†µä¸‹ï¼Œå°†å…ƒç´ å’Œè¡¥ä¸å¯¹åº”èµ·æ¥ï¼Œæ”¾åˆ°å¤§è¡¥ä¸åŒ…ä¸­ if(currentPatch.length) { patches[index] = currentPatch; } } function diffAttr(oldAttrs, newAttrs) { let patch = {}; for(let key in oldAttrs) { if(oldAttrs[key] !== newAttrs[key]) { patch[key] = newAttrs[key];//æœ‰å¯èƒ½æ˜¯undefinedï¼Œæ–°èŠ‚ç‚¹æ²¡æœ‰æ—§èŠ‚ç‚¹çš„å±žæ€§ } } for(let key in newAttrs) { //è€èŠ‚ç‚¹æ²¡æœ‰æ–°èŠ‚ç‚¹çš„å±žæ€§ if(! oldAttrs.hasOwnProperty(key)) { patch[key] = newAttrs[key] } } return patch; } function diffChildren(oldChildren, newChildren, index, patches){ // æ¯”è¾ƒè€çš„ç¬¬ä¸€ä¸ªå’Œæ–°çš„ç¬¬ä¸€ä¸ª oldChildren.forEach((child, idx) =&gt; { // è®°å¾—ç´¢å¼•å¾—æ”¹ // Index æ¯æ¬¡ä¼ é€’ç»™walkæ—¶ï¼Œindexæ˜¯é€’å¢žçš„ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½åŸºäºŽä¸€ä¸ªåºå·å®žçŽ°ï¼Œå› æ­¤éœ€è¦ç»´æŠ¤ä¸€ä¸ªå…¨å±€Index walk(child, newChildren[idx], ++Index, patches); }) } function isString(node) { return Object.prototype.toString.call(node) === &#39;[object string]&#39;; } function patch(node, patches) { // ç»™æŸä¸ªå…ƒç´ æ‰“è¡¥ä¸ } æ€»ç»“ domç»“æž„å‘ç”Ÿæ”¹å˜ï¼š ç›´æŽ¥å¸è½½å¹¶é‡æ–°create domç»“æž„ä¸€æ ·ï¼š ä¸ä¼šå¸è½½ï¼Œä½†æ˜¯ä¼šæ›´æ–° åœ¨åŒä¸€å±‚çº§çš„å­èŠ‚ç‚¹ï¼Œä»–ä»¬éƒ½å¯ä»¥é€šè¿‡keyå¼€åŒºåˆ†ã€åŒæ—¶éµå¾ªä¸Šé¢ä¸¤ç‚¹ã€‘ è¡ç”Ÿï¼šåŠ äº†keyçš„å¥½å¤„: åŠ äº†keyå€¼å¯ä»¥å…·ä½“ç¡®å®šå“ªäº›å…ƒç´ è¢«ä¿®æ”¹ï¼Œä¾¿äºŽå¯¹æ¯”æ–°æ—§domæ ‘ï¼ŒåŠ å¿«è™šæ‹Ÿdomçš„æ¸²æŸ“é€Ÿåº¦ æˆ‘ä»¬è¯¥ä¸è¯¥æŠŠmapçš„indexä½œä¸ºkey æœ€å¥½å°†æ•°æ®æœ¬èº«çš„idæœ€ä¸ºkeyå€¼ï¼Œå¦‚æžœä½¿ç”¨indexä½œä¸ºkeyå€¼ï¼Œå¦‚æžœå‰åŽä¸¤æ¬¡ä¸¤æ¬¡arråˆ†åˆ«ä¸º[1,2,3,4]å’Œ[5,6,7,8]å’Œå‰åŽä¸¤æ¬¡arråˆ†åˆ«ä¸º[1,2,3,4]å’Œ[4,3,2,1]çš„æƒ…å†µ,å¾ˆæ˜Žæ˜¾å‰è€…å¯ä»¥è®¤ä¸ºæ˜¯DOMæ”¹å˜äº†,åŽè€…å¯ä»¥è®¤ä¸ºæ˜¯DOMèŠ‚ç‚¹çš„ä½ç§»æ“ä½œ,é‚£ä¹ˆå¯¹äºŽç¬¬ä¸€ç§æƒ…å†µæ¥è¯´indexä½œä¸ºkeyå’Œæ²¡æœ‰keyå€¼æ— åŒºåˆ«,ä½†æ˜¯ç¬¬äºŒç§æƒ…å†µç”¨indexä½œä¸ºkeyå€¼æ•ˆæžœæ²¡æœ‰æ¯”ç”¨æ•°æ®æœ¬èº«ä½œä¸ºkeyå€¼å¥½ keyå€¼å¿…é¡»å”¯ä¸€ä¸”ä¸é‡å¤ä¹ˆ å‰ææ¡ä»¶æ˜¯æ˜¯å¦ä¸ºåŒä¸€çˆ¶èŠ‚ç‚¹ å‚è€ƒæ–‡ç« ï¼šé£žé£žå»‰çš„ç®€ä¹¦]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactç»„ä»¶é”€æ¯ä¸­æ¸…ç†å¼‚æ­¥æ“ä½œå’Œå–æ¶ˆè¯·æ±‚]]></title>
    <url>%2F2019%2F04%2F03%2Freact-question%2F</url>
    <content type="text"><![CDATA[Reactç»„ä»¶é”€æ¯ä¸­æ¸…ç†å¼‚æ­¥æ“ä½œå’Œå–æ¶ˆè¯·æ±‚é—®é¢˜æè¿°å½“æˆ‘ä»¬åœ¨å¹³æ—¶åˆ‡æ¢ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œå¦‚æžœç»„ä»¶ä¸­æœ‰å¼‚æ­¥è¯·æ±‚ä»»åŠ¡ï¼Œã€å½“æŽ¥å£å·²ç»å‘å‡ºè¯·æ±‚ï¼Œä½†æ˜¯ç»„ä»¶å·²ç»é”€æ¯ï¼Œé‚£ä¹ˆæŽ¥å£è¿”å›žæ•°æ®åŽã€‚ã€‚ã€‚ã€‘ ä¼šæœ‰è¿™ä¹ˆä¸€ä¸ªè­¦å‘Š Warning: Canâ€™t perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method. ç¿»è¯‘ï¼š è­¦å‘Šï¼šæ— æ³•å¯¹æœªå®‰è£…çš„ç»„ä»¶æ‰§è¡Œå“åº”çŠ¶æ€æ›´æ–°ã€‚è¿™æ˜¯ä¸€ä¸ªç¦æ­¢æ“ä½œï¼Œä½†å®ƒè¡¨ç¤ºåº”ç”¨ç¨‹åºå†…å­˜æ³„æ¼ã€‚è¦ä¿®å¤ï¼Œè¯·å–æ¶ˆcomponentwillunmountæ–¹æ³•ä¸­çš„æ‰€æœ‰è®¢é˜…å’Œå¼‚æ­¥ä»»åŠ¡ã€‚ è§£å†³æ–¹æ³• æƒ…å†µä¸€: é˜»æ­¢å¼‚æ­¥æ“ä½œ componentWillUnmount() { this.setState = (state, callback) =&gt; { return } } æƒ…å†µäºŒ: æ¸…é™¤å®šæ—¶ var timer; ... componentDidMount = () =&gt; { timer = setTimeout(() =&gt; { this.setState({a:123}) },1000) } componentWillUnMount = () =&gt; { clearTimeout(timer) }]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reactä¸­çš„setStateçš„ä½¿ç”¨å’Œæ·±å…¥ç†è§£]]></title>
    <url>%2F2019%2F04%2F03%2FsetState%2F</url>
    <content type="text"><![CDATA[reactä¸­çš„setStateçš„ä½¿ç”¨å’Œæ·±å…¥ç†è§£Reacté€šè¿‡ç®¡ç†çŠ¶æ€å®žçŽ°å¯¹ç»„ä»¶çš„ç®¡ç†ï¼Œé€šè¿‡this.state()æ–¹æ³•æ›´æ–°stateã€‚å½“this.setState()è¢«è°ƒç”¨çš„æ—¶å€™ï¼ŒReactä¼šé‡æ–°è°ƒç”¨renderæ–¹æ³•æ¥é‡æ–°æ¸²æŸ“UIã€‚ åœ¨ä½¿ç”¨stateçš„æ—¶å€™ï¼Œ å¦‚æžœæˆ‘ä»¬ä¼å›¾ç›´æŽ¥ä¿®æ”¹stateä¸­çš„æŸä¸€ä¸ªå€¼ä¹‹åŽç›´æŽ¥æ‰“å°ï¼ˆä½¿ç”¨ï¼‰ä»–ï¼Œå°±ä¼šå‘çŽ°ï¼Œä»–å…¶å®žå¹¶æ²¡æœ‰æ”¹å˜ã€‚ å°±åƒä¸‹é¢çš„ä¾‹å­ï¼Œä¼å›¾é€šè¿‡ç‚¹å‡»äº‹ä»¶ä¹‹åŽå°±ä½¿ç”¨ä¿®æ”¹ä¹‹åŽçš„stateçš„å€¼ï¼Œä½†æ˜¯ä¼šå‘stateä¸­çš„å¹¶æ²¡æœ‰è¢«ç«‹å³ä¿®æ”¹ï¼Œè¿˜æ˜¯åŽŸå…ˆçš„å€¼ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“é‚£æ˜¯å› ä¸ºsetStateå°±ç›¸å½“äºŽæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œä¸èƒ½ç«‹å³è¢«ä¿®æ”¹ ClickChangeState () { this.setState({ isActive: true, }) console.log(this.state.isActive) // false } é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿéƒ½çŸ¥é“ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ä¼šæœ‰å¾ˆå¤šæ–¹æ³•ä¾‹å¦‚ï¼š æ–¹æ³•ä¸€ï¼š ClickChangeState () { this.setState({ isActive: true, }, () =&gt; { console.log(this.state.isActive) // true }) } è¿™ä¸ªå›žè°ƒå‡½æ•°ä¼šåœ¨ä¿®æ”¹äº†stateä¹‹åŽæ‰ä¼šæ‰§è¡Œï¼Œè¿™å°±å°±å¯ä»¥ä½¿ç”¨ä¿®æ”¹ä¹‹åŽçš„stateçš„å€¼äº† æ–¹æ³•äºŒï¼š async ClickChangeState () { await this.setState({ isActive: true, }) console.log(this.state.isActive) // false } æ“ä½œå¼‚æ­¥å‡½æ•°ï¼Œç”¨çš„æœ€èˆ’æœçš„è¿˜æ˜¯async / await åœ¨ä½¿ç”¨setStateçš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§æ ¼å¼;ç¬¬ä¸€ç§setstateï¼ˆï¼‰æ ¼å¼ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œè¿™ä¸ªå›žè°ƒå‡½æ•°æ˜¯åœ¨setstateæ‰§è¡Œå®Œå¹¶é¡µé¢æ¸²æŸ“äº†ä¹‹åŽå†æ‰§è¡ŒClickChangeState () { this.setState({ isActive: true, }, () =&gt; { console.log(this.state.isActive) // true }) } ä½†æ˜¯è¿™ç§ä¿®æ”¹çš„æ–¹å¼ä¸ç¨³å¦¥ï¼Œå› ä¸ºæ˜¯ç›´æŽ¥ä¿®æ”¹ setstateçš„ç¬¬äºŒç§æ ¼å¼ï¼ŒæŽ¥æ”¶ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå›žè°ƒå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æŽ¥æ”¶å‰ä¸€ä¸ªçŠ¶æ€å€¼ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¹¶å°†æ›´æ–°åŽçš„å€¼ä½œä¸ºç¬¬äºŒä¸ªå‚æ•° ClickChangeState () { this.setState((prevState) =&gt; { isActive: !prevState.isActive, }, () =&gt; { console.log(this.state.isActive) // true }) } setStateå¼‚æ­¥æ›´æ–° setStateé€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—æœºåˆ¶å®žçŽ°stateçš„æ›´æ–°ã€‚å½“æ‰§è¡ŒsetStateæ—¶ï¼Œä¼šæŠŠéœ€è¦æ›´æ–°çš„stateåˆå¹¶åŽæ”¾å…¥çŠ¶æ€é˜Ÿåˆ—ï¼Œè€Œä¸ä¼šç«‹åˆ»æ›´æ–°this.stateï¼Œåˆ©ç”¨è¿™ä¸ªé˜Ÿåˆ—æœºåˆ¶å¯ä»¥é«˜æ•ˆçš„æ‰¹é‡çš„æ›´æ–°stateã€‚ Reactæ–‡æ¡£ä¸­å¯¹setStateçš„è¯´æ˜Ž void setState( function|object nextState, [function callback] ) The second (optional) parameter is a callback function that will be executed once setState is completed and the component is re-rendered. ç¿»è¯‘ï¼š ç¬¬äºŒä¸ªï¼ˆå¯é€‰ï¼‰å‚æ•°æ˜¯ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œå®ƒå°†åœ¨setstateå®Œæˆå¹¶é‡æ–°å‘ˆçŽ°ç»„ä»¶åŽæ‰§è¡Œã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå›žè°ƒæ¥æ‹¿åˆ°æ›´æ–°çš„stateçš„å€¼ã€‚Reactä¹Ÿæ­£æ˜¯åˆ©ç”¨çŠ¶æ€é˜Ÿåˆ—æœºåˆ¶å®žçŽ°äº†setStateçš„å¼‚æ­¥æ›´æ–°ï¼Œé¿å…é¢‘ç¹åœ°é‡å¤æ›´æ–°state(pendingçš„æ„æ€æ˜¯æœªå®šçš„ //å°†æ–°çš„stateåˆå¹¶åˆ°çŠ¶æ€æ›´æ–°é˜Ÿåˆ—ä¸­ var nextState = this._processPendingState(nextProps, nextContext); //æ ¹æ®æ›´æ–°é˜Ÿåˆ—å’ŒshouldComponentçš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ var shouldUpdate = this._pendingForceUpdate || !inst.shouldComponentUpdate || inst.shouldComponentUpdate(nextProps, nextState, nextContext); setStateå¾ªçŽ¯è°ƒç”¨é£Žé™©å¦‚æžœåœ¨shouldComponentUpdateæˆ–è€…componentWillUpdateæ–¹æ³•ä¸­è°ƒç”¨setStateï¼Œæ­¤æ—¶this._pending-StateQueue != nullï¼Œå°±ä¼šé€ æˆå¾ªçŽ¯è°ƒç”¨ï¼Œä½¿å¾—æµè§ˆå™¨å†…å­˜å æ»¡åŽå´©æºƒ è°ƒç”¨æ ˆimport React, { Component } from &#39;react&#39;; class Example extends Component { constructor(){ super(); //åœ¨ç»„ä»¶åˆå§‹åŒ–å¯ä»¥ç›´æŽ¥æ“ä½œthis.state this.state = { val: 0 } } componentDidMount(){ this.setState({ val: this.state.val + 1 }); //ç¬¬ä¸€æ¬¡è¾“å‡º console.log(this.state.val); this.setState({ val: this.state.val + 1 }); //ç¬¬äºŒæ¬¡è¾“å‡º console.log(this.state.val); setTimeout(()=&gt;{ this.setState({val: this.state.val + 1}); //ç¬¬ä¸‰æ¬¡è¾“å‡º console.log(this.state.val); this.setState({ val: this.state.val + 1 }); //ç¬¬å››æ¬¡è¾“å‡º console.log(this.state.val); }, 0); } render(){ return null; } } ä¸Šè¿°ä»£ç ä¸­ï¼Œ4æ¬¡console.logæ‰“å°å‡ºæ¥çš„valåˆ†åˆ«æ˜¯: 0ï¼Œ0ï¼Œ2 ï¼Œ3 æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€åŒ–çš„setStateçš„è°ƒç”¨æ ˆ this.setState(newState) =&gt; newStateå­˜å…¥pendingé˜Ÿåˆ— =&gt; è°ƒç”¨enqueueUpdate =&gt; æ˜¯å¦å¤„äºŽæ‰¹é‡æ›´æ–°æ¨¡å¼ =&gt; æ˜¯çš„è¯å°†ç»„ä»¶ä¿å­˜åˆ°dirtyComponents ä¸æ˜¯çš„è¯éåŽ†dirtyComponentsï¼Œè°ƒç”¨updateComponent,æ›´æ–°pending state or props äº‹åŠ¡(transaction)äº‹åŠ¡å°±æ˜¯å°†éœ€è¦æ‰§è¡Œçš„æ–¹æ³•ç”¨wrapperå°è£…èµ·æ¥ï¼Œå†é€šè¿‡äº‹åŠ¡æä¾›çš„performæ–¹æ³•æ‰§è¡Œã€‚è€Œå†performä¹‹å‰ï¼Œå…ˆæ‰§è¡Œæ‰€wrapeerä¸­çš„initializeæ–¹æ³•ï¼Œæ‰§è¡Œå®Œéœ€è¦æ‰§è¡Œçš„æ–¹æ³•åŽï¼Œå†æ‰§è¡Œcloseæ–¹æ³•ã€‚ä¸€ç»„initializeå’Œcloseæ–¹æ³•ç§°ä¸ºä¸€ä¸ªwrapperï¼Œäº‹åŠ¡æ”¯æŒå¤šä¸ªwrapperå åŠ ã€‚ æˆ‘ä»¬å¯ä»¥å°†4æ¬¡setStateç®€å•è§„æˆä¸¤ç±»ï¼ŒcomponentDidMountæ˜¯ä¸€ç±»ï¼ŒsetTimeOutä¸­çš„åˆæ˜¯ä¸€ç±»ï¼Œå› ä¸ºè¿™ä¸¤æ¬¡åœ¨ä¸åŒçš„è°ƒç”¨æ ˆä¸­æ‰§è¡Œã€‚ æˆ‘ä»¬å…ˆçœ‹çœ‹åœ¨componentDidMountä¸­setStateçš„è°ƒç”¨æ ˆï¼š å†çœ‹çœ‹åœ¨setTimeOutä¸­çš„è°ƒç”¨æ ˆï¼š å‰ä¸¤æ¬¡æ˜¯æ•´ä¸ªå°†Reactç»„ä»¶æ¸²æŸ“åˆ°DOMçš„è¿‡ç¨‹å°±å¤„äºŽä¸€ä¸ªå¤§çš„äº‹åŠ¡ä¸­ componentDidMountä¸­è°ƒç”¨setStateæ—¶,ä¸¤æ¬¡setStateçš„ç»“æžœå¹¶æ²¡æœ‰ç«‹å³ç”Ÿæ•ˆï¼Œè€Œæ˜¯è¢«æ”¾è¿›äº†dirtyComponentsä¸­ã€‚å› ä¸ºæ–°çš„stateè¿˜æ²¡è¢«åº”ç”¨åˆ°ç»„ä»¶ä¸­ã€‚ setTimeOutä¸­çš„ä¸¤æ¬¡setStateï¼Œå› ä¸ºæ²¡æœ‰è·Ÿéšç»„ä»¶åˆ°æ¸²æŸ“domçš„ä¸€ä¸ªæµç¨‹ï¼Œå¯¼è‡´äº†æ–°çš„stateé©¬ä¸Šç”Ÿæ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒsetTimeOutä¸­çš„ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼ŒsetStateæ—¶ï¼Œthis.state.valä¸º1ï¼Œè€ŒsetStateå®ŒæˆåŽæ‰“å°æ—¶this.state.valå˜æˆäº†2ã€‚ç¬¬äºŒæ¬¡çš„setStateåŒç†ã€‚ æ€»ç»“åœ¨æ‰§è¡ŒsetStateå¹¶ä¸æ˜¯è¯´ä»–æ˜¯å¼‚æ­¥çš„ï¼Œå®˜æ–¹ç»™å‡ºçš„è¯´æ˜Žæ˜¯ ä¸ä¿è¯this.stateä¼šç«‹å³æ›´æ–°ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•åŽå­˜å–this.stateå¯èƒ½ä¼šå›žä¼ æ—§çš„å€¼ã€‚ ä¸ä¿è¯è°ƒç”¨setStateå°±ä¼šåŒæ­¥åœ°æ‰§è¡Œï¼Œè€Œå®ƒä»¬ä¹Ÿå¯èƒ½æœ€ç»ˆè¢«è¢«æ‰¹é‡è°ƒç”¨(å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µä¸‹)ã€‚ä½ å¯ä»¥æä¾›é¢å¤–çš„å›žè°ƒï¼Œå›žè°ƒå°†ä¼šåœ¨setStateå®žé™…è¢«å®Œæˆæ—¶è¢«æ‰§è¡Œã€‚ åœ¨æ‰§è¡ŒsetStateï¼Œä»–æ˜¯è·Ÿéšå°†reactç»„ä»¶æ¸²æŸ“åˆ°domè¿™ä¸ªæµç¨‹èµ°çš„ï¼Œä¼šå°†æ–°çš„stateå€¼æ”¾å…¥åˆ°ä¸€ä¸ªæ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œäº‹åŠ¡ï¼ˆtransactionï¼‰ä¼šè¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚åœ¨æ‰¹é‡è°ƒç”¨çš„æƒ…å†µä¸‹ï¼Œä¼šå¯¹å¤šä¸ªsetStateè¿›è¡Œåˆå¹¶ã€‚setTimeoutä¸­setStateå’Œåœ¨ç”Ÿå‘½å‘¨æœŸé‡ŒsetStateçš„åŒºåˆ«åœ¨äºŽï¼ŒsetTimeoutä¸­çš„setStateä¼šè‡ªå·±è§¦å‘ä¸€ä¸ªtransactionï¼Œè€Œç”Ÿå‘½å‘¨æœŸä¸­çš„setStateå·²ç»å¤„äºŽReactç”Ÿå‘½å‘¨æœŸçš„transactionä¸­äº†ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React.Component ä¸Ž React.PureComponentï¼ˆReactä¹‹æ€§èƒ½ä¼˜åŒ–ï¼‰]]></title>
    <url>%2F2019%2F04%2F03%2FPureComponent%2F</url>
    <content type="text"><![CDATA[React.Component ä¸Ž React.PureComponentï¼ˆReactä¹‹æ€§èƒ½ä¼˜åŒ–ï¼‰æèµ·React.PureComponentï¼Œé¦–å…ˆè¦ä»Žä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€shouldComponentUpdateã€‘è¯´èµ·ï¼Œéƒ½çŸ¥é“è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥æŽ§åˆ¶ç»„ä»¶æ˜¯å¦åº”è¯¥è¢«æ¸²æŸ“ shouldComponentUpdate è¿™ä¸ªç”Ÿå‘½å‘¨æœŸè¿”å›žçš„æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æžœè¿”å›žä¸ºfalseçš„ï¼Œå…¶å®žå°±æ˜¯ä¸æ‰§è¡Œrenderå‡½æ•°ï¼Œä¸æ‰§è¡Œå°±ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œè¿”å›žä¸ºtrueçš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œï¼Œå¦‚æžœä¸å†™è¿™ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œé»˜è®¤è¿”å›žtrue å†™å…¥shouldComponentUpdateï¼Œå¯ä»¥æé«˜æ€§èƒ½ï¼Œä½ å¯ä»¥åœ¨è¯¥å‡½æ•°æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥åˆ¤æ–­æ˜¯å¦é‡æ–°æ¸²æŸ“ class CounterButton extends React.Component { constructor(props) { super(props); this.state = {count: 1}; } shouldComponentUpdate(nextProps, nextState) { if (this.props.color !== nextProps.color) { return true; } if (this.state.count !== nextState.count) { return true; } return false; } render() { return ( &lt;button color={this.props.color} onClick={() =&gt; this.setState(state =&gt; ({count: state.count + 1}))} &gt; Count: {this.state.count} &lt;/button&gt; ); } } React.Component ä¸Ž React.PureComponenté€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ES6çš„classå…³é”®å­—æ¥åˆ›å»ºReactç»„ä»¶ï¼š class MyComponent extends React.Component { // some codes here ... } ä½†æ˜¯ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªç»§æ‰¿React.PureComponentçš„Reactç»„ä»¶ï¼Œå°±åƒè¿™æ · class MyComponent extends React.PureComponent { // some codes here } åŒºåˆ«ï¼š ç»§æ‰¿PureComponentæ—¶ï¼Œä¸èƒ½å†é‡å†™shouldComponentUpdateï¼Œå¦åˆ™ä¼šå¼•å‘è­¦å‘Š Warning: ListOfWords has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used. è­¦å‘Šï¼šListOfWordsæœ‰ä¸€ä¸ªåä¸ºShouldComponentUpdateï¼ˆï¼‰çš„æ–¹æ³•ã€‚æ‰©å±•react.pureComponentæ—¶ä¸åº”ä½¿ç”¨ShouldComponentUpdateã€‚å¦‚æžœä½¿ç”¨shouldComponentUpdateï¼Œè¯·æ‰©å±•react.componentã€‚ ç»§æ‰¿PureComponentæ—¶ï¼Œè¿›è¡Œçš„æ˜¯æµ…æ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœæ˜¯å¼•ç”¨ç±»åž‹çš„æ•°æ®ï¼Œåªä¼šæ¯”è¾ƒæ˜¯ä¸æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œè€Œä¸ä¼šæ¯”è¾ƒå…·ä½“è¿™ä¸ªåœ°å€å­˜çš„æ•°æ®æ˜¯å¦å®Œå…¨ä¸€è‡´ PureComponentåŽŸç†:å½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œå¦‚æžœç»„ä»¶çš„ props å’Œ state éƒ½æ²¡å‘ç”Ÿæ”¹å˜ï¼Œ render æ–¹æ³•å°±ä¸ä¼šè§¦å‘ï¼ŒçœåŽ» Virtual DOM çš„ç”Ÿæˆå’Œæ¯”å¯¹è¿‡ç¨‹ï¼Œè¾¾åˆ°æå‡æ€§èƒ½çš„ç›®çš„ã€‚å…·ä½“å°±æ˜¯ React è‡ªåŠ¨å¸®æˆ‘ä»¬åšäº†ä¸€å±‚æµ…æ¯”è¾ƒï¼š if (this._compositeType === CompositeTypes.PureClass) { shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(inst.state, nextState); } è€Œ shallowEqual åˆåšäº†ä»€ä¹ˆå‘¢ï¼Ÿä¼šæ¯”è¾ƒ Object.keys(state | props) çš„é•¿åº¦æ˜¯å¦ä¸€è‡´ï¼Œæ¯ä¸€ä¸ª key æ˜¯å¦ä¸¤è€…éƒ½æœ‰ï¼Œå¹¶ä¸”æ˜¯å¦æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯åªæ¯”è¾ƒäº†ç¬¬ä¸€å±‚çš„å€¼ï¼Œç¡®å®žå¾ˆæµ…ï¼Œæ‰€ä»¥æ·±å±‚çš„åµŒå¥—æ•°æ®æ˜¯å¯¹æ¯”ä¸å‡ºæ¥çš„ã€‚ é—®é¢˜:å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨React.PureComponentè€Œä¸å¿…å†™ä½ è‡ªå·±çš„shouldComponentUpdateï¼Œå®ƒåªåšä¸€ä¸ªæµ…æ¯”è¾ƒã€‚ä½†æ˜¯ç”±äºŽæµ…æ¯”è¾ƒä¼šå¿½ç•¥å±žæ€§æˆ–çŠ¶æ€çªå˜çš„æƒ…å†µï¼Œæ­¤æ—¶ä½ ä¸èƒ½ä½¿ç”¨å®ƒã€‚ class ListOfWords extends React.PureComponent { render() { return &lt;div&gt;{this.props.words.join(&#39;,&#39;)}&lt;/div&gt;; } } class WordAdder extends React.Component { constructor(props) { super(props); this.state = { words: [&#39;marklar&#39;] }; this.handleClick = this.handleClick.bind(this); } handleClick() { // This section is bad style and causes a bug const words = this.state.words; words.push(&#39;marklar&#39;); this.setState({words: words}); } render() { return ( &lt;div&gt; &lt;button onClick={this.handleClick} /&gt; &lt;ListOfWords words={this.state.words} /&gt; &lt;/div&gt; ); } } åœ¨ListOfWordsä¸­ï¼Œthis.props.wordsæ˜¯WordAdderä¸­ä¼ å…¥çš„å…¶stateçš„ä¸€ä¸ªå¼•ç”¨ã€‚è™½ç„¶åœ¨WordAdderçš„handelClickæ–¹æ³•ä¸­è¢«æ”¹å˜äº†ï¼Œä½†æ˜¯å¯¹äºŽListOfWordsæ¥è¯´ï¼Œå…¶å¼•ç”¨æ˜¯ä¸å˜çš„ï¼Œä»Žè€Œå¯¼è‡´å¹¶æ²¡æœ‰è¢«æ›´æ–°ã€‚ è§£å†³æ–¹æ³•åœ¨ä¸Šé¢çš„é—®é¢˜ä¸­å¯ä»¥å‘çŽ°ï¼Œå½“ä¸€ä¸ªæ•°æ®æ˜¯ä¸å˜æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¼•ç”¨ã€‚ä½†æ˜¯å¯¹äºŽä¸€ä¸ªæ˜“å˜æ•°æ®æ¥è¯´ï¼Œä¸èƒ½ä½¿ç”¨å¼•ç”¨çš„æ–¹å¼ç»™åˆ°PureComponentã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨PureComponentå¤–å±‚æ¥ä¿®æ”¹å…¶ä½¿ç”¨çš„æ•°æ®æ—¶ï¼Œåº”è¯¥ç»™å…¶èµ‹å€¼ä¸€ä¸ªæ–°çš„å¯¹è±¡æˆ–è€…å¼•ç”¨ï¼Œä»Žè€Œæ‰èƒ½ç¡®ä¿å…¶èƒ½å¤Ÿè¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚ä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„handleClickå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ¥è¿›è¡Œä¿®æ”¹ä»Žè€Œç¡®è®¤æ­£ç¡®çš„æ¸²æŸ“ï¼š handleClick() { this.setState(prevState =&gt; ({ words: prevState.words.concat([&#39;marklar&#39;]) })); } æˆ–è€… handleClick() { this.setState(prevState =&gt; ({ words: [...prevState.words, &#39;marklar&#39;], })); }; æˆ–è€…é’ˆå¯¹å¯¹è±¡ç»“æž„ï¼š function updateColorMap(oldObj) { return Object.assign({}, oldObj, {key: new value}); } immutable.jsæ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„å¦ä¸€ç§æ–¹æ³•ã€‚å®ƒé€šè¿‡ç»“æž„å…±äº«æä¾›ä¸å¯çªå˜çš„ï¼ŒæŒä¹…çš„é›†åˆï¼š è¯¦æƒ…å‚è€ƒimmutable.js æ€»ç»“ PureComponent çœŸæ­£èµ·ä½œç”¨çš„ï¼Œåªæ˜¯åœ¨ä¸€äº›çº¯å±•ç¤ºç»„ä»¶ä¸Šï¼Œå¤æ‚ç»„ä»¶ä½¿ç”¨çš„è¯shallowEqual é‚£ä¸€å…³åŸºæœ¬å°±è¿‡ä¸äº†ã€‚å¦å¤–åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¸ºäº†ç¡®ä¿èƒ½å¤Ÿæ­£ç¡®çš„æ¸²æŸ“ï¼Œè®°å¾— props å’Œ state ä¸èƒ½ä½¿ç”¨åŒä¸€ä¸ªå¼•ç”¨å“¦ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueæ··å…¥ã€mixinsã€‘]]></title>
    <url>%2F2019%2F04%2F02%2Fminxins%2F</url>
    <content type="text"><![CDATA[vueæ··å…¥ã€mixinsã€‘æ··å…¥ (mixins) æ˜¯ä¸€ç§åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éžå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚ // å®šä¹‰ä¸€ä¸ªæ··å…¥å¯¹è±¡ var myMixin = { created: function () { this.hello() }, methods: { hello: function () { console.log(&#39;hello from mixin!&#39;) } } } // å®šä¹‰ä¸€ä¸ªä½¿ç”¨æ··å…¥å¯¹è±¡çš„ç»„ä»¶ var Component = Vue.extend({ mixins: [myMixin] }) var component = new Component() // =&gt; &quot;hello from mixin!&quot; é€‰é¡¹åˆå¹¶å½“ç»„ä»¶å’Œæ··å…¥å¯¹è±¡å«æœ‰åŒåé€‰é¡¹æ—¶ï¼Œè¿™äº›é€‰é¡¹å°†ä»¥æ°å½“çš„æ–¹å¼æ··åˆã€‚ æ¯”å¦‚ï¼Œæ•°æ®å¯¹è±¡åœ¨å†…éƒ¨ä¼šè¿›è¡Œé€’å½’åˆå¹¶ï¼Œåœ¨å’Œç»„ä»¶çš„æ•°æ®å‘ç”Ÿå†²çªæ—¶ä»¥ç»„ä»¶æ•°æ®ä¼˜å…ˆã€‚ var mixin = { data: function () { return { message: &#39;hello&#39;, foo: &#39;abc&#39; } } } new Vue({ mixins: [mixin], data: function () { return { message: &#39;goodbye&#39;, bar: &#39;def&#39; } }, created: function () { console.log(this.$data) // =&gt; { message: &quot;goodbye&quot;, foo: &quot;abc&quot;, bar: &quot;def&quot; } } }) åŒåé’©å­å‡½æ•°å°†æ··åˆä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤éƒ½å°†è¢«è°ƒç”¨ã€‚å¦å¤–ï¼Œæ··å…¥å¯¹è±¡çš„é’©å­å°†åœ¨ç»„ä»¶è‡ªèº«é’©å­ä¹‹å‰è°ƒç”¨ã€‚ var mixin = { created: function () { console.log(&#39;æ··å…¥å¯¹è±¡çš„é’©å­è¢«è°ƒç”¨&#39;) } } new Vue({ mixins: [mixin], created: function () { console.log(&#39;ç»„ä»¶é’©å­è¢«è°ƒç”¨&#39;) } }) // =&gt; &quot;æ··å…¥å¯¹è±¡çš„é’©å­è¢«è°ƒç”¨&quot; // =&gt; &quot;ç»„ä»¶é’©å­è¢«è°ƒç”¨&quot; å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ methods, components å’Œ directivesï¼Œå°†è¢«æ··åˆä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚ var mixin = { methods: { foo: function () { console.log(&#39;foo&#39;) }, conflicting: function () { console.log(&#39;from mixin&#39;) } } } var vm = new Vue({ mixins: [mixin], methods: { bar: function () { console.log(&#39;bar&#39;) }, conflicting: function () { console.log(&#39;from self&#39;) } } }) vm.foo() // =&gt; &quot;foo&quot; vm.bar() // =&gt; &quot;bar&quot; vm.conflicting() // =&gt; &quot;from self&quot; æ³¨æ„ï¼šVue.extend() ä¹Ÿä½¿ç”¨åŒæ ·çš„ç­–ç•¥è¿›è¡Œåˆå¹¶ã€‚ å…¨å±€æ··å…¥ä¹Ÿå¯ä»¥å…¨å±€æ³¨å†Œæ··å…¥å¯¹è±¡ã€‚æ³¨æ„ä½¿ç”¨ï¼ ä¸€æ—¦ä½¿ç”¨å…¨å±€æ··å…¥å¯¹è±¡ï¼Œå°†ä¼šå½±å“åˆ° æ‰€æœ‰ ä¹‹åŽåˆ›å»ºçš„ Vue å®žä¾‹ã€‚ä½¿ç”¨æ°å½“æ—¶ï¼Œå¯ä»¥ä¸ºè‡ªå®šä¹‰å¯¹è±¡æ³¨å…¥å¤„ç†é€»è¾‘ã€‚ // ä¸ºè‡ªå®šä¹‰çš„é€‰é¡¹ &#39;myOption&#39; æ³¨å…¥ä¸€ä¸ªå¤„ç†å™¨ã€‚ Vue.mixin({ created: function () { var myOption = this.$options.myOption if (myOption) { console.log(myOption) } } }) new Vue({ myOption: &#39;hello!&#39; }) // =&gt; &quot;hello!&quot; è°¨æ…Žä½¿ç”¨å…¨å±€æ··å…¥å¯¹è±¡ï¼Œå› ä¸ºä¼šå½±å“åˆ°æ¯ä¸ªå•ç‹¬åˆ›å»ºçš„ Vue å®žä¾‹ (åŒ…æ‹¬ç¬¬ä¸‰æ–¹æ¨¡æ¿)ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªåº”å½“åº”ç”¨äºŽè‡ªå®šä¹‰é€‰é¡¹ï¼Œå°±åƒä¸Šé¢ç¤ºä¾‹ä¸€æ ·ã€‚ä¹Ÿå¯ä»¥å°†å…¶ç”¨ä½œ Plugins ä»¥é¿å…äº§ç”Ÿé‡å¤åº”ç”¨]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueè‡ªå®šä¹‰æŒ‡ä»¤]]></title>
    <url>%2F2019%2F04%2F02%2Fvue-directive%2F</url>
    <content type="text"><![CDATA[vueè‡ªå®šä¹‰æŒ‡ä»¤ æ³¨å†Œå…¨å±€æŒ‡ä»¤ // æ³¨å†Œä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ `v-focus` Vue.directive(&#39;focus&#39;, { // å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦ inserted: function (el) { // èšç„¦å…ƒç´  el.focus() } }) æ³¨å†Œå±€éƒ¨æŒ‡ä»¤ directives: { focus: { // æŒ‡ä»¤çš„å®šä¹‰ inserted: function (el) { el.focus() } } } ä½¿ç”¨æ–¹å¼ &lt;input v-focus&gt; é’©å­å‡½æ•°ä¸€ä¸ªæŒ‡ä»¤å®šä¹‰å¯¹è±¡å¯ä»¥æä¾›å¦‚ä¸‹å‡ ä¸ªé’©å­å‡½æ•° (å‡ä¸ºå¯é€‰)ï¼š bind åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚ inserted è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ (ä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ä¸­)ã€‚ update æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨ï¼Œä½†æ˜¯å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ VNode æ›´æ–°ä¹‹å‰ã€‚æŒ‡ä»¤çš„å€¼å¯èƒ½å‘ç”Ÿäº†æ”¹å˜ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åŽçš„å€¼æ¥å¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–° (è¯¦ç»†çš„é’©å­å‡½æ•°å‚æ•°è§ä¸‹)ã€‚ componentUpdated æŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode åŠå…¶å­ VNode å…¨éƒ¨æ›´æ–°åŽè°ƒç”¨ã€‚ unbind åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸Žå…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueçš„è·¯ç”±å¯¼èˆªå®ˆå«]]></title>
    <url>%2F2019%2F04%2F02%2Fvue-router-beforeEach%2F</url>
    <content type="text"><![CDATA[vueçš„è·¯ç”±å¯¼èˆªå®ˆå«vue-routeræä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦æ˜¯ç”¨æ¥é€šè¿‡è·³è½¬å’Œå–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚ä¸€å…±æœ‰ä¸‰ç§æ¤å…¥è·¯ç”±å¯¼èˆªçš„è¿‡ç¨‹ å…¨å±€å‰ç½®(åŽç½®)å®ˆå« const router = new VueRouter({ ... }) router.beforeEach((to, from, next) =&gt; { // å‰ç½® // ... }) router.afterEach((to, from) =&gt; { // åŽç½® // ... }) è·¯ç”±ç‹¬äº«å®ˆå« const router = new VueRouter({ routes: [ { path: &#39;/foo&#39;, component: Foo, beforeEnter: (to, from, next) =&gt; { // ... } } ] }) ç»„ä»¶å†…çš„å®ˆå« beforeRouteEnter beforeRouteUpdate beforeRouteLeave const Foo = { template: `...`, beforeRouteEnter (to, from, next) { // åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨ // ä¸ï¼èƒ½ï¼èŽ·å–ç»„ä»¶å®žä¾‹ `this` // å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®žä¾‹è¿˜æ²¡è¢«åˆ›å»º }, beforeRouteUpdate (to, from, next) { // åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨ // ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºŽä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ // ç”±äºŽä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®žä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚ // å¯ä»¥è®¿é—®ç»„ä»¶å®žä¾‹ `this` }, beforeRouteLeave (to, from, next) { // å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨ // å¯ä»¥è®¿é—®ç»„ä»¶å®žä¾‹ `this` } } beforeRouteEnter å®ˆå« ä¸èƒ½ è®¿é—® thisï¼Œå› ä¸ºå®ˆå«åœ¨å¯¼èˆªç¡®è®¤å‰è¢«è°ƒç”¨,å› æ­¤å³å°†ç™»åœºçš„æ–°ç»„ä»¶è¿˜æ²¡è¢«åˆ›å»ºã€‚ ä¸è¿‡ï¼Œä½ å¯ä»¥é€šè¿‡ä¼ ä¸€ä¸ªå›žè°ƒç»™ nextæ¥è®¿é—®ç»„ä»¶å®žä¾‹ã€‚åœ¨å¯¼èˆªè¢«ç¡®è®¤çš„æ—¶å€™æ‰§è¡Œå›žè°ƒï¼Œå¹¶ä¸”æŠŠç»„ä»¶å®žä¾‹ä½œä¸ºå›žè°ƒæ–¹æ³•çš„å‚æ•°ã€‚ beforeRouteEnter (to, from, next) { next(vm =&gt; { // é€šè¿‡ `vm` è®¿é—®ç»„ä»¶å®žä¾‹ }) } æ³¨æ„ beforeRouteEnter æ˜¯æ”¯æŒç»™ next ä¼ é€’å›žè°ƒçš„å”¯ä¸€å®ˆå«ã€‚å¯¹äºŽ beforeRouteUpdate å’Œ beforeRouteLeave æ¥è¯´ï¼Œthis å·²ç»å¯ç”¨äº†ï¼Œæ‰€ä»¥ä¸æ”¯æŒä¼ é€’å›žè°ƒï¼Œå› ä¸ºæ²¡æœ‰å¿…è¦äº†ã€‚ beforeRouteUpdate (to, from, next) { // just use `this` this.name = to.params.name next() } è¿™ä¸ªç¦»å¼€å®ˆå«é€šå¸¸ç”¨æ¥ç¦æ­¢ç”¨æˆ·åœ¨è¿˜æœªä¿å­˜ä¿®æ”¹å‰çªç„¶ç¦»å¼€ã€‚è¯¥å¯¼èˆªå¯ä»¥é€šè¿‡ next(false) æ¥å–æ¶ˆã€‚ beforeRouteLeave (to, from , next) { const answer = window.confirm(&#39;Do you really want to leave? you have unsaved changes!&#39;) if (answer) { next() } else { next(false) } }]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueå’Œreactçš„åŒºåˆ«]]></title>
    <url>%2F2019%2F04%2F01%2Fvue-react-diff%2F</url>
    <content type="text"><![CDATA[vueå’Œreactçš„åŒºåˆ« reactå’Œvueéƒ½æ˜¯ç»„ä»¶åŒ–ï¼Œæ•´ä½“åŠŸèƒ½ç±»ä¼¼ï¼Œä½†æ˜¯è®¾è®¡æ€è·¯æœ‰æœ‰æ‰€ä¸åŒï¼Œ å‡ºèº« react Reactæ˜¯ç”±Facebookåˆ›å»ºçš„JavaScript UIæ¡†æž¶ï¼Œå®ƒçš„è¯žç”Ÿæ”¹å˜äº†JavaScriptä¸–ç•Œï¼Œæœ€å¤§çš„ä¸€ä¸ªæ”¹å˜å°±æ˜¯ReactæŽ¨å¹¿äº†Virtual DOMï¼Œ å¹¶ä¸”åˆ›é€ äº†æ–°çš„è¯­æ³• â€“ JSXï¼ŒJSX å…è®¸åœ¨JavaScriptä¸­å†™htmlä»£ç ã€‚ vue Vueæ˜¯ç”±å°¤å¤§å¤§å¼€å‘çš„ä¸€ä¸ªMVVMæ¡†æž¶ï¼Œå®ƒé‡‡ç”¨çš„æ˜¯æ¨¡æ¿ç³»ç»Ÿè€Œä¸æ˜¯JSXã€‚ æ¨¡æ¿æ¸²æŸ“æ–¹å¼ä¸åŒ react Reactæ˜¯é€šè¿‡JSXæ¥æ¸²æŸ“æ¨¡æ¿ï¼ŒReacté€šè¿‡åŽŸç”ŸJSå®žçŽ°æ¨¡æ¿ä¸­çš„å¸¸è§è¯­æ³•ï¼Œæ¯”å¦‚è¯´æ¡ä»¶å•Šã€å¾ªçŽ¯å•Šã€ä¸‰å…ƒè¿ç®—ç¬¦å•Šç­‰ï¼Œéƒ½æ˜¯é€šè¿‡JSè¯­æ³•å®žçŽ° vue vueæ˜¯é€šè¿‡æ‰©å±•çš„HTMLæ¥è¿›è¡Œæ¨¡æ¿çš„æ¸²æŸ“ï¼ŒVueæ˜¯åœ¨å’Œç»„ä»¶ä»£ç åˆ†ç¦»çš„å•ç‹¬æ¨¡æ¿ä¸­ï¼Œé€šè¿‡æŒ‡ä»¤v-ifã€v-forç­‰å®žçŽ° Virtual DOM react Reacté»˜è®¤æ˜¯é€šè¿‡æ¯”è¾ƒå¼•ç”¨å¾—æ–¹å¼è¿›è¡Œï¼Œå½“æŸä¸ªç»„ä»¶çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¼šä»¥è¯¥ç»„ä»¶ä¸ºæ ¹ï¼Œé‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶å­æ ‘ã€‚å¦‚æžœæƒ³é¿å…ä¸å¿…è¦çš„å­ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä½ éœ€è¦åœ¨æ‰€æœ‰å¯èƒ½çš„åœ°æ–¹ä½¿ç”¨PureComponentï¼Œæˆ–è€…æ‰‹åŠ¨å®žçŽ°shouldComponentUpdateæ–¹æ³•ã€‚ä½†æ˜¯Vueä¸­ï¼Œä½ å¯ä»¥è®¤å®šå®ƒæ˜¯é»˜è®¤çš„ä¼˜åŒ–ã€‚ vue Vueå¯ä»¥æ›´å¿«åœ°è®¡ç®—å‡ºVirtual DOMçš„å·®å¼‚ï¼Œè¿™æ˜¯ç”±äºŽå®ƒåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œç”±äºŽvueä¼šè·Ÿè¸ªæ¯ä¸€ä¸ªç»„ä»¶çš„ä¾èµ–æ”¶é›†ï¼Œé€šè¿‡setter / getter ä»¥åŠä¸€äº›å‡½æ•°çš„åŠ«æŒï¼Œèƒ½å¤Ÿç²¾ç¡®åœ°çŸ¥é“å˜åŒ–ï¼Œå¹¶åœ¨ç¼–è¯‘è¿‡ç¨‹æ ‡è®°äº†staticé™æ€èŠ‚ç‚¹ï¼Œåœ¨æŽ¥ä¸‹æ¥æ–°çš„Virtual DOM å¹¶ä¸”å’ŒåŽŸæ¥æ—§çš„ Virtual DOMè¿›è¡Œæ¯”è¾ƒæ—¶å€™ï¼Œè·³è¿‡staticé™æ€èŠ‚ç‚¹ã€‚æ‰€ä»¥ä¸éœ€è¦é‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ã€‚ æ•°æ®æµVuex å’Œ Redux react åœ¨Reactä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ¯ä¸€ä¸ªç»„ä»¶éƒ½å¼•å…¥connectï¼Œç›®çš„å°±æ˜¯æŠŠpropså’Œdispatchè¿žæŽ¥èµ·æ¥ã€‚reduxåªèƒ½é€šè¿‡dispatchï¼Œç„¶åŽåœ¨reduceré‡Œï¼ŒæŽ¥æ”¶åˆ°actionï¼Œé€šè¿‡åˆ¤æ–­actionçš„typeï¼Œä»Žè€Œè¿›è¡Œå¯¹åº”çš„æ“ä½œï¼Œreduxä¸èƒ½ç›´æŽ¥è°ƒç”¨reducerè¿›è¡Œä¿®æ”¹ï¼ï¼ vue åœ¨vuexä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨main.jsä¸­ï¼Œå¼•å…¥ storeæ–‡ä»¶å¤¹ï¼Œå¹¶æŠŠstoreæŒ‚è½½åˆ°new Vueå®žä¾‹ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ç›´æŽ¥é€šè¿‡$storeçµæ´»ä½¿ç”¨ã€‚ ä½ å¯ä»¥é€šè¿‡dispatchå’Œcommitè¿›è¡Œæ›´æ–°æ•°æ®ï¼Œ é€šè¿‡this.$store.state.xxè¯»å–æ•°æ® ä½ å¯ä»¥é€šè¿‡mapState / mapActions è¿›è¡Œvuexçš„æ“ä½œ æ€»ç»“ ç»„ä»¶çš„åˆ›å»ºæ–¹å¼ä¸ä¸€æ · reactä½¿ç”¨classå’Œå‡½æ•°åˆ›å»ºç»„ä»¶ã€åªæœ‰å±€éƒ¨ã€‘ vueåˆ™ä½¿ç”¨vueçš„å®žä¾‹çš„componentsæ–¹æ³•å’Œcomponentså±žæ€§ã€æœ‰å±€éƒ¨å’Œå…¨å±€ä¸€è¯´ã€‘ åœ¨reactä¸­æ²¡æœ‰æŒ‡ä»¤ï¼Œè®¡ç®—å±žæ€§ï¼Œwatchç›‘å¬ï¼Œcomputedï¼Œè¿™äº›å†…å®¹ åœ¨reactç»„ä»¶ä¸­åªæœ‰å‡ ä¸ªæ¦‚å¿µï¼Œç”Ÿå‘½å‘¨æœŸï¼Œstateã€‚propsã€‚åˆæˆäº‹ä»¶ åœ¨vueä¸­å¯ä»¥ä½¿ç”¨v-modleå®Œæˆæ•°æ®çš„åŒå‘ç»‘å®šï¼Œè€Œåœ¨reactå¹¶æ²¡æœ‰æŒ‡ä»¤çš„æ¦‚å¿µï¼Œæ‰€ä»¥ä½¿ç”¨å—æŽ§ç»„ä»¶ä»£æ›¿ åœ¨vueä¸­ä½¿ç”¨getterï¼Œsetteræ‹¦æˆªå™¨ï¼Œå¤„ç†æ•°æ®çš„ç»‘å®šï¼Œè€Œreactåˆ™ä½¿ç”¨çš„æ˜¯setStateæ‰‹åŠ¨è§¦å‘]]></content>
      <tags>
        <tag>vue</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueè·¯ç”±çš„å®žçŽ°åŽŸç†]]></title>
    <url>%2F2019%2F04%2F01%2Fvue-router-left%2F</url>
    <content type="text"><![CDATA[vueè·¯ç”±çš„å®žçŽ°åŽŸç† åœ¨vueä¸­è·¯ç”±ä¸»è¦æœ‰ hashä¸ŽHistory interfaceä¸¤ç§æ–¹å¼å®žçŽ°å‰ç«¯è·¯ç”±ï¼Œå•é¡µè·¯ç”±çš„ç‰¹ç‚¹å°±æ˜¯é‡‡ç”¨å‰ç«¯è·¯ç”±ç³»ç»Ÿï¼Œé€šè¿‡æ”¹å˜URLï¼Œåœ¨ä¸é‡æ–°è¯·æ±‚é¡µé¢çš„æƒ…å†µä¸‹ï¼Œæ›´æ–°é¡µé¢è§†å›¾ã€‚ç›®å‰åœ¨æµè§ˆå™¨çŽ¯å¢ƒä¸­è¿™ä¸€åŠŸèƒ½çš„å®žçŽ°ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ hash åœ¨æµè§ˆå™¨çš„urlä¸­hashï¼ˆâ€œ#â€ï¼‰ç¬¦å·çš„æœ¬æ¥ä½œç”¨æ˜¯åŠ åœ¨URLä¸­æŒ‡ç¤ºç½‘é¡µä¸­çš„ä½ç½®ï¼š#ç¬¦å·æœ¬èº«ä»¥åŠå®ƒåŽé¢çš„å­—ç¬¦ç§°ä¹‹ä¸ºhashï¼Œå¯é€šè¿‡window.location.hashå±žæ€§è¯»å–ã€‚ ç‰¹ç‚¹ï¼š hashè™½ç„¶å‡ºçŽ°åœ¨URLä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…æ‹¬åœ¨HTTPè¯·æ±‚ä¸­ã€‚å®ƒæ˜¯ç”¨æ¥æŒ‡å¯¼æµè§ˆå™¨åŠ¨ä½œçš„ï¼Œå¯¹æœåŠ¡å™¨ç«¯å®Œå…¨æ— ç”¨ï¼Œå› æ­¤ï¼Œæ”¹å˜hashä¸ä¼šé‡æ–°åŠ è½½é¡µé¢ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºhashçš„æ”¹å˜æ·»åŠ hashchangeç›‘å¬äº‹ä»¶ï¼Œåœ¨ä¸€ä¸ªå°±æ˜¯æ¯ä¸€æ¬¡æ”¹å˜hashï¼ˆwindow.location.hashï¼‰ï¼Œéƒ½ä¼šåœ¨æµè§ˆå™¨çš„è®¿é—®åŽ†å²ä¸­å¢žåŠ ä¸€ä¸ªè®°å½•ï¼Œæˆ‘å°±å¯ä»¥é€šè¿‡ä»–çš„è¿™å‡ ä¸ªç‰¹ç‚¹å®žçŽ°ä¸€ä¸ªhashæ¨¡å¼çš„å•é¡µè·¯ç”±ï¼Œé€šè¿‡å¯¹location.hashçš„ä¿®æ”¹å®žçŽ°pushæ–¹æ³•ï¼ˆè·³è½¬é¡µé¢ï¼‰ï¼Œé€šè¿‡å¯¹location.hrefçš„ä¿®æ”¹å®žçŽ°replace()æ–¹æ³•ï¼Œé€šè¿‡å¯¹hashchangeäº‹ä»¶çš„ç›‘å¬å®žçŽ°é¡µé¢è·³è½¬åŽçš„æ•°æ®æ›´æ–° History Historyæ¨¡å¼åˆ™æ˜¯å®Œå…¨é‡‡ç”¨äº†h5çš„æ–°ç‰¹æ€§ï¼Œä»ŽHTML5å¼€å§‹ï¼ŒHistory interfaceæä¾›äº†ä¸¤ä¸ªæ–°çš„æ–¹æ³•ï¼špushState(), replaceState()ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¯¹æµè§ˆå™¨åŽ†å²è®°å½•æ ˆè¿›è¡Œä¿®æ”¹ï¼Œä»¥åŠpopStateäº‹ä»¶å¯ä»¥ç›‘å¬åˆ°çŠ¶æ€çš„å˜æ›´ ä¸è¿‡historyæ¨¡å¼æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ å¯¹äºŽå•é¡µåº”ç”¨æ¥è®²ï¼Œç†æƒ³çš„ä½¿ç”¨åœºæ™¯æ˜¯ä»…åœ¨è¿›å…¥åº”ç”¨æ—¶åŠ è½½index.htmlï¼ŒåŽç»­åœ¨çš„ç½‘ç»œæ“ä½œé€šè¿‡Ajaxå®Œæˆï¼Œä¸ä¼šæ ¹æ®URLé‡æ–°è¯·æ±‚é¡µé¢ï¼Œä½†æ˜¯å¦‚æžœç”¨æˆ·ç›´æŽ¥åœ¨åœ°å€æ ä¸­è¾“å…¥å¹¶å›žè½¦ï¼Œæµè§ˆå™¨é‡å¯é‡æ–°åŠ è½½çš„æ—¶å€™historyæ¨¡å¼åˆ™ä¼šå°†URLä¿®æ”¹å¾—å°±å’Œæ­£å¸¸è¯·æ±‚åŽç«¯çš„URLä¸€æ ·ï¼Œåœ¨æ­¤æƒ…å†µä¸‹é‡æ–°å‘åŽç«¯å‘é€è¯·æ±‚ï¼Œå¦‚åŽç«¯æ²¡æœ‰é…ç½®å¯¹åº” çš„è·¯ç”±å¤„ç†ï¼Œåˆ™ä¼šè¿”å›ž404é”™è¯¯ã€‚è¿™ç§é—®é¢˜çš„è§£å†³ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯åœ¨åŽç«¯è¿›è¡Œé…ç½®ï¼Œå°†æ‰€æœ‰çš„è·¯ç”±è¯·æ±‚éƒ½æŒ‡å‘index.htmlæ–‡ä»¶]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue-router</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§çš„å‡ ç§æ•°ç»„æŽ’åºç®—æ³•JSå®žçŽ°]]></title>
    <url>%2F2019%2F04%2F01%2FSortt%2F</url>
    <content type="text"><![CDATA[å¸¸è§çš„å‡ ç§æ•°ç»„æŽ’åºç®—æ³•JSå®žçŽ°å†’æ³¡æŽ’åº æ•…åæ€æ„ ï¼Œå°±æ˜¯ä¸€ä¸ªä¸ªå†’æ³¡åˆ°æœ€å‰ç«¯æˆ–è€…æœ€åŽç«¯ï¼Œä¸»è¦æ˜¯é€šè¿‡ä¸¤ä¸¤ä¾æ¬¡æ¯”è¾ƒï¼Œä»¥å‡åºä¸ºä¾‹ï¼Œå¦‚æžœå‰ä¸€é¡¹æ¯”åŽä¸€é¡¹å¤§åˆ™äº¤æ¢é¡ºåºï¼Œä¸€ç›´æ¯”åˆ°æœ€åŽä¸€å¯¹ function bubbleSort(arr) { var len = arr.length; // å®šä¹‰è¯¥æ•°ç»„çš„é•¿åº¦ for (var i = 0; i &lt; len; i++) { // éåŽ† console.log(arr[i], arr[i+1]) for (var j = 0; j &lt; len - 1 - i; j++) { if (arr[j] &gt; arr[j+1]) { //ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯” var temp = arr[j+1]; //å…ƒç´ äº¤æ¢ arr[j+1] = arr[j]; arr[j] = temp; } } } return arr; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(bubbleSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50] ï¼› é€‰æ‹©æŽ’åº èŽ·å–åˆ°æ•°ç»„é•¿åº¦ï¼ŒéåŽ†ç¬¬ä¸€æ¬¡ã€ä¸éåŽ†æœ€åŽä¸€ä¸ªã€‘ï¼Œå®šä¹‰å˜é‡ä¿å­˜ä¸‹æ ‡ï¼ŒéåŽ†ç¬¬äºŒæ¬¡ã€ä¸éåŽ†ç¬¬ä¸€ä¸ªã€‘ï¼Œå°†æ•°ç»„çš„ç¬¬ä¸€ä¸ªä¸Žæ•°ç»„çš„ç¬¬äºŒä¸ªå€¼ä½œæ¯”è¾ƒï¼Œå¦‚æžœç¬¬äºŒä¸ªå€¼å°äºŽç¬¬ä¸€ä¸ªå€¼ï¼Œå°†ç¬¬ä¸€æ¬¡ä¿å­˜çš„å˜é‡ä¸‹æ ‡è¿›è¡Œä¸€ä¸ªæ›¿æ¢ã€æ›¿æ¢æˆæœ€å°æ•°çš„ç´¢å¼•ã€‘ï¼Œå¦‚æžœä¸å°äºŽå°±ä¸åšæ“ä½œï¼Œ function selectionSort(arr) { var len = arr.length; var minIndex, temp; console.time(&#39;é€‰æ‹©æŽ’åºè€—æ—¶&#39;); for (var i = 0; i &lt; len - 1; i++) { minIndex = i; for (var j = i + 1; j &lt; len; j++) { if (arr[j] &lt; arr[minIndex]) { //å¯»æ‰¾æœ€å°çš„æ•° minIndex = j; //å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜ } } temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; } console.timeEnd(&#39;é€‰æ‹©æŽ’åºè€—æ—¶&#39;); return arr; } var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(selectionSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]ï¼› äºŒåˆ†æ³•æ’å…¥æŽ’åº ç¬¬ä¸€æ¬¡éåŽ†ã€ä¸éåŽ†ç¬¬ä¸€ä¸ªã€‘ï¼Œå°†éåŽ†çš„ç¬¬ä¸€ä¸ªå€¼ä¿å­˜èµ·æ¥ï¼Œå®šä¹‰èµ·å§‹ç‚¹ function binaryInsertionSort(array) { console.time(&#39;äºŒåˆ†æ’å…¥æŽ’åºè€—æ—¶ï¼š&#39;); for (var i = 1; i &lt; array.length; i++) { var key = array[i], left = 0, right = i - 1; // key = 3 ,left = 0, right = 0 // key = 44 ,left = 0, right = 1 while (left &lt;= right) { // 0 &lt;= -1 // 0 &lt;= 1 var middle = parseInt((left + right) / 2); // 0 // 0 if (key &lt; array[middle]) { // 3 &lt; arr[0] = 44 44 &lt; 44 right = middle - 1; // right = -1 } else { left = middle + 1; // left = 1 } } for (var j = i - 1; j &gt;= left; j--) { // å¾ªçŽ¯ array[j + 1] = array[j]; // arr[1] = arr[0] arr [2] = } array[left] = key; // arr[0] = 44 } console.timeEnd(&#39;äºŒåˆ†æ’å…¥æŽ’åºè€—æ—¶ï¼š&#39;); return array; } var arr=[44,3,38,5,47,15,36,26,27,2,46,4,19,50,48]; console.log(binaryInsertionSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]; ###]]></content>
      <tags>
        <tag>js</tag>
        <tag>sort</tag>
        <tag>æŽ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»€ä¹ˆå«ä¼˜é›…é™çº§å’Œæ¸è¿›å¢žå¼ºï¼Ÿ]]></title>
    <url>%2F2019%2F03%2F29%2FDowngrade%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆå«ä¼˜é›…é™çº§å’Œæ¸è¿›å¢žå¼ºï¼Ÿä¼˜é›…é™çº§: Webç«™ç‚¹åœ¨æ‰€æœ‰æ–°å¼æµè§ˆå™¨ä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œå¦‚æžœç”¨æˆ·ä½¿ç”¨çš„æ˜¯è€å¼æµè§ˆå™¨ï¼Œåˆ™ä»£ç ä¼šé’ˆå¯¹æ—§ç‰ˆæœ¬çš„IEè¿›è¡Œé™çº§å¤„ç†äº†,ä½¿ä¹‹åœ¨æ—§å¼æµè§ˆå™¨ä¸Šä»¥æŸç§å½¢å¼é™çº§ä½“éªŒå´ä¸è‡³äºŽå®Œå…¨ä¸èƒ½ç”¨ã€‚ å¦‚ï¼šborder-shadow ä¼˜é›…é™çº§å†™æ³• .transition { transition: all .5s; -o-transition: all .5s; -moz-transition: all .5s; -webkit-transition: all .5s; } æ¸è¿›å¢žå¼º: ä»Žè¢«æ‰€æœ‰æµè§ˆå™¨æ”¯æŒçš„åŸºæœ¬åŠŸèƒ½å¼€å§‹ï¼Œé€æ­¥åœ°æ·»åŠ é‚£äº›åªæœ‰æ–°ç‰ˆæœ¬æµè§ˆå™¨æ‰æ”¯æŒçš„åŠŸèƒ½,å‘é¡µé¢å¢žåŠ ä¸å½±å“åŸºç¡€æµè§ˆå™¨çš„é¢å¤–æ ·å¼å’ŒåŠŸèƒ½çš„ã€‚å½“æµè§ˆå™¨æ”¯æŒæ—¶ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨åœ°å‘ˆçŽ°å‡ºæ¥å¹¶å‘æŒ¥ä½œç”¨ã€‚ å¦‚ï¼šé»˜è®¤ä½¿ç”¨flashä¸Šä¼ ï¼Œä½†å¦‚æžœæµè§ˆå™¨æ”¯æŒ HTML5 çš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™ä½¿ç”¨HTML5å®žçŽ°æ›´å¥½çš„ä½“éªŒï¼› æ¸è¿›å¢žå¼ºå†™æ³• .transition { -webkit-transition: all .5s; -moz-transition: all .5s; -o-transition: all .5s; transition: all .5s; } å‰ç¼€CSS3ï¼ˆ-webkit- / -moz- / -o-ï¼‰å’Œæ­£å¸¸CSS3åœ¨æµè§ˆå™¨ä¸­çš„æ”¯æŒæƒ…å†µæ˜¯è¿™æ ·çš„ï¼š å¾ˆä¹…ä»¥å‰ï¼šæµè§ˆå™¨å‰ç¼€CSS3å’Œæ­£å¸¸CSS3éƒ½ä¸æ”¯æŒï¼› ä¸ä¹…ä¹‹å‰ï¼šæµè§ˆå™¨åªæ”¯æŒå‰ç¼€CSS3ï¼Œä¸æ”¯æŒæ­£å¸¸CSS3ï¼› çŽ°åœ¨ï¼šæµè§ˆå™¨æ—¢æ”¯æŒå‰ç¼€CSS3ï¼Œåˆæ”¯æŒæ­£å¸¸CSS3ï¼› æœªæ¥ï¼šæµè§ˆå™¨ä¸æ”¯æŒå‰ç¼€CSS3ï¼Œä»…æ”¯æŒæ­£å¸¸CSS3. psï¼šä»Žè¿™é‡Œå¯ä»¥å¼•ç”³åˆ°å…¶ä»–æœ‰å‰ç¼€çš„css3çš„å±žæ€§ï¼Œä¸è¦å±€é™åœ¨è¿™ä¸ªå±žæ€§é‡Œã€‚ ä¼˜é›…é™çº§çš„ä¾‹å­ï¼š å‡å¦‚ä½ å†™äº†ä¸€ä¸ªè¡¨å•ï¼Œæ²¡æœ‰ç”¨åˆ°input type=â€submitâ€è¡¨å•å…ƒç´ ï¼Œç”¨äº†ä¸€ä¸ªaæ ‡ç­¾çš„clickäº‹ä»¶åšæäº¤ï¼Œä½†å¦‚æžœJavascriptè¢«ç¦ç”¨äº†æ€Žä¹ˆåŠžï¼Ÿä½¿ç”¨å¦‚ä¸‹çš„æ–‡æ¡£ç»“æž„ï¼Œå°±å¯ä»¥åœ¨javascriptè¢«ç¦ç”¨æ—¶ï¼Œä¾ç„¶å¯ä»¥æäº¤ã€‚ &lt;form&gt; &lt;input type=&quot;text&quot;&gt; &lt;input type=&quot;submit&quot;&gt; &lt;/form&gt; ä¼˜é›…é™çº§éœ€è¦æ­£ç¡®åœ°ä½“çŽ°HTMLæ ‡ç­¾çš„è¯­ä¹‰ï¼Œç¬¦åˆâ€œæµè§ˆå™¨çš„é¢„æœŸâ€ã€‚è®©ä½ çš„ç½‘é¡µåœ¨å„ç§æƒ…å†µâ€”ä¸‹â€”â€”åŒ…æ‹¬é™çº§ï¼ˆjavascriptè¢«ç¦ç”¨ï¼Œcssä¼ è¾“å¤±è´¥ç­‰ç­‰ï¼‰çš„æƒ…å½¢éƒ½å¯ä»¥è¿ä½œè‰¯å¥½ã€‚è¿™æ˜¯æˆ‘ç†è§£çš„ä¼˜é›…é™çº§çš„æ„ä¹‰ã€‚ åœ¨ç½‘é¡µå¸ƒå±€ä¸­å¦‚ä½•é€‰æ‹©ï¼Ÿ å¦‚æžœè½¯ä»¶å¼€å‘çš„é¢„ç®—å’Œæ—¶é—´å……è¶³ï¼Œå°±ä¸å­˜åœ¨æŠ‰æ‹©çš„é—®é¢˜ï¼Œå¯ä»¥ä¸¤è€…éƒ½è°ƒæ•´åˆ°ä¸€ä¸ªæœ€ä½³çŠ¶æ€ï¼Œè€Œä¸ç”¨æƒè¡¡ï¼Œåšé€‰æ‹©é¢˜äº†ã€‚ç„¶è€ŒçŽ°å®žå¾ˆæ®‹é…·ï¼Œè¦ä¹ˆå¼€å‘å‘¨æœŸçŸ­ï¼Œè¦ä¹ˆå¼€å‘é¢„ç®—å°‘ï¼Œæˆ–è€…äºŒè€…å…¼è€Œæœ‰ä¹‹ï¼Œè¿™ä¸ªæ—¶å€™è¯¥å¦‚ä½•æŠ‰æ‹©ï¼Ÿå°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œè®²è®²æˆ‘çš„è§‚ç‚¹ã€‚ åˆ†æžä½¿ç”¨ä½ å®¢æˆ·ç«¯ç¨‹åºçš„ç‰ˆæœ¬æ¯”ä¾‹ã€‚ å¦‚æžœä½Žç‰ˆæœ¬ç”¨æˆ·å±…å¤šï¼Œå½“ç„¶ä¼˜å…ˆé‡‡ç”¨æ¸è¿›å¢žå¼ºçš„å¼€å‘æµç¨‹ï¼› å¦‚æžœé«˜ç‰ˆæœ¬ç”¨æˆ·å±…å¤šï¼Œä¸ºäº†æé«˜å¤§å¤šæ•°ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒï¼Œé‚£å½“ç„¶ä¼˜å…ˆé‡‡ç”¨ä¼˜é›…é™çº§çš„å¼€å‘æµç¨‹ã€‚ å¤§å¤šæ•°å…¬å¸æ˜¯æ€Žä¹ˆå¤„ç†è¿™ä¸ªé—®é¢˜çš„ï¼š ç»å¤§å¤šæ•°çš„å¤§å…¬å¸éƒ½æ˜¯é‡‡ç”¨æ¸è¿›å¢žå¼ºçš„æ–¹å¼ï¼Œå› ä¸ºä¸šåŠ¡ä¼˜å…ˆï¼Œæå‡ç”¨æˆ·ä½“éªŒæ°¸è¿œä¸ä¼šæŽ’åœ¨æœ€å‰é¢ã€‚ ä¾‹å¦‚ï¼šæ–°æµªå¾®åšç½‘ç«™å‰ç«¯çš„æ›´æ–°ï¼Œæ‹¥æœ‰è¿™ç§äº¿çº§ç”¨æˆ·çš„ç½‘ç«™ï¼Œç»å¯¹ä¸å¯èƒ½è¿½æ±‚æŸä¸ªç‰¹æ•ˆè€Œä¸è€ƒè™‘ä½Žç‰ˆæœ¬ç”¨æˆ·å¯ä¸å¯ç”¨ï¼Œä¸€å®šæ˜¯ç¡®ä¿ä½Žç‰ˆæœ¬åˆ°é«˜ç‰ˆæœ¬çš„å¯è®¿é—®æ€§ï¼Œå†åŽ»æ¸è¿›å¢žå¼ºï¼Œé‡‡ç”¨æ–°åŠŸèƒ½ç»™é«˜ç‰ˆæœ¬ç”¨æˆ·æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ ä½†ä¹Ÿä¸æ˜¯æ²¡æœ‰åä¾‹ã€‚å¦‚æžœä½ å¼€å‘çš„æ˜¯ä¸€æ¬¾é¢å‘é’å°‘å¹´çš„è½¯ä»¶ï¼ˆæˆ–ç½‘ç«™ï¼‰ ä½ çŸ¥é“è¿™ä¸ªç¾¤ä½“çš„äººæ€»æ˜¯å–œæ¬¢å°è¯•æ–°äº‹ç‰©ï¼Œæ€»æ˜¯å–œæ¬¢é…·ç‚«çš„ç‰¹æ•ˆï¼Œæ€»æ˜¯å–œæ¬¢æŠŠå®ƒä»¬çš„è½¯ä»¶æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚é¢å¯¹è¿™ç§æƒ…å†µï¼Œæ¸è¿›å¢žå¼ºçš„å¼€å‘æµç¨‹å®žä¸ºä¸Šé€‰ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>å…¼å®¹ä¸Žä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¡µé¢é‡æž„å¦‚ä½•æ“ä½œï¼Ÿ]]></title>
    <url>%2F2019%2F03%2F29%2Foptimization%2F</url>
    <content type="text"><![CDATA[é¡µé¢é‡æž„å¦‚ä½•æ“ä½œï¼Ÿç½‘ç«™é‡æž„ï¼š åœ¨ä¸æ”¹å˜å¤–éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œç®€åŒ–ç»“æž„ã€æ·»åŠ å¯è¯»æ€§ï¼Œè€Œåœ¨ç½‘ç«™å‰ç«¯ä¿æŒä¸€è‡´çš„è¡Œä¸ºã€‚ ä¹Ÿå°±æ˜¯è¯´æ˜¯åœ¨ä¸æ”¹å˜UIçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘ç«™è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨æ‰©å±•çš„åŒæ—¶ä¿æŒä¸€è‡´çš„UIã€‚ å¯¹äºŽä¼ ç»Ÿçš„ç½‘ç«™æ¥è¯´é‡æž„é€šå¸¸æ˜¯ï¼š è¡¨æ ¼(table)å¸ƒå±€æ”¹ä¸ºDIV+CSS ä½¿ç½‘ç«™å‰ç«¯å…¼å®¹äºŽçŽ°ä»£æµè§ˆå™¨(é’ˆå¯¹äºŽä¸åˆè§„èŒƒçš„CSSã€å¦‚å¯¹IE6æœ‰æ•ˆçš„) å¯¹äºŽç§»åŠ¨å¹³å°çš„ä¼˜åŒ– é’ˆå¯¹äºŽSEOè¿›è¡Œä¼˜åŒ– æ·±å±‚æ¬¡çš„ç½‘ç«™é‡æž„åº”è¯¥è€ƒè™‘çš„æ–¹é¢ å‡å°‘ä»£ç é—´çš„è€¦åˆ è®©ä»£ç ä¿æŒå¼¹æ€§ ä¸¥æ ¼æŒ‰è§„èŒƒç¼–å†™ä»£ç  è®¾è®¡å¯æ‰©å±•çš„API ä»£æ›¿æ—§æœ‰çš„æ¡†æž¶ã€è¯­è¨€(å¦‚VB) å¢žå¼ºç”¨æˆ·ä½“éªŒ é€šå¸¸æ¥è¯´å¯¹äºŽé€Ÿåº¦çš„ä¼˜åŒ–ä¹ŸåŒ…å«åœ¨é‡æž„ä¸­ åŽ‹ç¼©JSã€CSSã€imageç­‰å‰ç«¯èµ„æº(é€šå¸¸æ˜¯ç”±æœåŠ¡å™¨æ¥è§£å†³) ç¨‹åºçš„æ€§èƒ½ä¼˜åŒ–(å¦‚æ•°æ®è¯»å†™) é‡‡ç”¨CDNæ¥åŠ é€Ÿèµ„æºåŠ è½½ å¯¹äºŽJS DOMçš„ä¼˜åŒ– HTTPæœåŠ¡å™¨çš„æ–‡ä»¶ç¼“å­˜]]></content>
      <tags>
        <tag>js</tag>
        <tag>å…¼å®¹ä¸Žä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼]]></title>
    <url>%2F2019%2F03%2F29%2FCreatObject%2F</url>
    <content type="text"><![CDATA[jsåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼å¯¹è±¡å­—é¢ä¸¤çš„æ–¹å¼person = { firstname:&quot;Mark&quot;, lastname:&quot;Yun&quot;, age:25, eyecolor:&quot;black&quot; } ç”¨functionæ¥æ¨¡æ‹Ÿæ— å‚çš„æž„é€ å‡½æ•°function Person () {} //å®šä¹‰ä¸€ä¸ªfunctionï¼Œå¦‚æžœä½¿ç”¨new&quot;å®žä¾‹åŒ–&quot;,è¯¥functionå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªClass var person=new Person(); person.name=â€œMark&quot;; person.age=&quot;25&quot;; person.work = function () { alert(person.name+&quot; hello...&quot;); } person.work(); ç”¨functionæ¥æ¨¡æ‹Ÿå‚æž„é€ å‡½æ•°æ¥å®žçŽ°ï¼ˆç”¨thiså…³é”®å­—å®šä¹‰æž„é€ çš„ä¸Šä¸‹æ–‡å±žæ€§ï¼‰function Pet(name,age,hobby){ this.name=name; // thisä½œç”¨åŸŸï¼šå½“å‰å¯¹è±¡ this.age=age; this.hobby=hobby; this.eat=function(){ alert(&quot;æˆ‘å«&quot;+this.name+&quot;,æˆ‘å–œæ¬¢&quot;+this.hobby+&quot;,æ˜¯ä¸ªç¨‹åºå‘˜&quot;); } } var maidou =new Pet(&quot;éº¦å…œ&quot;,25,&quot;coding&quot;); // å®žä¾‹åŒ–ã€åˆ›å»ºå¯¹è±¡ maidou.eat();//è°ƒç”¨eatæ–¹æ³• ç”¨å·¥åŽ‚æ–¹å¼æ¥åˆ›å»ºï¼ˆå†…ç½®å¯¹è±¡ï¼‰var wcDog =new Object(); wcDog.name=&quot;æ—ºè´¢&quot;; wcDog.age=3; wcDog.work=function(){ alert(&quot;æˆ‘æ˜¯&quot;+wcDog.name+&quot;,æ±ªæ±ªæ±ª......&quot;); } wcDog.work(); ç”¨åŽŸåž‹æ–¹å¼æ¥åˆ›å»ºfunction Dog(){ } Dog.prototype.name=&quot;æ—ºè´¢&quot;; Dog.prototype.eat=function(){alert(this.name+&quot;æ˜¯ä¸ªåƒè´§&quot;);} var wangcai =new Dog(); wangcai.eat(); ç”¨æ··åˆæ–¹å¼æ¥åˆ›å»ºfunction Car(name,price){ this.name=name; this.price=price; } Car.prototype.sell=function(){ alert(&quot;æˆ‘æ˜¯&quot;+this.name+&quot;ï¼Œæˆ‘çŽ°åœ¨å–&quot;+this.price+&quot;ä¸‡å…ƒ&quot;); } var camry =new Car(&quot;å‡¯ç¾Žç‘ž&quot;,27); camry.sell();]]></content>
      <tags>
        <tag>js</tag>
        <tag>object</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsç»§æ‰¿çš„å‡ ç§æ–¹å¼]]></title>
    <url>%2F2019%2F03%2F29%2Fextend%2F</url>
    <content type="text"><![CDATA[jsç»§æ‰¿çš„å‡ ç§æ–¹å¼æž„é€ å‡½æ•°ç»§æ‰¿ åœ¨æž„é€ å‡½æ•°å†…éƒ¨è°ƒç”¨è¢«ç»§æ‰¿å¯¹è±¡çš„æž„é€ å‡½æ•°ï¼Œï¼Œä½¿ç”¨callå°†thisä¼ å…¥ function Parent() { this.name = &#39;parent&#39;; } function Child() { Parent.call(this); this.type = &#39;child&#39;; } ç¼ºç‚¹ï¼š åªèƒ½å®žçŽ°éƒ¨åˆ†ç»§æ‰¿ã€‚ä¸èƒ½ç»§æ‰¿æž„é€ å‡½æ•°åŽŸåž‹ä¸Šçš„å±žæ€§å’Œæ–¹æ³•ï¼Œåº”ä¸ºæœ¬èº«çš„åŽŸåž‹å¯¹è±¡æ²¡æœ‰è¢«ä¿®æ”¹ åŽŸåž‹é“¾ç»§æ‰¿ æŠŠåŽŸåž‹ä¿®æ”¹ä¸ºç»§æ‰¿å¯¹è±¡çš„å®žä¾‹åŒ–å¯¹è±¡ function Parent() { this.name = &#39;parent&#39;; } function Child() { this.type = &#39;child&#39;; } Child.prototype = new Parent(); ç¼ºç‚¹ï¼š ä¸èƒ½ç»§æ‰¿æž„é€ å‡½æ•°å†…éƒ¨çš„å±žæ€§å’Œæ–¹æ³• ä¸èƒ½åƒæž„é€ å‡½æ•°å†…éƒ¨å‚æ•°è¿›è¡Œåˆå§‹åŒ– åŽŸåž‹é“¾+æž„é€ å‡½æ•°ç»§æ‰¿function Parent() { this.name = &#39;parent5&#39;; this.play = [1, 2, 3]; } function Child() { Parent.call(this); this.type = &#39;child5&#39;; } // äº§ç”Ÿä¸€ä¸ªä¸­é—´å¯¹è±¡éš”ç¦»`Child`çš„`prototype`å±žæ€§å’Œ`Parent`çš„`prototype`å±žæ€§å¼•ç”¨çš„åŒä¸€ä¸ªåŽŸåž‹ã€‚ Child.prototype = Object.create(Parent.prototype); // ç»™Childçš„åŽŸåž‹å¯¹è±¡é‡æ–°å†™ä¸€ä¸ªè‡ªå·±çš„constructorã€‚ Child.prototype.constructor = Child;]]></content>
      <tags>
        <tag>js</tag>
        <tag>extend</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsäº‹ä»¶æœºåˆ¶]]></title>
    <url>%2F2019%2F03%2F29%2FJSevent%2F</url>
    <content type="text"><![CDATA[jsäº‹ä»¶æœºåˆ¶ã€ä¸»è¦åˆ†ä¸ºDom0çº§äº‹ä»¶å’ŒDom2äº‹ä»¶ Dom0çº§äº‹ä»¶å¤„ç†æ–¹å¼ï¼š btn.onclick = func; btn.onclick = null; Dom2çº§äº‹ä»¶å¤„ç†æ–¹å¼ï¼š // éžIE btn.addEventListener(&#39;click&#39;, func, false); btn.removeEventListener(&#39;click&#39;, func, false); // IE btn.attachEvent(&quot;onclick&quot;, func); btn.detachEvent(&quot;onclick&quot;, func); äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ æ•èŽ· ç›®æ ‡ å†’æ³¡ jså†’æ³¡å’Œæ•èŽ·çš„çš„åŒºåˆ« å†’æ³¡åž‹äº‹ä»¶ï¼š äº‹ä»¶æŒ‰ç…§ä»Žæœ€ç‰¹å®šçš„äº‹ä»¶ç›®æ ‡åˆ°æœ€ä¸ç‰¹å®šçš„äº‹ä»¶ç›®æ ‡(documentå¯¹è±¡)çš„é¡ºåºè§¦å‘ã€‚ æ•èŽ·åž‹äº‹ä»¶: äº‹ä»¶ä»Žæœ€ä¸ç²¾ç¡®çš„å¯¹è±¡(document å¯¹è±¡)å¼€å§‹è§¦å‘ï¼Œç„¶åŽåˆ°æœ€ç²¾ç¡®(ä¹Ÿå¯ä»¥åœ¨çª—å£çº§åˆ«æ•èŽ·äº‹ä»¶ï¼Œä¸è¿‡å¿…é¡»ç”±å¼€å‘äººå‘˜ç‰¹åˆ«æŒ‡å®š)ã€‚ DOMäº‹ä»¶æµ: åŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡åž‹ï¼šæ•èŽ·åž‹äº‹ä»¶å’Œå†’æ³¡åž‹äº‹ä»¶ï¼Œä½†æ˜¯ï¼Œæ•èŽ·åž‹äº‹ä»¶å…ˆå‘ç”Ÿã€‚ä¸¤ç§äº‹ä»¶æµä¼šè§¦åŠDOMä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œä»Ždocumentå¯¹è±¡å¼€å§‹ï¼Œä¹Ÿåœ¨documentå¯¹è±¡ç»“æŸã€‚ äº‹ä»¶æ•èŽ·: å½“ä½ ä½¿ç”¨äº‹ä»¶æ•èŽ·æ—¶ï¼Œçˆ¶çº§å…ƒç´ å…ˆè§¦å‘ï¼Œå­çº§å…ƒç´ åŽè§¦å‘ï¼Œå³divå…ˆè§¦å‘ï¼ŒpåŽè§¦å‘ã€‚ äº‹ä»¶å†’æ³¡: å½“ä½ ä½¿ç”¨äº‹ä»¶å†’æ³¡æ—¶ï¼Œå­çº§å…ƒç´ å…ˆè§¦å‘ï¼Œçˆ¶çº§å…ƒç´ åŽè§¦å‘ï¼Œå³på…ˆè§¦å‘ï¼ŒdivåŽè§¦å‘ã€‚ é˜»æ­¢å†’æ³¡ éžIE e.stopPropagation() IE cancelBubble = true é˜»æ­¢æ•èŽ· éžIE e.preventDefault() IE returnValue = false äº‹ä»¶â€œæ•èŽ·â€å’Œâ€œå†’æ³¡â€æ‰§è¡Œé¡ºåºå’Œäº‹ä»¶çš„æ‰§è¡Œæ¬¡æ•°ï¼ŸæŒ‰ç…§W3Cæ ‡å‡†æµç¨‹å¦‚ä¸‹ï¼š è¿›å…¥æ•èŽ·é˜¶æ®µ â†’â†’â†’ åˆ°è¾¾ç›®æ ‡å…ƒç´  â†’â†’â†’ è¿›å…¥åˆ°å†’æ³¡é˜¶æ®µ äº‹ä»¶æ‰§è¡Œæ¬¡æ•° å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶çš„ä¸ªæ•° åœ¨ä¸€ä¸ªDOMä¸ŠåŒæ—¶ç»‘å®šä¸¤ä¸ªç‚¹å‡»äº‹ä»¶ï¼šä¸€ä¸ªç”¨æ•èŽ·ï¼Œä¸€ä¸ªç”¨å†’æ³¡ã€‚äº‹ä»¶ä¼šæ‰§è¡Œå‡ æ¬¡ï¼Œå…ˆæ‰§è¡Œå†’æ³¡è¿˜æ˜¯æ•èŽ·ï¼Ÿ è¯¥DOMä¸Šçš„äº‹ä»¶å¦‚æžœè¢«è§¦å‘ï¼Œä¼šæ‰§è¡Œä¸¤æ¬¡ï¼ˆæ‰§è¡Œæ¬¡æ•°ç­‰äºŽç»‘å®šæ¬¡æ•°ï¼‰ å¦‚æžœè¯¥DOMæ˜¯ç›®æ ‡å…ƒç´ ï¼Œåˆ™æŒ‰äº‹ä»¶ç»‘å®šé¡ºåºæ‰§è¡Œï¼Œä¸åŒºåˆ†å†’æ³¡/æ•èŽ· å¦‚æžœè¯¥DOMæ˜¯å¤„äºŽäº‹ä»¶æµä¸­çš„éžç›®æ ‡å…ƒç´ ï¼Œåˆ™å…ˆæ‰§è¡Œæ•èŽ·ï¼ŒåŽæ‰§è¡Œå†’æ³¡]]></content>
      <tags>
        <tag>js</tag>
        <tag>Event</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…æ‹·è´ä¸Žæ·±æ‹·è´]]></title>
    <url>%2F2019%2F03%2F29%2Fclone%2F</url>
    <content type="text"><![CDATA[æµ…æ‹·è´ä¸Žæ·±æ‹·è´ æ•°æ®ç±»åž‹###æ•°æ®ç±»åž‹åˆ†ä¸ºä¸¤ç§ã€åŸºæœ¬æ•°æ®ç±»åž‹ï¼Œå¤æ‚æ•°æ®ç±»åž‹ã€‘ åŸºæœ¬æ•°æ®ç±»åž‹ï¼šç›´æŽ¥å­˜å‚¨åœ¨æ ˆ(stack)ä¸­çš„æ•°æ® String Number Boolean Null Undefined Symbol å¼•ç”¨æ•°æ®ç±»åž‹ï¼šå­˜å‚¨çš„æ˜¯è¯¥å¯¹è±¡åœ¨æ ˆä¸­å¼•ç”¨ï¼ŒçœŸå®žçš„æ•°æ®å­˜æ”¾åœ¨å †å†…å­˜é‡Œ å¯¹è±¡æ•°æ®ç±»åž‹ã€objectï¼Œfunctionã€‘ æµ…æ‹·è´ä¸Žæ·±æ‹·è´æ·±æ‹·è´å’Œæµ…æ‹·è´æ˜¯åªé’ˆå¯¹Objectå’ŒArrayè¿™æ ·çš„å¼•ç”¨æ•°æ®ç±»åž‹çš„ã€‚æµ…æ‹·è´åªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«åŒä¸€å—å†…å­˜ã€‚ä½†æ·±æ‹·è´ä¼šå¦å¤–åˆ›é€ ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡è·ŸåŽŸå¯¹è±¡ä¸å…±äº«å†…å­˜ï¼Œä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šæ”¹åˆ°åŽŸå¯¹è±¡ã€‚èµ‹å€¼å’Œæµ…æ‹·è´çš„åŒºåˆ« å½“æˆ‘ä»¬æŠŠä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„å˜é‡æ—¶ï¼Œèµ‹çš„å…¶å®žæ˜¯è¯¥å¯¹è±¡çš„åœ¨æ ˆä¸­çš„åœ°å€ï¼Œè€Œä¸æ˜¯å †ä¸­çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œæ— è®ºå“ªä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œå…¶å®žéƒ½æ˜¯æ”¹å˜çš„å­˜å‚¨ç©ºé—´çš„å†…å®¹ï¼Œå› æ­¤ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯è”åŠ¨çš„ã€‚ æµ…æ‹·è´æ˜¯æŒ‰ä½æ‹·è´å¯¹è±¡ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ç€åŽŸå§‹å¯¹è±¡å±žæ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚å¦‚æžœå±žæ€§æ˜¯åŸºæœ¬ç±»åž‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»åž‹çš„å€¼ï¼›å¦‚æžœå±žæ€§æ˜¯å†…å­˜åœ°å€ï¼ˆå¼•ç”¨ç±»åž‹ï¼‰ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ ï¼Œå› æ­¤å¦‚æžœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªåœ°å€ï¼Œå°±ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚å³é»˜è®¤æ‹·è´æž„é€ å‡½æ•°åªæ˜¯å¯¹å¯¹è±¡è¿›è¡Œæµ…æ‹·è´å¤åˆ¶(é€ä¸ªæˆå‘˜ä¾æ¬¡æ‹·è´)ï¼Œå³åªå¤åˆ¶å¯¹è±¡ç©ºé—´è€Œä¸å¤åˆ¶èµ„æºã€‚ æµ…æ‹·è´çš„å®žçŽ°æ–¹å¼Object.assign() Object.assign()è¿›è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œæ‹·è´çš„æ˜¯å¯¹è±¡çš„å±žæ€§çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚ å½“objectåªæœ‰ä¸€å±‚çš„æ—¶å€™ï¼Œæ˜¯æ·±æ‹·è´ Array.prototype.concat()let arr = [1, 3, { username: &#39;kobe&#39;, childran: [ { username: &#39;kobe&#39;, childran: [ { username: &#39;kobe&#39;, childran: [ ] } ] } ] }]; let arr2=arr.concat(); console.log(arr); ä¿®æ”¹æ–°å¯¹è±¡ä¼šæ”¹åˆ°åŽŸå¯¹è±¡: Array.prototype.slice()let arr = [1, 3, { username: &#39; kobe&#39; }]; let arr3 = arr.slice(); arr3[2].username = &#39;wade&#39; console.log(arr); åŒæ ·ä¿®æ”¹æ–°å¯¹è±¡ä¼šæ”¹åˆ°åŽŸå¯¹è±¡: å…³äºŽArrayçš„sliceå’Œconcatæ–¹æ³•çš„è¡¥å……è¯´æ˜Ž:Arrayçš„sliceå’Œconcatæ–¹æ³•ä¸ä¿®æ”¹åŽŸæ•°ç»„ï¼Œåªä¼šè¿”å›žä¸€ä¸ªæµ…å¤åˆ¶äº†åŽŸæ•°ç»„ä¸­çš„å…ƒç´ çš„ä¸€ä¸ªæ–°æ•°ç»„ã€‚ æ·±æ‹·è´çš„å®žçŽ°æ–¹å¼JSON.parse(JSON.stringify())let arr = [1, 3, { username: &#39; kobe&#39; }]; let arr4 = JSON.parse(JSON.stringify(arr)); arr4[2].username = &#39;duncan&#39;; console.log(arr, arr4) åŽŸç†ï¼š ç”¨JSON.stringifyå°†å¯¹è±¡è½¬æˆJSONå­—ç¬¦ä¸²ï¼Œå†ç”¨JSON.parse()æŠŠå­—ç¬¦ä¸²è§£æžæˆå¯¹è±¡ï¼Œä¸€åŽ»ä¸€æ¥ï¼Œæ–°çš„å¯¹è±¡äº§ç”Ÿäº†ï¼Œè€Œä¸”å¯¹è±¡ä¼šå¼€è¾Ÿæ–°çš„æ ˆï¼Œå®žçŽ°æ·±æ‹·è´ã€‚ å¼Šç«¯ï¼š è¿™ç§æ–¹æ³•è™½ç„¶å¯ä»¥å®žçŽ°æ•°ç»„æˆ–å¯¹è±¡æ·±æ‹·è´,ä½†ä¸èƒ½å¤„ç†å‡½æ•° é€’å½’æ–¹æ³• é€’å½’æ–¹æ³•å®žçŽ°æ·±åº¦å…‹éš†åŽŸç†: éåŽ†å¯¹è±¡ã€æ•°ç»„ç›´åˆ°é‡Œè¾¹éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»åž‹ï¼Œç„¶åŽå†åŽ»å¤åˆ¶ï¼Œå°±æ˜¯æ·±åº¦æ‹·è´ //å®šä¹‰æ£€æµ‹æ•°æ®ç±»åž‹çš„åŠŸèƒ½å‡½æ•° function checkedType(target) { return Object.prototype.toString.call(target).slice(8, -1) } //å®žçŽ°æ·±åº¦å…‹éš†---å¯¹è±¡/æ•°ç»„ function clone(target) { //åˆ¤æ–­æ‹·è´çš„æ•°æ®ç±»åž‹ //åˆå§‹åŒ–å˜é‡result æˆä¸ºæœ€ç»ˆå…‹éš†çš„æ•°æ® let result, targetType = checkedType(target) if (targetType === &#39;Object&#39;) { result = {} } else if (targetType === &#39;Array&#39;) { result = [] } else { return target } //éåŽ†ç›®æ ‡æ•°æ® for (let i in target) { //èŽ·å–éåŽ†æ•°æ®ç»“æž„çš„æ¯ä¸€é¡¹å€¼ã€‚ let value = target[i] //åˆ¤æ–­ç›®æ ‡ç»“æž„é‡Œçš„æ¯ä¸€å€¼æ˜¯å¦å­˜åœ¨å¯¹è±¡/æ•°ç»„ if (checkedType(value) === &#39;Object&#39; || checkedType(value) === &#39;Array&#39;) { //å¯¹è±¡/æ•°ç»„é‡ŒåµŒå¥—äº†å¯¹è±¡/æ•°ç»„ //ç»§ç»­éåŽ†èŽ·å–åˆ°valueå€¼ result[i] = clone(value) } else { //èŽ·å–åˆ°valueå€¼æ˜¯åŸºæœ¬çš„æ•°æ®ç±»åž‹æˆ–è€…æ˜¯å‡½æ•°ã€‚ result[i] = value } } return result }]]></content>
      <tags>
        <tag>js</tag>
        <tag>æ‹·è´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼€å¯nginxæœåŠ¡å™¨åŽ‹ç¼©Gzip]]></title>
    <url>%2F2019%2F03%2F28%2Fgzipmd%2F</url>
    <content type="text"><![CDATA[å¼€å¯nginxæœåŠ¡å™¨åŽ‹ç¼© nginx.conf(åŠ å…¥ä»¥ä¸‹é…ç½®å³å¯) server{ listen 80; server_name my.ignorantscholar.cn; gzip on; gzip_min_length 1k; gzip_buffers 4 16k; #gzip_http_version 1.0; gzip_comp_level 8; gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png; gzip_vary off; gzip_disable &quot;MSIE [1-6]\.&quot;; location / { proxy_pass http://127.0.0.1:3001; } } åœ¨æµè§ˆå™¨ç«¯æŸ¥çœ‹æ˜¯å¦å¼€å¯å¯åŽ‹ç¼© Network æŸ¥çœ‹è¯·æ±‚çš„Headerså¤´ï¼ŒAccept-Encoding: gzip å³å¼€å¯äº†åŽ‹ç¼©]]></content>
      <tags>
        <tag>nginx</tag>
        <tag>gzip</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7ä¸­æ­å»ºnginxæœåŠ¡å™¨]]></title>
    <url>%2F2019%2F03%2F28%2Fngsinx%2F</url>
    <content type="text"><![CDATA[centos7ä¸­æ­å»ºnginxæœåŠ¡å™¨ nginxå¯ä»¥ä½¿ç”¨å„å¹³å°çš„é»˜è®¤åŒ…æ¥å®‰è£…ï¼Œæœ¬æ–‡æ˜¯ä»‹ç»ä½¿ç”¨æºç ç¼–è¯‘å®‰è£…ï¼ŒåŒ…æ‹¬å…·ä½“çš„ç¼–è¯‘å‚æ•°ä¿¡æ¯ã€‚æ­£å¼å¼€å§‹å‰ï¼Œç¼–è¯‘çŽ¯å¢ƒgcc g++ å¼€å‘åº“ä¹‹ç±»çš„éœ€è¦æå‰è£…å¥½ï¼Œè¿™é‡Œé»˜è®¤ä½ å·²ç»è£…å¥½ã€‚ centoså¹³å°ç¼–è¯‘çŽ¯å¢ƒä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ å®‰è£…makeï¼š yum -y install gcc automake autoconf libtool make å®‰è£…g++: yum install gcc gcc-c++ ä¸‹é¢æ­£å¼å¼€å§‹ï¼šä¸€èˆ¬æˆ‘ä»¬éƒ½éœ€è¦å…ˆè£…pcre, zlibï¼Œå‰è€…ä¸ºäº†é‡å†™rewriteï¼ŒåŽè€…ä¸ºäº†gzipåŽ‹ç¼©ã€‚æ³¨ï¼šä¸‹é¢æ‰€ä½¿ç”¨çš„æ‰€æœ‰ç‰ˆæœ¬å‡ä¸ºæˆªæ­¢2017å¹´8æœˆ14å·ï¼Œæœ€æ–°ç‰ˆæœ¬ 1.é€‰å®šæºç ç›®å½•å¯ä»¥æ˜¯ä»»ä½•ç›®å½•ï¼Œæœ¬æ–‡é€‰å®šçš„æ˜¯/usr/local/src cd /usr/local/src 2.å®‰è£…PCREåº“ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/ ä¸‹è½½æœ€æ–°çš„ PCRE æºç åŒ…ï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤ä¸‹è½½ç¼–è¯‘å’Œå®‰è£… PCRE åŒ…ï¼š cd /usr/local/src wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.41.tar.gz tar -zxvf pcre-8.41.tar.gz cd pcre-8.41 ./configure make make install 3.å®‰è£…zlibåº“http://zlib.net/zlib-1.2.11.tar.gz ä¸‹è½½æœ€æ–°çš„ zlib æºç åŒ…ï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤ä¸‹è½½ç¼–è¯‘å’Œå®‰è£… zlibåŒ…ï¼š cd /usr/local/src wget http://zlib.net/zlib-1.2.11.tar.gz tar -zxvf zlib-1.2.11.tar.gz cd zlib-1.2.11 ./configure make make install 4.å®‰è£…sslï¼ˆæŸäº›vpsé»˜è®¤æ²¡è£…ssl) cd /usr/local/src wget https://www.openssl.org/source/openssl-1.0.2l.tar.gz tar -zxvf openssl-1.0.2l.tar.gz 5.å®‰è£…nginx Nginx ä¸€èˆ¬æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯ç¨³å®šç‰ˆå’Œå¼€å‘ç‰ˆï¼Œæ‚¨å¯ä»¥æ ¹æ®æ‚¨çš„ç›®çš„æ¥é€‰æ‹©è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„å…¶ä¸­ä¸€ä¸ªï¼Œä¸‹é¢æ˜¯æŠŠ Nginx å®‰è£…åˆ° /usr/local/nginx ç›®å½•ä¸‹çš„è¯¦ç»†æ­¥éª¤ï¼š cd /usr/local/src wget http://nginx.org/download/nginx-1.13.4.tar.gz tar -zxvf nginx-1.13.4.tar.gz cd nginx-1.13.4 ./configure --sbin-path=/usr/local/nginx/nginx --conf-path=/usr/local/nginx/nginx.conf --pid-path=/usr/local/nginx/nginx.pid --with-http_ssl_module --with-pcre=/usr/local/src/pcre-8.41 --with-zlib=/usr/local/src/zlib-1.2.11 --with-openssl=/usr/local/src/openssl-1.0.2l make make install â€“with-pcre=/usr/local/src/pcre-8.41 æŒ‡çš„æ˜¯pcre-8.41 çš„æºç è·¯å¾„ã€‚â€“with-zlib=/usr/local/src/zlib-1.2.11 æŒ‡çš„æ˜¯zlib-1.2.11 çš„æºç è·¯å¾„ã€‚ å®‰è£…æˆåŠŸï¼š å®‰è£…æˆåŠŸåŽ /usr/local/nginx ä¼šæœ‰æ­¤ç›®å½• 6.å¯åŠ¨ ç¡®ä¿ç³»ç»Ÿçš„ 80 ç«¯å£æ²¡è¢«å…¶ä»–ç¨‹åºå ç”¨ï¼Œè¿è¡Œ/usr/local/nginx/nginx å‘½ä»¤æ¥å¯åŠ¨ Nginxï¼Œ æ‰“å¼€æµè§ˆå™¨è®¿é—®æ­¤æœºå™¨çš„ IPï¼Œå¦‚æžœæµè§ˆå™¨å‡ºçŽ° Welcome to nginx! åˆ™è¡¨ç¤º Nginx å·²ç»å®‰è£…å¹¶è¿è¡ŒæˆåŠŸã€‚ åˆ°è¿™é‡Œnginxå°±å®‰è£…å®Œæˆäº†ï¼Œå¦‚æžœåªæ˜¯å¤„ç†é™æ€htmlå°±ä¸ç”¨ç»§ç»­å®‰è£…äº† å¦‚æžœä½ éœ€è¦å¤„ç†phpè„šæœ¬çš„è¯ï¼Œè¿˜éœ€è¦å®‰è£…php-fpmã€‚ å¸¸è§é”™è¯¯ï¼šé™„ï¼šå¯èƒ½é‡åˆ°çš„é”™è¯¯å’Œä¸€äº›å¸®åŠ©ä¿¡æ¯ 1.1ç¼–è¯‘pcreé”™è¯¯ make[1]: Leaving directory `/usr/local/src/pcre-8.34&#39; make: *** [all] Error 2 è§£å†³åŠžæ³•ï¼šå®‰è£…g++,åˆ«å¿˜äº†é‡æ–°configure apt-get install g++ apt-get install build-essential make clean ./configure make 1.2 makeå‡ºé”™ make: *** No targets specified and no makefile found. Stop. æŒ‰ç…§ä¸‹é¢å®‰è£…æ–¹æ³• yum -y install openssl openssl-devel 2.nginxç¼–è¯‘é€‰é¡¹ï¼ˆä¸‹é¢ä»£ç å¿…é¡»åœ¨ä¸€è¡Œï¼‰ ./configure --sbin-path=/usr/local/nginx/nginx --conf-path=/usr/local/nginx/nginx.conf --pid-path=/usr/local/nginx/nginx.pid --with-http_ssl_module --with-pcre=/usr/local/src/pcre-8.41 --with-zlib=/usr/local/src/zlib-1.2.11 --with-openssl=/usr/local/src/openssl-1.0.2l]]></content>
      <tags>
        <tag>nginx</tag>
        <tag>linuxæœåŠ¡å™¨é…ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7ä¸­å®‰è£…mysqlçš„æ­¥éª¤]]></title>
    <url>%2F2019%2F03%2F28%2Fmysql%2F</url>
    <content type="text"><![CDATA[centos7ä¸­å®‰è£…mysqlçš„æ­¥éª¤ä¸€ã€ å®‰è£…ï¼š ä¸‹è½½æºç åŒ…ï¼Œä¸€èˆ¬å°†æºç åŒ…æ”¾åœ¨/usr/local/ä¸­ï¼› cd /usr/local/ mkdir -p tools cd tools wget http://repo.mysql.com/mysql57-community-release-el7-8.noarch.rpm (è¿™é‡Œçš„ç‰ˆæœ¬å¯ä»¥éšæ—¶åŽ»mysqlå®˜ç½‘è¿›è¡Œé€‰æ‹©) æŸ¥çœ‹ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£… MySQL æœåŠ¡ rpm -qa | grep mysql æˆ– yum list installed | grep mysql å¦‚æžœå·²å®‰è£…åˆ™åˆ é™¤ MySQL åŠå…¶ä¾èµ–çš„åŒ…ï¼š yum -y remove mysql-libs.x86_64 å®‰è£… mysql57-community-release-el7-8.noarch.rpmï¼š rpm -ivh mysql57-community-release-el7-8.noarch.rpm å®‰è£…å®ŒåŽï¼Œå¾—åˆ°å¦‚ä¸‹ä¸¤ä¸ªåŒ…ï¼šï¼ˆåœ¨/etc/yum.repos.d/æ–‡ä»¶ä¸‹ï¼‰ mysql-community.repo mysql-community-source.repo å®‰è£…mysql $ yum install mysql-server æ ¹æ®æ­¥éª¤å®‰è£…å°±å¯ä»¥äº†ï¼Œä¸è¿‡å®‰è£…å®ŒæˆåŽï¼Œæ²¡æœ‰å¯†ç ï¼Œéœ€è¦é‡ç½®å¯†ç ã€‚ 6.é‡ç½®å¯†ç ï¼š mysql -u rootï¼› æŠ¥é”™ï¼šERROR 2002 (HY000): Canâ€˜t connect to local MySQL server through socket â€˜/var/lib/mysql/mysql.sockâ€˜ (2)ï¼ŒåŽŸå› æ˜¯/var/lib/mysqlçš„è®¿é—®æƒé™é—®é¢˜ã€‚ä¸‹é¢çš„å‘½ä»¤æŠŠ/var/lib/mysqlçš„æ‹¥æœ‰è€…æ”¹ä¸ºå½“å‰ç”¨æˆ·ï¼š sudo chown -R openscanner:openscanner /var/lib/mysql é‡å¯æœåŠ¡ï¼š service mysqld restart å†æ¬¡ç™»å½•: mysql -u root æŠ¥é”™ï¼š error 1045 (28000):Access denied for user â€˜rootâ€™ @ â€˜localhostâ€™ (using password: NOï¼‰ æ­¤ç§æƒ…å†µæ˜¯å› ä¸ºå­˜åœ¨äº†é»˜è®¤å¯†ç é—®é¢˜ï¼Œè§£å†³ï¼šï¼ˆæœ€ä¿é™©çš„æ˜¯é‡ç½®rootå¯†ç ï¼‰ 1ã€ä¿®æ”¹ /etc/my.cnfï¼Œåœ¨ [mysqld] å°èŠ‚ä¸‹æ·»åŠ ä¸€è¡Œï¼šskip-grant-tables=1 è¿™ä¸€è¡Œé…ç½®è®© mysqld å¯åŠ¨æ—¶ä¸å¯¹å¯†ç è¿›è¡ŒéªŒè¯ 2ã€é‡å¯ mysqld æœåŠ¡ï¼šsystemctl restart mysqld 3ã€ä½¿ç”¨ root ç”¨æˆ·ç™»å½•åˆ° mysqlï¼šmysql -u root 4ã€åˆ‡æ¢åˆ°mysqlæ•°æ®åº“ï¼Œæ›´æ–° user è¡¨ï¼š update user set authentication_string = password(&#39;root&#39;),host=&#39;%&#39;,password_expired = &#39;N&#39;, password_last_changed = now() where user = &#39;root&#39;; åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œå¯†ç å­—æ®µçš„å­—æ®µåæ˜¯ passwordï¼Œ5.7ç‰ˆæœ¬æ”¹ä¸ºäº† authentication_string 5ã€é€€å‡º mysqlï¼Œç¼–è¾‘ /etc/my.cnf æ–‡ä»¶ï¼Œåˆ é™¤ skip-grant-tables=1 çš„å†…å®¹ 6ã€é‡å¯ mysqld æœåŠ¡ï¼Œå†ç”¨æ–°å¯†ç ç™»å½•å³å¯ å¼€æ”¾é˜²ç«å¢™ï¼š vim /etc/sysconfig/iptables æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š -A INPUT -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT ä¿å­˜åŽé‡å¯é˜²ç«å¢™ï¼š $ sudo service iptables restart è¿™æ ·ä»Žå…¶å®ƒå®¢æˆ·æœºä¹Ÿå¯ä»¥è¿žæŽ¥ä¸ŠmysqlæœåŠ¡äº†ã€‚ é˜¿é‡Œäº‘å®‰å…¨ç»„è®¾ç½®ï¼š å¦‚æžœæ­¤æ—¶åœ¨å…¶ä»–å®¢æˆ·æœºä¸Šè¿˜æ˜¯é“¾æŽ¥ä¸ä¸Šmysqlï¼Œç™»å½•é˜¿é‡Œäº‘ï¼ŒæŸ¥çœ‹å®žä¾‹çš„å®‰å…¨ç»„æœ‰æ²¡æœ‰ä¸º3306ç«¯å£å¼€å¯è§„åˆ™ï¼›]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>linuxæœåŠ¡å™¨é…ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodeé…ç½®]]></title>
    <url>%2F2019%2F03%2F28%2Fnodemd%2F</url>
    <content type="text"><![CDATA[nodeé…ç½®ä¸€ã€å®‰è£…nodeï¼š 1.ä¸‹è½½å¹¶å®‰è£…NVMè„šæœ¬ curl https://raw.githubusercontent.com/creationix/nvm/v0.13.1/install.sh | bash source ~/.bash_profile 2.åˆ—å‡ºæ‰€éœ€è¦çš„ç‰ˆæœ¬ nvm list-remote 3.å®‰è£…ç›¸åº”çš„ç‰ˆæœ¬ nvm install v8.3.0 4.æŸ¥çœ‹å·²å®‰è£…çš„ç‰ˆæœ¬ nvm list 5.åˆ‡æ¢ç‰ˆæœ¬ nvm use v8.3.0 6.è®¾ç½®é»˜è®¤ç‰ˆæœ¬ nvm alias default v8.3.0]]></content>
      <tags>
        <tag>node</tag>
        <tag>linuxæœåŠ¡å™¨é…ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxç³»ç»ŸåŸºç¡€å‘½ä»¤]]></title>
    <url>%2F2019%2F03%2F27%2FLinux%2F</url>
    <content type="text"><![CDATA[Linuxç³»ç»ŸåŸºç¡€å‘½ä»¤è¿žæŽ¥è¿œç¨‹æœåŠ¡å™¨ï¼šssh root@å…¬ç½‘ip ls æŸ¥çœ‹ç›®å½•cd åˆ‡æ¢ç›®å½• ï¼ˆç”¨æˆ·ç›®å½•root~ ç³»ç»Ÿæ ¹ç›®å½• /ï¼‰ åˆ›å»ºæ–‡ä»¶ touch æ–‡ä»¶åå­—åˆ é™¤æ–‡ä»¶ rm æ–‡ä»¶è·¯å¾„ç§»åŠ¨æ–‡ä»¶ mv è¦ç§»åŠ¨çš„æ–‡ä»¶ ç§»åŠ¨åŽçš„è·¯å¾„åˆ›å»ºæ–‡ä»¶å¤¹ mkdir ç›®å½•åç§°æ‹·è´æ–‡ä»¶ cp æ–‡ä»¶ ç›®æ ‡è·¯å¾„ vim ç¼–è¾‘æ–‡ä»¶i å¼€å§‹ç¼–è¾‘esc :wq é€€å‡ºå¹¶ä¿å­˜]]></content>
      <tags>
        <tag>js</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡å°ç¨‹åºå®žçŽ°ç€‘å¸ƒæµ]]></title>
    <url>%2F2019%2F03%2F24%2Fwpy-cascade%2F</url>
    <content type="text"><![CDATA[å¾®ä¿¡å°ç¨‹åºå®žçŽ°ç€‘å¸ƒæµç®€å•ï¼Œä¾¿æ· æ— éœ€çŸ¥é“å›¾ç‰‡å®½é«˜ï¼ˆå½“ç„¶è¦å®žçŽ°æ‡’åŠ è½½æ˜¯å¿…é¡»çš„ï¼‰ ä¸€ä¸ªåˆ¤æ–­ ä¸€å¥css å…ˆç”¨css3ä¸­çš„column-countå±žæ€§æŠŠé¡µé¢å…ƒç´ åˆ†ä¸ºä¿©åˆ—åŠå¤šåˆ—ã€‚ ç›´æŽ¥ä¸Šä»£ç  wxml &lt;view class=&quot;free-WaterfallFlow&quot;&gt; &lt;block&gt; &lt;view class=&quot;flex-wrap&quot; wx:for=&quot;{{images}}&quot; wx:key=&#39;{{item.src}}&#39; wx:if=&quot;{{item.id%2!=''}}&quot;&gt; &lt;image mode=&quot;widthFix&quot; src=&quot;{{item.src}}&quot;&gt;&lt;/image&gt; &lt;view&gt;{{item.name}}&lt;/view&gt; &lt;view&gt;{{item.data}}&lt;/view&gt; &lt;/view&gt; &lt;/block&gt; &lt;block&gt; &lt;view class=&quot;flex-wrap&quot; wx:for=&quot;{{images}}&quot; wx:key=&#39;{{item.src}}&#39; wx:if=&quot;{{item.id%2==''}}&quot;&gt; &lt;image mode=&quot;widthFix&quot; src=&quot;{{item.src}}&quot;&gt;&lt;/image&gt; &lt;view&gt;{{item.name}}&lt;/view&gt; &lt;view&gt;{{item.data}}&lt;/view&gt; &lt;/view&gt; &lt;/block&gt; &lt;/view&gt; wxss .free-WaterfallFlow{ width:94%; column-count:2;/*column-count å±žæ€§è§„å®šå…ƒç´ åº”è¯¥è¢«åˆ†éš”çš„åˆ—æ•°ï¼š*/ } .free-WaterfallFlow .flex-wrap{ display: inline-block; width:98%; margin-bottom:2%; border:1px solid #ccc; padding:2%; padding-top:5%; margin-right:2%; box-shadow: 0 1px 2px rgba(34, 25, 25, 0.4); text-align: center; } .flex-wrap image{ width:95%; margin:0 auto; } .flex-wrap view:nth-child(2){ font-size:15px; padding:2% 0; color:#717171; } .flex-wrap view:nth-child(3){ font-size:13px; padding:2% 0; color:#aaa; text-align: right; } js Page({ data: { images:[ { id:&#39;1&#39;, src:&#39;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1531825645104&amp;di=0cfede1dd354581e22385b1862375a6a&amp;imgtype=0&amp;src=http%3A%2F%2Fpic.qiantucdn.com%2F58pic%2F13%2F71%2F35%2F24k58PICSiB_1024.jpg&#39;, name:&#39;ç…§ç‰‡01&#39;, data:&#39;2017/11/1&#39; }, { id: &#39;2&#39;, src: &#39;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1531825645032&amp;di=826b8cfa4f7c5a8765d5c2156913dcbb&amp;imgtype=0&amp;src=http%3A%2F%2Fimg382.ph.126.net%2Fp4dMCiiHoUGxf2N0VLspkg%3D%3D%2F37436171903673954.jpg&#39;, name: &#39;ç…§ç‰‡02&#39;, data: &#39;2017/11/2&#39; }, { id: &#39;3&#39;, src: &#39;https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1531825645104&amp;di=2c9e1223e705806967640495e4bac26b&amp;imgtype=0&amp;src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F0147a458783b1ba801219c77f9ec2e.jpg%402o.jpg&#39;, name: &#39;ç…§ç‰‡03&#39;, data: &#39;2017/11/3&#39; }, { id: &#39;4&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/bj/slt/yezpvg0x23b.jpg&#39;, name: &#39;ç…§ç‰‡04&#39;, data: &#39;2017/11/4&#39; }, { id: &#39;5&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/201807/9999/95ed87388b.jpg&#39;, name: &#39;ç…§ç‰‡05&#39;, data: &#39;2017/11/5&#39; }, { id: &#39;6&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/201807/9999/99495c4cf4.jpg&#39;, name: &#39;ç…§ç‰‡06&#39;, data: &#39;2017/11/6&#39; }, { id: &#39;7&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/201807/9999/f867c97e25.jpg&#39;, name: &#39;ç…§ç‰‡07&#39;, data: &#39;2017/11/7&#39; }, { id: &#39;8&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/201807/9999/2cc7ab0bc5.jpg&#39;, name: &#39;ç…§ç‰‡08&#39;, data: &#39;2017/11/8&#39; }, { id: &#39;9&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/201807/9999/2f4435caaf.jpg&#39;, name: &#39;ç…§ç‰‡09&#39;, data: &#39;2017/11/9&#39; }, { id: &#39;10&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/201807/9999/ce76898540.jpg&#39;, name: &#39;ç…§ç‰‡10&#39;, data: &#39;2017/11/10&#39; }, { id: &#39;11&#39;, src: &#39;http://t1.hxzdhn.com/uploads/tu/201807/9999/a2ccc41e47.jpg&#39;, name: &#39;ç…§ç‰‡11&#39;, data: &#39;2017/11/11&#39; }, { id: &#39;12&#39;, src: &#39;http://t2.hddhhn.com/uploads/tu/201707/521/83.jpg&#39;, name: &#39;ç…§ç‰‡12&#39;, data: &#39;2017/11/12&#39; }, { id: &#39;13&#39;, src: &#39;http://t2.hddhhn.com/uploads/tu/20150700/2hndrjt0jxe.jpg&#39;, name: &#39;ç…§ç‰‡13&#39;, data: &#39;2017/11/13&#39; }, { id: &#39;14&#39;, src: &#39;http://t2.hddhhn.com/uploads/tu/20150700/2hndrjt0jxe.jpg&#39;, name: &#39;ç…§ç‰‡14&#39;, data: &#39;2017/11/14&#39; } ] } })]]></content>
      <tags>
        <tag>wx</tag>
        <tag>ç€‘å¸ƒæµ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[fetchå°è£…]]></title>
    <url>%2F2019%2F03%2F14%2Ffetch%2F</url>
    <content type="text"><![CDATA[fetchfetchå°è£… è§£å†³äº†fetchçš„getã€‚postçš„ä¼ é€’å‚æ•°ä¸åŒ æ·»åŠ äº†fetché»˜è®¤ä¸æºå¸¦cookieçš„é…ç½® è§£å†³äº†fetchä¸èƒ½å¤„ç†é”™è¯¯çŠ¶æ€çš„é—®é¢˜ è§£å†³äº†fetchï¼ŒresponseæŽ§åˆ¶è¿”å›žå€¼json æ·»åŠ å…¬å…±å‚æ•°token ç»Ÿä¸€é”™è¯¯å‡ºè·¯ æ˜¯å¦å…è®¸è·¨åŸŸ const objParseQuery = (data) =&gt; { let paramsArray = []; let parameter = &#39;&#39; //æ‹¼æŽ¥å‚æ•° Object.keys(data).forEach(key =&gt; { if (data[key]) { paramsArray.push(key + &#39;=&#39; + data[key]) } }) if (parameter.search(/\?/) === -1) { parameter += &#39;?&#39; + paramsArray.join(&#39;&amp;&#39;) } else { parameter += &#39;&amp;&#39; + paramsArray.join(&#39;&amp;&#39;) } return parameter } let fetchs = { /** * åŸºäºŽ fetch å°è£…çš„ GETè¯·æ±‚ * @param url * @param params {} * @param headers * @returns {Promise} */ get: (url, params) =&gt; { var fetchConfig = { method: &#39;get&#39;, headers: { authorization: window.sessionStorage.getItem(&#39;token&#39;) ? window.sessionStorage.getItem(&#39;token&#39;) : null, &#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39; }, credentials: &quot;include&quot;, mode: &#39;cors&#39;, } if(params){ url += objParseQuery(params.data); } console.log(url) return fetch(url, fetchConfig).then(response =&gt; { return response.json().then((res) =&gt; { console.log(res) if (response.ok &amp;&amp; res.code === 1) { return Promise.resolve(res) } else { return Promise.reject(res) } }) }) }, post: (url, options) =&gt; { return fetch(url, { method: &#39;post&#39;, headers: { authorization: window.sessionStorage.getItem(&#39;token&#39;) ? window.sessionStorage.getItem(&#39;token&#39;) : null, &#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39; }, credentials: &quot;include&quot;, mode: &#39;cors&#39;, body: JSON.stringify(options) }).then(response =&gt; { return response.json().then((res) =&gt; { if (response.ok &amp;&amp; res.code === 1) { console.log(window.sessionStorage.getItem(&#39;token&#39;)) return Promise.resolve(res) } else { return Promise.reject(res) } }) }) }, put: (url, options) =&gt; { return fetch(url, { method: &#39;post&#39;, headers: { authorization: window.sessionStorage.getItem(&#39;token&#39;) ? window.sessionStorage.getItem(&#39;token&#39;) : null, &#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39; }, credentials: &quot;include&quot;, mode: &#39;cors&#39;, body: JSON.stringify(options) }).then(response =&gt; { return response.json().then((res) =&gt; { if (response.ok &amp;&amp; res.code === 1) { console.log(window.sessionStorage.getItem(&#39;token&#39;)) return Promise.resolve(res) } else { return Promise.reject(res) } }) }) } } export default fetchs]]></content>
      <tags>
        <tag>js</tag>
        <tag>fetch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS å †&æ ˆ]]></title>
    <url>%2F2019%2F03%2F04%2Fstack%20heap%2F</url>
    <content type="text"><![CDATA[JS å †&amp;æ ˆä¸¤è€…éƒ½æ˜¯å­˜æ”¾ä¸´æ—¶æ•°æ®çš„åœ°æ–¹âŠ™ æ ˆæ˜¯å…ˆè¿›åŽå‡ºçš„ï¼Œå°±åƒä¸€ä¸ªæ¡¶ï¼ŒåŽè¿›åŽ»çš„å…ˆå‡ºæ¥ï¼Œå®ƒä¸‹é¢æœ¬æ¥æœ‰çš„ä¸œè¥¿è¦ç­‰å…¶ä»–å‡ºæ¥ä¹‹åŽæ‰èƒ½å‡ºæ¥ã€‚âŠ™ å †æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œè€Œä¸æ˜¯åœ¨ç¨‹åºç¼–è¯‘æ—¶ï¼Œç”³è¯·æŸä¸ªå¤§å°çš„å†…å­˜ç©ºé—´ã€‚å³åŠ¨æ€åˆ†é…å†…å­˜ï¼Œå¯¹å…¶è®¿é—®å’Œå¯¹ä¸€èˆ¬å†…å­˜çš„è®¿é—®æ²¡æœ‰åŒºåˆ«ã€‚å¯¹äºŽå †ï¼Œæˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²çš„è¿›è¡Œå¢žåŠ å˜é‡å’Œåˆ é™¤å˜é‡ï¼Œä¸ç”¨éµå¾ªæ¬¡åºã€‚â—Ž æ ˆåŒºï¼ˆstackï¼‰ ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚â—Ž å †åŒºï¼ˆheapï¼‰ ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSå›žæ”¶ã€‚ å †æ˜¯åŠ¨æ€åˆ†é…å†…å­˜ï¼Œå†…å­˜å¤§å°ä¸ä¸€ï¼Œä¹Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚æ ˆæ˜¯è‡ªåŠ¨åˆ†é…ç›¸å¯¹å›ºå®šå¤§å°çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ç”±ç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾. JSæ•°æ®ç±»åž‹è®¿é—® åŸºæœ¬æ•°æ®ç±»åž‹ Undefinedã€Nullã€Booleanã€Stringã€Numberã€Symboléƒ½æ˜¯ç›´æŽ¥æŒ‰å€¼ç›´æŽ¥å­˜åœ¨æ ˆä¸­ï¼Œæ¯ç§ç±»åž‹çš„æ•°æ®å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°éƒ½æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…è‡ªåŠ¨é‡Šæ”¾ å¼•ç”¨æ•°æ®ç±»åž‹ Objectï¼ŒArrayï¼ŒFunctionè¿™æ ·çš„æ•°æ®å­˜åœ¨å †å†…å­˜ä¸­ï¼Œä½†æ˜¯æ•°æ®æŒ‡é’ˆæ˜¯å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­çš„ï¼Œå½“æˆ‘ä»¬è®¿é—®å¼•ç”¨æ•°æ®æ—¶ï¼Œå…ˆä»Žæ ˆå†…å­˜ä¸­èŽ·å–æŒ‡é’ˆï¼Œé€šè¿‡æŒ‡é’ˆåœ¨å †å†…å­˜ä¸­æ‰¾åˆ°æ•°æ® var a = 2; var b = new Object(); ä¼ å€¼å’Œä¼ å€ ä»Žä¸€ä¸ªå‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»åž‹çš„å€¼ï¼Œå¤åˆ¶çš„å…¶å®žæ˜¯æŒ‡é’ˆï¼Œå› æ­¤ä¸¤ä¸ªå˜é‡æœ€ç»ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚å³å¤åˆ¶çš„æ˜¯æ ˆä¸­çš„åœ°å€è€Œä¸æ˜¯å †ä¸­çš„å¯¹è±¡ã€‚ ä»Žä¸€ä¸ªå˜é‡å¤å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶åŸºæœ¬ç±»åž‹çš„å€¼ï¼Œä¼šåˆ›å»ºè¿™ä¸ªå€¼çš„å‰¯æœ¬ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>å †&amp;æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mvvmåŽŸç†]]></title>
    <url>%2F2019%2F03%2F03%2FMVVM%2F</url>
    <content type="text"><![CDATA[mvvmæ¨¡å¼ MVVM æ˜¯Model-View-ViewModel çš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºŽå‰ç«¯å¼€å‘çš„æž¶æž„æ¨¡å¼ï¼Œå…¶æ ¸å¿ƒæ˜¯æä¾›å¯¹View å’Œ ViewModel çš„åŒå‘æ•°æ®ç»‘å®šï¼Œè¿™ä½¿å¾—ViewModel çš„çŠ¶æ€æ”¹å˜å¯ä»¥è‡ªåŠ¨ä¼ é€’ç»™ Viewï¼Œå³æ‰€è°“çš„æ•°æ®åŒå‘ç»‘å®šã€‚ mvvmåŽŸç†æºç åœ°å€ Vue.js æ˜¯ä¸€ä¸ªæä¾›äº† MVVM é£Žæ ¼çš„åŒå‘æ•°æ®ç»‘å®šçš„ Javascript åº“ï¼Œä¸“æ³¨äºŽView å±‚ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯ MVVM ä¸­çš„ VMï¼Œä¹Ÿå°±æ˜¯ ViewModelã€‚ ViewModelè´Ÿè´£è¿žæŽ¥ View å’Œ Modelï¼Œä¿è¯è§†å›¾å’Œæ•°æ®çš„ä¸€è‡´æ€§ï¼Œè¿™ç§è½»é‡çº§çš„æž¶æž„è®©å‰ç«¯å¼€å‘æ›´åŠ é«˜æ•ˆã€ä¾¿æ·ã€‚ ä¸ºä»€ä¹ˆä¼šå‡ºçŽ° MVVM å‘¢ï¼Ÿ###MVC å³ Model-View-Controller çš„ç¼©å†™ï¼Œå°±æ˜¯ æ¨¡åž‹â€”è§†å›¾â€”æŽ§åˆ¶å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæ ‡å‡†çš„Web åº”ç”¨ç¨‹å¼æ˜¯ç”±è¿™ä¸‰éƒ¨åˆ†ç»„æˆçš„ï¼š View ï¼šç”¨æ¥æŠŠæ•°æ®ä»¥æŸç§æ–¹å¼å‘ˆçŽ°ç»™ç”¨æˆ· Model ï¼šå…¶å®žå°±æ˜¯æ•°æ® Controller ï¼šæŽ¥æ”¶å¹¶å¤„ç†æ¥è‡ªç”¨æˆ·çš„è¯·æ±‚ï¼Œå¹¶å°† Model è¿”å›žç»™ç”¨æˆ· éšç€H5 çš„ä¸æ–­å‘å±•ï¼Œäººä»¬æ›´å¸Œæœ›ä½¿ç”¨H5 å¼€å‘çš„åº”ç”¨èƒ½å’ŒNative åª²ç¾Žï¼Œæˆ–è€…æŽ¥è¿‘äºŽåŽŸç”ŸApp çš„ä½“éªŒæ•ˆæžœï¼ŒäºŽæ˜¯å‰ç«¯åº”ç”¨çš„å¤æ‚ç¨‹åº¦å·²ä¸åŒå¾€æ—¥ï¼Œä»Šéžæ˜”æ¯”ã€‚è¿™æ—¶å‰ç«¯å¼€å‘å°±æš´éœ²å‡ºäº†ä¸‰ä¸ªç—›ç‚¹é—®é¢˜ï¼š å¼€å‘è€…åœ¨ä»£ç ä¸­å¤§é‡è°ƒç”¨ç›¸åŒçš„ DOM APIï¼Œå¤„ç†ç¹ç ï¼Œæ“ä½œå†—ä½™ï¼Œä½¿å¾—ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚ å¤§é‡çš„DOM æ“ä½œä½¿é¡µé¢æ¸²æŸ“æ€§èƒ½é™ä½Žï¼ŒåŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚ å½“ Model é¢‘ç¹å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…éœ€è¦ä¸»åŠ¨æ›´æ–°åˆ°View ï¼›å½“ç”¨æˆ·çš„æ“ä½œå¯¼è‡´ Model å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…åŒæ ·éœ€è¦å°†å˜åŒ–çš„æ•°æ®åŒæ­¥åˆ°Model ä¸­ï¼Œè¿™æ ·çš„å·¥ä½œä¸ä»…ç¹çï¼Œè€Œä¸”å¾ˆéš¾ç»´æŠ¤å¤æ‚å¤šå˜çš„æ•°æ®çŠ¶æ€ã€‚ MVVM çš„å‡ºçŽ°ï¼Œå®Œç¾Žè§£å†³äº†ä»¥ä¸Šä¸‰ä¸ªé—®é¢˜ã€‚MVVM ç”± Modelã€Viewã€ViewModel ä¸‰éƒ¨åˆ†æž„æˆï¼ŒModel å±‚ä»£è¡¨æ•°æ®æ¨¡åž‹ï¼Œä¹Ÿå¯ä»¥åœ¨Modelä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ï¼›View ä»£è¡¨UI ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ•°æ®æ¨¡åž‹è½¬åŒ–æˆUI å±•çŽ°å‡ºæ¥ï¼ŒViewModel æ˜¯ä¸€ä¸ªåŒæ­¥View å’Œ Modelçš„å¯¹è±¡ã€‚ åœ¨MVVMæž¶æž„ä¸‹ï¼ŒView å’Œ Model ä¹‹é—´å¹¶æ²¡æœ‰ç›´æŽ¥çš„è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ViewModelè¿›è¡Œäº¤äº’ï¼ŒModel å’Œ ViewModel ä¹‹é—´çš„äº¤äº’æ˜¯åŒå‘çš„ï¼Œ å› æ­¤View æ•°æ®çš„å˜åŒ–ä¼šåŒæ­¥åˆ°Modelä¸­ï¼Œè€ŒModel æ•°æ®çš„å˜åŒ–ä¹Ÿä¼šç«‹å³ååº”åˆ°View ä¸Šã€‚ ViewModel é€šè¿‡åŒå‘æ•°æ®ç»‘å®šæŠŠ View å±‚å’Œ Model å±‚è¿žæŽ¥äº†èµ·æ¥ï¼Œè€ŒView å’Œ Model ä¹‹é—´çš„åŒæ­¥å·¥ä½œå®Œå…¨æ˜¯è‡ªåŠ¨çš„ï¼Œæ— éœ€äººä¸ºå¹²æ¶‰ï¼Œå› æ­¤å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œDOMï¼Œ ä¸éœ€è¦å…³æ³¨æ•°æ®çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œå¤æ‚çš„æ•°æ®çŠ¶æ€ç»´æŠ¤å®Œå…¨ç”± MVVM æ¥ç»Ÿä¸€ç®¡ç†ã€‚Vue.js çš„ç»†èŠ‚Vue.js å¯ä»¥è¯´æ˜¯MVVM æž¶æž„çš„æœ€ä½³å®žè·µï¼Œä¸“æ³¨äºŽ MVVM ä¸­çš„ ViewModelï¼Œä¸ä»…åšåˆ°äº†æ•°æ®åŒå‘ç»‘å®šï¼Œè€Œä¸”ä¹Ÿæ˜¯ä¸€æ¬¾ç›¸å¯¹æ¥æ¯”è¾ƒè½»é‡çº§çš„JS åº“ï¼ŒAPI ç®€æ´ï¼Œå¾ˆå®¹æ˜“ä¸Šæ‰‹ã€‚Vueçš„åŸºç¡€çŸ¥è¯†ç½‘ä¸Šæœ‰çŽ°æˆçš„æ•™ç¨‹ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ï¼Œ ä¸‹é¢ç®€å•äº†è§£ä¸€ä¸‹ Vue.js å…³äºŽåŒå‘ç»‘å®šçš„ä¸€äº›å®žçŽ°ç»†èŠ‚ï¼š Vue.js æ˜¯é‡‡ç”¨ Object.defineProperty çš„ getter å’Œ setterï¼Œå¹¶ç»“åˆè§‚å¯Ÿè€…æ¨¡å¼æ¥å®žçŽ°æ•°æ®ç»‘å®šçš„ã€‚å½“æŠŠä¸€ä¸ªæ™®é€š Javascript å¯¹è±¡ä¼ ç»™ Vue å®žä¾‹æ¥ä½œä¸ºå®ƒçš„ data é€‰é¡¹æ—¶ï¼ŒVue å°†éåŽ†å®ƒçš„å±žæ€§ï¼Œç”¨ Object.defineProperty å°†å®ƒä»¬è½¬ä¸º getter/setterã€‚ç”¨æˆ·çœ‹ä¸åˆ° getter/setterï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue è¿½è¸ªä¾èµ–ï¼Œåœ¨å±žæ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–ã€‚ Observer ï¼šæ•°æ®ç›‘å¬å™¨ï¼Œèƒ½å¤Ÿå¯¹æ•°æ®å¯¹è±¡çš„æ‰€æœ‰å±žæ€§è¿›è¡Œç›‘å¬ï¼Œå¦‚æœ‰å˜åŠ¨å¯æ‹¿åˆ°æœ€æ–°å€¼å¹¶é€šçŸ¥è®¢é˜…è€…ï¼Œå†…éƒ¨é‡‡ç”¨Object.definePropertyçš„getterå’Œsetteræ¥å®žçŽ° Compile ï¼šæŒ‡ä»¤è§£æžå™¨ï¼Œå®ƒçš„ä½œç”¨å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æå’Œè§£æžï¼Œæ ¹æ®æŒ‡ä»¤æ¨¡æ¿æ›¿æ¢æ•°æ®ï¼Œä»¥åŠç»‘å®šç›¸åº”çš„æ›´æ–°å‡½æ•° Watcher ï¼šè®¢é˜…è€…ï¼Œä½œä¸ºè¿žæŽ¥ Observer å’Œ Compile çš„æ¡¥æ¢ï¼Œèƒ½å¤Ÿè®¢é˜…å¹¶æ”¶åˆ°æ¯ä¸ªå±žæ€§å˜åŠ¨çš„é€šçŸ¥ï¼Œæ‰§è¡ŒæŒ‡ä»¤ç»‘å®šçš„ç›¸åº”å›žè°ƒå‡½æ•° Dep ï¼šæ¶ˆæ¯è®¢é˜…å™¨ï¼Œå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€…ï¼ˆWatcherï¼‰ï¼Œæ•°æ®å˜åŠ¨è§¦å‘notify å‡½æ•°ï¼Œå†è°ƒç”¨è®¢é˜…è€…çš„ update æ–¹æ³• ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“æ‰§è¡Œ new Vue() æ—¶ï¼ŒVue å°±è¿›å…¥äº†åˆå§‹åŒ–é˜¶æ®µï¼Œä¸€æ–¹é¢Vue ä¼šéåŽ† data é€‰é¡¹ä¸­çš„å±žæ€§ï¼Œå¹¶ç”¨ Object.defineProperty å°†å®ƒä»¬è½¬ä¸º getter/setterï¼Œå®žçŽ°æ•°æ®å˜åŒ–ç›‘å¬åŠŸèƒ½ï¼›å¦ä¸€æ–¹é¢ï¼ŒVue çš„æŒ‡ä»¤ç¼–è¯‘å™¨Compile å¯¹å…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æå’Œè§£æžï¼Œåˆå§‹åŒ–è§†å›¾ï¼Œå¹¶è®¢é˜… Watcher æ¥æ›´æ–°è§†å›¾ï¼Œ æ­¤æ—¶Wather ä¼šå°†è‡ªå·±æ·»åŠ åˆ°æ¶ˆæ¯è®¢é˜…å™¨ä¸­(Dep)ï¼Œåˆå§‹åŒ–å®Œæ¯•ã€‚ å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒObserver ä¸­çš„ setter æ–¹æ³•è¢«è§¦å‘ï¼Œsetter ä¼šç«‹å³è°ƒç”¨Dep.notify()ï¼ŒDep å¼€å§‹éåŽ†æ‰€æœ‰çš„è®¢é˜…è€…ï¼Œå¹¶è°ƒç”¨è®¢é˜…è€…çš„ update æ–¹æ³•ï¼Œè®¢é˜…è€…æ”¶åˆ°é€šçŸ¥åŽå¯¹è§†å›¾è¿›è¡Œç›¸åº”çš„æ›´æ–°ã€‚ MVVMï¼Ÿæ¯”ä¹‹ MVC æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿé¦–å…ˆå…ˆæ¥è¯´ä¸‹ View å’Œ Model View å¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨æˆ·çœ‹åˆ°çš„è§†å›¾ Model åŒæ ·å¾ˆç®€å•ï¼Œä¸€èˆ¬å°±æ˜¯æœ¬åœ°æ•°æ®å’Œæ•°æ®åº“ä¸­çš„æ•°æ® åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬å†™çš„äº§å“å°±æ˜¯é€šè¿‡æŽ¥å£ä»Žæ•°æ®åº“ä¸­è¯»å–æ•°æ®ï¼Œç„¶åŽå°†æ•°æ®ç»è¿‡å¤„ç†å±•çŽ°åˆ°ç”¨æˆ·çœ‹åˆ°çš„è§†å›¾ä¸Šã€‚å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ä»Žè§†å›¾ä¸Šè¯»å–ç”¨æˆ·çš„è¾“å…¥ï¼Œç„¶åŽåˆå°†ç”¨æˆ·çš„è¾“å…¥é€šè¿‡æŽ¥å£å†™å…¥åˆ°æ•°æ®åº“ä¸­ã€‚ä½†æ˜¯ï¼Œå¦‚ä½•å°†æ•°æ®å±•ç¤ºåˆ°è§†å›¾ä¸Šï¼Œç„¶åŽåˆå¦‚ä½•å°†ç”¨æˆ·çš„è¾“å…¥å†™å…¥åˆ°æ•°æ®ä¸­ï¼Œä¸åŒçš„äººå°±äº§ç”Ÿäº†ä¸åŒçš„çœ‹æ³•ï¼Œä»Žæ­¤å‡ºçŽ°äº†å¾ˆå¤šç§æž¶æž„è®¾è®¡ã€‚ä¼ ç»Ÿçš„ MVC æž¶æž„é€šå¸¸æ˜¯ä½¿ç”¨æŽ§åˆ¶å™¨æ›´æ–°æ¨¡åž‹ï¼Œè§†å›¾ä»Žæ¨¡åž‹ä¸­èŽ·å–æ•°æ®åŽ»æ¸²æŸ“ã€‚å½“ç”¨æˆ·æœ‰è¾“å…¥æ—¶ï¼Œä¼šé€šè¿‡æŽ§åˆ¶å™¨åŽ»æ›´æ–°æ¨¡åž‹ï¼Œå¹¶ä¸”é€šçŸ¥è§†å›¾è¿›è¡Œæ›´æ–°ã€‚ ####ä½†æ˜¯ MVC æœ‰ä¸€ä¸ªå·¨å¤§çš„ç¼ºé™·å°±æ˜¯æŽ§åˆ¶å™¨æ‰¿æ‹…çš„è´£ä»»å¤ªå¤§äº†ï¼Œéšç€é¡¹ç›®æ„ˆåŠ å¤æ‚ï¼ŒæŽ§åˆ¶å™¨ä¸­çš„ä»£ç ä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œå¯¼è‡´å‡ºçŽ°ä¸åˆ©äºŽç»´æŠ¤çš„æƒ…å†µã€‚ åœ¨ MVVM æž¶æž„ä¸­ï¼Œå¼•å…¥äº† ViewModel çš„æ¦‚å¿µã€‚ViewModel åªå…³å¿ƒæ•°æ®å’Œä¸šåŠ¡çš„å¤„ç†ï¼Œä¸å…³å¿ƒ View å¦‚ä½•å¤„ç†æ•°æ®ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒView å’Œ Model éƒ½å¯ä»¥ç‹¬ç«‹å‡ºæ¥ï¼Œä»»ä½•ä¸€æ–¹æ”¹å˜äº†ä¹Ÿä¸ä¸€å®šéœ€è¦æ”¹å˜å¦ä¸€æ–¹ï¼Œå¹¶ä¸”å¯ä»¥å°†ä¸€äº›å¯å¤ç”¨çš„é€»è¾‘æ”¾åœ¨ä¸€ä¸ª ViewModel ä¸­ï¼Œè®©å¤šä¸ª View å¤ç”¨è¿™ä¸ª ViewModelã€‚ ä»¥ Vue æ¡†æž¶æ¥ä¸¾ä¾‹ï¼ŒViewModel å°±æ˜¯ç»„ä»¶çš„å®žä¾‹ã€‚View å°±æ˜¯æ¨¡æ¿ï¼ŒModel çš„è¯åœ¨å¼•å…¥ Vuex çš„æƒ…å†µä¸‹æ˜¯å®Œå…¨å¯ä»¥å’Œç»„ä»¶åˆ†ç¦»çš„ã€‚####é™¤äº†ä»¥ä¸Šä¸‰ä¸ªéƒ¨åˆ†ï¼Œå…¶å®žåœ¨ MVVM ä¸­è¿˜å¼•å…¥äº†ä¸€ä¸ªéšå¼çš„ Binder å±‚ï¼Œå®žçŽ°äº† View å’Œ ViewModel çš„ç»‘å®šã€‚ åŒæ ·ä»¥ Vue æ¡†æž¶æ¥ä¸¾ä¾‹ï¼Œè¿™ä¸ªéšå¼çš„ Binder å±‚å°±æ˜¯ Vue é€šè¿‡è§£æžæ¨¡æ¿ä¸­çš„æ’å€¼å’ŒæŒ‡ä»¤ä»Žè€Œå®žçŽ° View ä¸Ž ViewModel çš„ç»‘å®šã€‚å¯¹äºŽ MVVM æ¥è¯´ï¼Œå…¶å®žæœ€é‡è¦çš„å¹¶ä¸æ˜¯é€šè¿‡åŒå‘ç»‘å®šæˆ–è€…å…¶ä»–çš„æ–¹å¼å°† View ä¸Ž ViewModel ç»‘å®šèµ·æ¥ï¼Œè€Œæ˜¯é€šè¿‡ ViewModel å°†è§†å›¾ä¸­çš„çŠ¶æ€å’Œç”¨æˆ·çš„è¡Œä¸ºåˆ†ç¦»å‡ºä¸€ä¸ªæŠ½è±¡ï¼Œè¿™æ‰æ˜¯ MVVM çš„ç²¾é«“ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>mvvm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[json web tokenã€è·¨åŸŸè®¤è¯çš„è§£å†³æ–¹æ¡ˆã€‘]]></title>
    <url>%2F2019%2F02%2F25%2Fjson%20web%20token%2F</url>
    <content type="text"><![CDATA[json web tokenã€è·¨åŸŸè®¤è¯çš„è§£å†³æ–¹æ¡ˆã€‘ä¸€èˆ¬äº’è”ç½‘è®¤è¯ç”¨æˆ·æµç¨‹ 1.ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·åå’Œå¯†ç ã€‚ 2ã€æœåŠ¡å™¨éªŒè¯é€šè¿‡åŽï¼Œåœ¨å½“å‰å¯¹è¯ï¼ˆsessionï¼‰é‡Œé¢ä¿å­˜ç›¸å…³æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·è§’è‰²ã€ç™»å½•æ—¶é—´ç­‰ç­‰ã€‚ 3ã€æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›žä¸€ä¸ª session_idï¼Œå†™å…¥ç”¨æˆ·çš„ Cookieã€‚ 4ã€ç”¨æˆ·éšåŽçš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šé€šè¿‡ Cookieï¼Œå°† session_id ä¼ å›žæœåŠ¡å™¨ã€‚ 5ã€æœåŠ¡å™¨æ”¶åˆ° session_idï¼Œæ‰¾åˆ°å‰æœŸä¿å­˜çš„æ•°æ®ï¼Œç”±æ­¤å¾—çŸ¥ç”¨æˆ·çš„èº«ä»½ã€‚ ç¼ºç‚¹ æ‰©å±•æ€§ä¸å¤Ÿå¥½å•æœºå½“ç„¶æ²¡æœ‰é—®é¢˜ï¼Œå¦‚æžœæ˜¯æœåŠ¡å™¨é›†ç¾¤ï¼Œå°±è¦æ±‚ session æ•°æ®å…±äº«ï¼Œæ¯å°æœåŠ¡å™¨éƒ½èƒ½å¤Ÿè¯»å– sessionã€‚ JWTä»¥åŠå…·ä½“å®žçŽ°JWTé‰´æƒçš„ç®€å•æµç¨‹JWTåˆ†ä¸ºä¸‰éƒ¨åˆ† Headerï¼ˆåŒ…å«åŠ å¯†æ–¹å¼ç­‰ï¼‰ { &quot;alg&quot;: &quot;HS256&quot;,// é»˜è®¤ç­¾åç®—æ³• &quot;typ&quot;: &quot;JWT&quot; // ç±»åž‹ } Payloadï¼ˆåŒ…å«ç”¨æˆ·å¿…è¦ä¿¡æ¯ï¼Œä»¥åŠè¿‡æœŸæ—¶é—´ç­‰ï¼‰ iss (issuer)ï¼šç­¾å‘äºº exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´ sub (subject)ï¼šä¸»é¢˜ aud (audience)ï¼šå—ä¼— nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´ iat (Issued At)ï¼šç­¾å‘æ—¶é—´ jti (JWT ID)ï¼šç¼–å· ç”¨æ¥å­˜æ”¾éœ€è¦ä¼ é€’çš„å®žé™…æ•°æ® Signatureï¼ˆé’ˆå¯¹å‰ä¸¤éƒ¨åˆ†ç”Ÿæˆï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹ï¼‰ã€‚ æµç¨‹ç”¨æˆ·ç™»å½•æˆåŠŸåŽï¼ŒåŽå°æ ¹æ®ç”¨æˆ·ä¿¡æ¯åŠ ä¸Šä¸€ä¸ªç”¨æˆ·å”¯ä¸€çš„å¯†é’¥å€¼ï¼Œç”Ÿæˆä¸€ä¸²å­—ç¬¦ä¸²ï¼Œå³Tokenä¸²ï¼Œå°†å…¶è®¾ç½® åœ¨Cookieä¸­ï¼› ç”¨æˆ·ä¸‹æ¬¡å¸¦Tokenè®¿é—®ï¼Œç³»ç»Ÿä¼šå…ˆæ ¹æ®å‰ä¸¤éƒ¨åˆ†ä»¥åŠå¯†é’¥å€¼ï¼Œå¯¹Tokenè¿›è¡Œæœ‰æ•ˆæ€§ä»¥åŠæ­£ç¡®æ€§çš„éªŒè¯ï¼Œå¦‚æžœ éªŒè¯é€šè¿‡çš„è¯ï¼Œå†æ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œ... å¦‚æžœè¦å†™å…¥ç§å¯†æ•°æ®æ—¶éœ€è¦åŠ å¯†const token = jwt.sign({...getu},&quot;usermessag&quot;,{ expiresIn: 60*60*1 // 1å°æ—¶è¿‡æœŸ }) è§£å¯†jwt.verify(token,&#39;usermessag&#39;,(err, decode) =&gt; { console.log(decode) // næ‹¿åˆ°è§£å¯†çš„å€¼ }]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
        <tag>json web token</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueä¸­ä½¿ç”¨é«˜å¾·åœ°å›¾å®šä½]]></title>
    <url>%2F2019%2F02%2F22%2Fgao%20de%20map%2F</url>
    <content type="text"><![CDATA[é«˜å¾·åœ°å›¾APIjavascript APIé«˜å¾·åœ°å›¾å®˜ç½‘é“¾æŽ¥é¦–å…ˆæ³¨å†Œæˆä¸ºå¼€å‘è€… ä¸ºé¡¹ç›®æ·»åŠ key åœ¨vueä¸­ä½¿ç”¨é«˜å¾·åœ°å›¾å®šä½ /index.html &lt;script type=&quot;text/javascript&quot; src=&quot;https://webapi.amap.com/maps?v=1.4.12&amp;key=æ·»åŠ ä½ è‡ªå·±çš„key&quot;&gt;&lt;/script&gt; /build/webpack.base.conf.js module.exports = { externals: { AMap: &#39;AMap&#39; }, } ä»¥æ¨¡å—çš„å½¢å¼å¼•å…¥ /map.js import AMap from &#39;AMap&#39; /* eslint-disable */ let maps const map = { // å®šä½ geolocation () { return new Promise((resolve, reject) =&gt; { AMap.plugin(&#39;AMap.Geolocation&#39;, () =&gt; { var geolocation = new AMap.Geolocation({ // æ˜¯å¦ä½¿ç”¨é«˜ç²¾åº¦å®šä½ï¼Œé»˜è®¤ï¼štrue enableHighAccuracy: true, // è®¾ç½®å®šä½è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ï¼šæ— ç©·å¤§ timeout: 10000 }) geolocation.getCurrentPosition() // æ‰§è¡Œå®šä½ AMap.event.addListener(geolocation, &#39;complete&#39;, (data) =&gt; { resolve(data) }) // æˆåŠŸçš„å›žè°ƒ AMap.event.addListener(geolocation, &#39;error&#39;, (data) =&gt; { reject(data) }) // å¤±è´¥çš„å›žè°ƒ }) }) }, citySearch () { // å½“å‰æ‰€åœ¨åŸŽå¸‚ä¿¡æ¯ return new Promise((resolve, reject) =&gt; { AMap.plugin(&#39;AMap.CitySearch&#39;, () =&gt; { const citySearch = new AMap.CitySearch() citySearch.getLocalCity(function (status, result) { if (status === &#39;complete&#39; &amp;&amp; result.info === &#39;OK&#39;) { // æŸ¥è¯¢æˆåŠŸï¼Œresultå³ä¸ºå½“å‰æ‰€åœ¨åŸŽå¸‚ä¿¡æ¯ resolve(result) } }) }) }) }, search (key, city) { // æ ¹æ®åŸŽå¸‚æœç´¢é™„è¿‘åœ°åŒº return new Promise((resolve, reject) =&gt; { AMap.plugin([&#39;AMap.PlaceSearch&#39;], () =&gt; { var placeSearch = new AMap.PlaceSearch({ city: city }) placeSearch.search(key, (status, result) =&gt; { if (result.poiList) { resolve(result.poiList.pois) } }) }) }) }, renderMap (el) { // æ¸²æŸ“ä¸€å¼ åœ°å›¾ console.log(el) maps = new AMap.Map(el, { resizeEnable: true, // æ˜¯å¦ç›‘æŽ§åœ°å›¾å®¹å™¨å°ºå¯¸å˜åŒ– zoom: 17, center: [116.408075, 39.950187], features: [&#39;bg&#39;, &#39;road&#39;, &#39;building&#39;, &#39;point&#39;] }) // AMap.plugin([&#39;AMap.ToolBar&#39;, &#39;AMap.Scale&#39;], function () { // maps.addControl(new AMap.ToolBar()) // maps.addControl(new AMap.Scale()) // }) } } export default map ä½¿ç”¨çš„æ—¶å€™ç›´æŽ¥è°ƒç”¨å³å¯]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
        <tag>å®šä½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS é˜²æŠ–ï¼ˆdebouceï¼‰ä¸ŽèŠ‚æµï¼ˆthrottleï¼‰]]></title>
    <url>%2F2019%2F02%2F21%2Fdebouce%2F</url>
    <content type="text"><![CDATA[JS é˜²æŠ–ï¼ˆdebouceï¼‰ä¸ŽèŠ‚æµï¼ˆthrottleï¼‰é˜²æŠ–å’ŒèŠ‚æµæ˜¯é’ˆå¯¹å“åº”è·Ÿä¸ä¸Šè§¦å‘é¢‘çŽ‡è¿™ç±»é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚ åœ¨ç»™DOMç»‘å®šäº‹ä»¶æ—¶ï¼Œæœ‰äº›äº‹ä»¶æˆ‘ä»¬æ˜¯æ— æ³•æŽ§åˆ¶è§¦å‘é¢‘çŽ‡çš„ã€‚ å¦‚é¼ æ ‡ç§»åŠ¨äº‹ä»¶onmousemove, æ»šåŠ¨æ»šåŠ¨æ¡äº‹ä»¶onscrollï¼Œçª—å£å¤§å°æ”¹å˜äº‹ä»¶onresizeï¼Œçž¬é—´çš„æ“ä½œéƒ½ä¼šå¯¼è‡´è¿™äº›äº‹ä»¶ä¼šè¢«é«˜é¢‘è§¦å‘ã€‚ å¦‚æžœäº‹ä»¶çš„å›žè°ƒå‡½æ•°è¾ƒä¸ºå¤æ‚ï¼Œå°±ä¼šå¯¼è‡´å“åº”è·Ÿä¸ä¸Šè§¦å‘ï¼Œå‡ºçŽ°é¡µé¢å¡é¡¿ï¼Œå‡æ­»çŽ°è±¡ã€‚ åœ¨å®žæ—¶æ£€æŸ¥è¾“å…¥æ—¶ï¼Œå¦‚æžœæˆ‘ä»¬ç»‘å®šonkeyupäº‹ä»¶å‘è¯·æ±‚åŽ»æœåŠ¡ç«¯æ£€æŸ¥ï¼Œç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶çš„è§¦å‘é¢‘çŽ‡ä¹Ÿä¼šå¾ˆé«˜ï¼Œä¼šå¯¼è‡´å¤§é‡çš„è¯·æ±‚å‘å‡ºï¼Œå“åº”é€Ÿåº¦ä¼šå¤§å¤§è·Ÿä¸ä¸Šè§¦å‘ã€‚ é’ˆå¯¹æ­¤ç±»å¿«é€Ÿè¿žç»­è§¦å‘å’Œä¸å¯æŽ§çš„é«˜é¢‘è§¦å‘é—®é¢˜ï¼Œdebounce å’Œ throttling ç»™å‡ºäº†ä¸¤ç§è§£å†³ç­–ç•¥ï¼› é˜²æŠ–(debouce)å®šä¹‰ å‡½æ•°é˜²æŠ–çš„å«ä¹‰å°±æ˜¯åœ¨ä¸€å®šæ—¶é—´æ®µå†…åªæœ‰ä¸€ä¸ªåŒç±»çš„äº‹ä»¶è§¦å‘å¹¶æ‰§è¡Œï¼›å¦‚æžœè¯¥æ—¶é—´æ®µæœ‰åŒç±»çš„äº‹ä»¶è§¦å‘ï¼Œåˆ™é‡æ–°å¼€å§‹å“åº”è¯¥äº‹ä»¶ å®žä¾‹ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Test&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=&quot;text&quot; name=&quot;input&quot; onkeyup=&quot;debouce(inputHandler);&quot;&gt; &lt;script type=&quot;text/javascript&quot;&gt; let i = 0; function inputHandler () { console.log(i++); } let timer; function debouce (fn) { clearTimeout(timer); timer = setTimeout(() =&gt; { fn(); }, 500) } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; èŠ‚æµï¼ˆthrottleï¼‰å®šä¹‰ å‡½æ•°èŠ‚æµçš„å«ä¹‰å°±æ˜¯åœ¨ä¸€å®šçš„æ—¶é—´æ®µå†…ç›¸åº”çš„äº‹ä»¶åªèƒ½è¢«è§¦å‘ä¸€æ¬¡ï¼›å¦‚æžœæŸæ®µæœ‰å·²ç»æœ‰ç›¸åº”çš„äº‹ä»¶åœ¨æ‰§è¡Œï¼Œåˆ™åœ¨è¯¥æ—¶é—´æ®µå†…ä¸å†è§¦å‘ï¼Œç›´åˆ°æœ¬æ¬¡äº‹ä»¶æ‰§è¡Œç»“æŸï¼› å®žä¾‹ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Test&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=&quot;text&quot; name=&quot;input&quot; onkeyup=&quot;debouce(inputHandler);&quot;&gt; &lt;script type=&quot;text/javascript&quot;&gt; let i = 0; function inputHandler () { console.log(i++); } let timer; function throttle (fn) { if (timer) { return; } timer = setTimeout(() =&gt; { fn(); }, 200); } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; åŒºåˆ« â€”â€”â€” å‡½æ•°åŽ»æŠ–å’Œå‡½æ•°èŠ‚æµéƒ½æ˜¯å¯†é›†åž‹æ“ä½œä¸­é¿å…äº‹ä»¶é¢‘ç¹å‡ºå‘é€ æˆæ€§èƒ½æŸè€—çš„è§£å†³æ–¹æ¡ˆï¼›å‡½æ•°èŠ‚æµï¼Œé¡¾åæ€ä¹‰å°±æ˜¯èŠ‚çº¦æµé‡ï¼Œæ‰€ä»¥æ¯ä¸ªæ—¶é—´æ®µå†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶åœ¨æ­¤æ—¶é—´æ®µå†…å±è”½è§¦å‘çš„åŒç±»äº‹ä»¶ï¼›è€Œå‡½æ•°åŽ»æŠ–åˆ™æ˜¯åœ¨ç”¨æˆ·è¿žç»­æ“ä½œä¸­é¿å…äº‹ä»¶å¤„ç†çš„å¤„ç†æ•ˆçŽ‡ä¸åŠæ—¶é—´è§¦å‘é€Ÿåº¦ï¼Œä»Žè€Œå¯¼è‡´ç”»é¢å¡é¡¿ï¼Œæ“ä½œä¸ç•…ç­‰ä¸è‰¯ç”¨æˆ·ä½“éªŒï¼Œæ‰€ä»¥åœ¨å¾ˆçŸ­çš„æ—¶é—´æ®µå†…åªå“åº”æœ€è¿‘è§¦å‘çš„äº‹ä»¶ï¼›]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
        <tag>debouce</tag>
        <tag>throttle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueä¸­å°è£…axiosæ–¹æ³•]]></title>
    <url>%2F2019%2F02%2F20%2Faxios%2F</url>
    <content type="text"><![CDATA[vueä¸­å°è£…axiosæ–¹æ³•axiosåŸºæœ¬é…ç½® /src/util/axios.js import axios from &#39;axios&#39; // å¼•å…¥axios import vm from &#39;@/main&#39; // å¼•å…¥vueå®žä¾‹åŒ– // åˆ›å»ºaxioså®žä¾‹ var instance = axios.create({ // è®¾ç½®é»˜è®¤è¯·æ±‚å¤´ï¼Œä½¿postè¯·æ±‚å‘é€çš„æ˜¯formdataæ ¼å¼æ•°æ®// axiosçš„headeré»˜è®¤çš„Content-Typeå¥½åƒæ˜¯&#39;application/json;charset=UTF-8&#39; headers: { &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;, &#39;token&#39;: &#39;asdasdasdasdasdasd&#39; // ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¯·æ±‚å¤´ }, withCredentials: true // å…è®¸æºå¸¦cookie }) // æ·»åŠ å“åº”æ‹¦æˆªå™¨ instance.interceptors.response.use(function (response) { // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ return response.data }, function (error) { // ç»Ÿä¸€çš„é”™è¯¯å¤„ç† console.log(error.response.status) if (error.response.status !== 401) { vm.$error(error.response.data.message) } // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ return Promise.reject(error) }) export const get = (url, data) =&gt; instance.get(url, { params: data }) // getæ–¹å¼ export const post = (url, data) =&gt; instance.post(url, data) //postæ–¹å¼ export const put = (url, data) =&gt; instance.put(url, data) //putæ–¹å¼ è°ƒç”¨ api/index.js import {get, post} from &#39;@/utils/axios&#39; getCityList: () =&gt; get(&#39;/api/cityList&#39;)]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
        <tag>axios</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sessionå’Œcookie]]></title>
    <url>%2F2019%2F02%2F18%2Fsession%2F</url>
    <content type="text"><![CDATA[æ— çŠ¶æ€çš„httphttpçš„è¯·æ±‚å’Œå“åº”éƒ½æ˜¯å¯¹åº”çš„ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ•°æ®ï¼ŒæœåŠ¡å™¨ç«¯ä¸ä¼šè®°å½•çŠ¶æ€,å› æ­¤æœåŠ¡å™¨ç«¯æƒ³çŸ¥é“æ˜¯å“ªä¸ªå®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚ï¼Œé€šå¸¸ä½¿ç”¨cookieå’Œsessionæ¥å®ŒæˆCookieã€req.cookiesã€‘cookieæ˜¯ä»ŽæœåŠ¡ç«¯å‘é€çš„ï¼ŒæœåŠ¡ç«¯ç»™ä¸åŒçš„å®¢æˆ·ç«¯å‘é€ä¸åŒçš„æ ‡è¯†ï¼Œè¿™ä¸ªæ ‡è¯†æ ‡è¯†è¯¥ç”¨æˆ·çš„èº«ä»½ï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªæ ‡è¯†æ¥è¯†åˆ«ç”¨æˆ·çš„èº«ä»½ï¼Œä»Žè€Œå°†æ•°æ®å‘é€åˆ°è¯¥å®¢æˆ·ç«¯ã€expressä½¿ç”¨cookie-parser ã€‘ï¼Œä½†æ˜¯å®¢æˆ·ç«¯çš„cookieå…·æœ‰å±€é™æ€§å±€é™æ€§ï¼šcookieçš„æ•°é‡é•¿åº¦é™åˆ¶ï¼Œæ¯ä¸ªcookieé•¿åº¦ä¸èƒ½è¶…è¿‡4kbï¼Œæœ€å¤šåªèƒ½æœ‰20æ¡Sessionexpress-sessionæ˜¯expressçš„ä¸€ä¸ªä¸­é—´ä»¶æ¥åˆ›å»ºsessionï¼ŒæœåŠ¡ç«¯ç”Ÿæˆäº†ä¸€ä¸ªsession idï¼Œå®¢æˆ·ç«¯ä½¿ç”¨cookieä¿å­˜äº†session idè¿™ä¸ªè¯·æ±‚çš„ä¿¡æ¯ï¼Œè€Œå°†ç”¨æˆ·çš„è¯·æ±‚ä¿¡æ¯ä¿å­˜åˆ°å®¢æˆ·ç«¯ï¼Œsessionè®°å½•çš„å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ä¹‹é—´çš„ä¼šè¯çŠ¶æ€ï¼Œè¯¥çŠ¶æ€æ˜¯ç”¨æ¥ç¡®å®šå®¢æˆ·ç«¯çš„èº«ä»½ã€req.sessionã€‘cookieå’Œsessionçš„åŒºåˆ«1ã€æœ€å¤§çš„åŒºåˆ«åº”è¯¥åœ¨äºŽå­˜å‚¨çš„åœ°æ–¹ä¸ä¸€æ ·ï¼Œcookieå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œsessionå­˜å‚¨åœ¨æœåŠ¡å™¨ï¼›2ã€ä»Žå®‰å…¨æ€§æ–¹é¢æ¥è¯´ï¼Œcookieå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¾ˆå®¹æ˜“è¢«çªƒå–ï¼Œæš´éœ²ç”¨æˆ·ä¿¡æ¯ï¼Œè€Œsessionå­˜å‚¨åœ¨æœåŠ¡å™¨ï¼Œè¢«çªƒå–çš„æœºä¼šå°å¾ˆå¤šï¼Œæ•…sessionçš„å®‰å…¨æ€§æ¯”cookieé«˜ï¼›3ã€ä»Žæ€§èƒ½æ–¹é¢æ¥è¯´ï¼Œcookieå­˜å‚¨åœ¨æµè§ˆå™¨ç«¯æ¶ˆè€—çš„æ˜¯ç”¨æˆ·çš„èµ„æºï¼Œç›¸å¯¹æ¯”è¾ƒåˆ†æ•£ï¼Œè€Œsessionæ¶ˆè€—çš„æœåŠ¡å™¨çš„å†…å­˜ï¼Œä¼šé€ æˆæœåŠ¡å™¨ç«¯çš„åŽ‹åŠ›ï¼›4ã€cookieå¯ä»¥é•¿æœŸçš„å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œä½†æ˜¯æ•°é‡å’Œå¤§å°éƒ½æ˜¯æœ‰é™åˆ¶çš„ï¼›sessionå­˜åœ¨æœåŠ¡å™¨çš„æ—¶é—´è¾ƒçŸ­ï¼Œä½†æ˜¯æ²¡æœ‰å¤§å°çš„é™åˆ¶ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>session</tag>
        <tag>cookie</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆMvc.]]></title>
    <url>%2F2019%2F02%2F17%2Fmvc%2F</url>
    <content type="text"><![CDATA[æµ…è°ˆmvcå®šä¹‰ï¼š MVCå³Modelã€Viewã€Controllerå³æ¨¡åž‹ã€è§†å›¾ã€æŽ§åˆ¶å™¨ã€‚æˆ‘åœ¨å’ŒåŒè¡Œè®¨è®ºæŠ€æœ¯ï¼Œé˜…è¯»åˆ«äººçš„ä»£ç æ—¶å‘çŽ°ï¼Œå¾ˆå¤šç¨‹åºå‘˜å€¾å‘äºŽå°†è½¯ä»¶çš„ä¸šåŠ¡é€»è¾‘æ”¾åœ¨Controlleré‡Œï¼Œå°†æ•°æ®åº“è®¿é—®æ“ä½œçš„ä»£ç æ”¾åœ¨Modelé‡Œã€‚ ####æœ€ç»ˆç½‘ç«™çš„ä»£ç ç»“æž„æ˜¯ï¼ŒViewå±‚æ˜¯ç•Œé¢ï¼ŒControllerå±‚æ˜¯ä¸šåŠ¡é€»è¾‘ï¼ŒModelå±‚æ˜¯æ•°æ®åº“è®¿é—®ã€‚ ###MVCè¦å®žçŽ°çš„ç›®æ ‡æ˜¯å°†è½¯ä»¶ç”¨æˆ·ç•Œé¢å’Œä¸šåŠ¡é€»è¾‘åˆ†ç¦»ä»¥ä½¿ä»£ç å¯æ‰©å±•æ€§ã€å¯å¤ç”¨æ€§ã€å¯ç»´æŠ¤æ€§ã€çµæ´»æ€§åŠ å¼ºã€‚ Viewå±‚æ˜¯ç•Œé¢ï¼ŒModelå±‚æ˜¯ä¸šåŠ¡é€»è¾‘ï¼ŒControllerå±‚ç”¨æ¥è°ƒåº¦Viewå±‚å’ŒModelå±‚ï¼Œå°†ç”¨æˆ·ç•Œé¢å’Œä¸šåŠ¡é€»è¾‘åˆç†çš„ç»„ç»‡åœ¨ä¸€èµ·ï¼Œèµ·ç²˜åˆå‰‚çš„æ•ˆæžœã€‚æ‰€ä»¥Controllerä¸­çš„å†…å®¹èƒ½å°‘åˆ™å°‘ï¼Œè¿™æ ·æ‰èƒ½æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚ æ¯”æ–¹è¯´ï¼Œæœ‰ä¸€ä¸ªViewä¼šæäº¤æ•°æ®ç»™Modelè¿›è¡Œå¤„ç†ä»¥å®žçŽ°å…·ä½“çš„è¡Œä¸ºï¼ŒViewé€šå¸¸ä¸ä¼šç›´æŽ¥æäº¤æ•°æ®ç»™Modelï¼Œå®ƒä¼šå…ˆæŠŠæ•°æ®æäº¤ç»™Controllerï¼Œç„¶åŽControllerå†å°†æ•°æ®è½¬å‘ç»™Modelã€‚å‡å¦‚æ­¤æ—¶ç¨‹åºä¸šåŠ¡é€»è¾‘çš„å¤„ç†æ–¹å¼æœ‰å˜åŒ–ï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨Controllerä¸­å°†åŽŸæ¥çš„Modelæ¢æˆæ–°å®žçŽ°çš„Modelå°±å¯ä»¥äº†ï¼ŒæŽ§åˆ¶å™¨çš„ä½œç”¨å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œ ç”¨æ¥å°†ä¸åŒçš„Viewå’Œä¸åŒçš„Modelç»„ç»‡åœ¨ä¸€èµ·ï¼Œé¡ºä¾¿æ›¿åŒæ–¹ä¼ é€’æ¶ˆæ¯ï¼Œä»…æ­¤è€Œå·²ã€‚ å„Modelä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’è°ƒç”¨çš„ï¼Œ Controllerä¹Ÿå¯ä»¥æ— éšœç¢çš„è°ƒç”¨Modelï¼Œå› æ­¤å°†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨Modelä¸­å¯ä»¥çµæ´»çš„ä½¿ç”¨ç»„åˆçš„æ–¹å¼å¤ç”¨ä»£ç ã€‚ MVCçš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š è€¦åˆæ€§ä½Žï¼ˆ MVCè®¾è®¡æ¨¡å¼å¯ä»¥è¯´å®žçŽ°äº†åˆ†å±‚å¼€å‘ã€‚å„ä¸ªå±‚éƒ½æœ‰å„ä¸ªå±‚çš„ä½œç”¨ã€‚ ï¼‰ é‡ç”¨æ€§é«˜ éƒ¨ç½²å¿«ï¼Œç”Ÿå‘½å‘¨æœŸæˆæœ¬ä½Ž å¯ç»´æŠ¤æ€§é«˜ï¼ˆä¿®æ”¹æ¨¡åž‹ä¸ä¼šå½±å“åˆ°è§†å›¾ï¼Œåè¿‡æ¥ï¼Œä¿®æ”¹è§†å›¾ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°æ¨¡åž‹ã€‚ ï¼‰ ç¼ºç‚¹ï¼š å®Œå…¨ç†è§£MVCæ¯”è¾ƒå¤æ‚ã€‚ è°ƒè¯•å›°éš¾ã€‚ ä¸é€‚åˆå°åž‹ï¼Œä¸­ç­‰è§„æ¨¡çš„åº”ç”¨ç¨‹åºï¼ˆå¯¹äºŽç®€å•é¡µé¢ï¼Œä¸¥æ ¼éµå¾ªmvcï¼Œä½¿æ¨¡åž‹ã€è§†å›¾ä¸ŽæŽ§åˆ¶å™¨åˆ†ç¦»ï¼Œä¼šå¢žåŠ ç»“æž„çš„å¤æ‚æ€§ï¼Œå¹¶å¯èƒ½äº§ç”Ÿè¿‡å¤šçš„æ›´æ–°æ“ä½œï¼Œé™ä½Žè¿è¡Œæ•ˆçŽ‡ã€‚ ï¼‰ å¢žåŠ ç³»ç»Ÿç»“æž„å’Œå®žçŽ°çš„å¤æ‚æ€§ æ€»ç»“ä¸€ä¸‹ï¼Œå…³äºŽMVCå„å±‚ä¹‹é—´å…³ç³»æ‰€å¯¹åº”çš„è®¾è®¡æ¨¡å¼ Viewå±‚ï¼Œå•ç‹¬å®žçŽ°äº†ç»„åˆæ¨¡å¼ Modelå±‚å’ŒViewå±‚ï¼Œå®žçŽ°äº†è§‚å¯Ÿè€…æ¨¡å¼ Viewå±‚å’ŒControllerå±‚ï¼Œå®žçŽ°äº†ç­–å’¯æ¨¡å¼]]></content>
      <tags>
        <tag>js</tag>
        <tag>mvc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è·¨åŸŸ]]></title>
    <url>%2F2019%2F02%2F13%2Fcors%2F</url>
    <content type="text"><![CDATA[è·¨åŸŸ###æµè§ˆå™¨åŒæºæ”¿ç­–åŠå…¶è§„é¿æ–¹æ³• è·¨åŸŸæ˜¯ç”±äºŽæµè§ˆå™¨çš„åŒæºç­–ç•¥é™åˆ¶ï¼Œè€Œäº§ç”Ÿçš„ä¸€ç§å®‰å…¨æ¨¡å¼ã€‚åŒæºç­–ç•¥åŒæºæ˜¯æŒ‡åŒåè®®ï¼ŒåŒåŸŸåï¼ŒåŒç«¯å£ï¼Œä¸‰è€…ç›¸åŒå°±æ˜¯åŒæºï¼Œå¦‚æœ‰ä¸€é¡¹ä¸åŒå°±æ˜¯è·¨åŸŸï¼Œè€Œåœ¨æµè§ˆå™¨ä¸­é™æ€èµ„æºä¸å—åŒæºç­–ç•¥çš„å½±å“ï¼ˆimg,linkï¼Œscript,iframeï¼‰è§£å†³è·¨åŸŸåˆ©ç”¨åŒæºç­–ç•¥çš„ç‰¹ç‚¹è§£å†³è·¨åŸŸé—®é¢˜æ–¹å¼ä¸€: jsonpè¯·æ±‚åˆ©ç”¨é™æ€èµ„æºä¸å—è·¨åŸŸçš„é™åˆ¶è§£å†³è·¨åŸŸ ####å°è£…jsonp const getParams = (data) =&gt; { // åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼ŒæŽ¥æ”¶ä¸€ä¸ªå‚æ•° console.log(data, &#39;444&#39;) let params = &#39;&#39; for (let key in data) { console.log(key) params += &#39;&amp;&#39; + key + &#39;=&#39; + data[key] } return params } const jsonp = (url, data) =&gt; { // åˆ›å»ºå‡½æ•°æŽ¥æ”¶éœ€è¦è·¨åŸŸè¯·æ±‚çš„åœ°å€ return new Promise((resolve, reject) =&gt; { const script = document.createElement(&#39;script&#39;) // åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾ const callbackName = &#39;a&#39; + (+new Date()) // éšæœºå®šä¹‰callbackå‡½æ•°å const params = getParams(data) // æ‹¼æŽ¥å‚æ•° script.src = url + &#39;?callback=&#39; + callbackName + &#39;&amp;&#39; + params // è®¾ç½®srcå±žæ€§ä¸ºæŽ¥å£åœ°å€ console.log(script) document.body.appendChild(script) // åŠ¨æ€æ’å…¥åˆ°é¡µé¢ä¸­ window[callbackName] = function (res) { // åŠ¨æ€è®¾ç½®callbackå‡½æ•°åˆ°windowä¸Š resolve(res) // æˆåŠŸåŽ document.body.removeChild(script) // åˆ é™¤scriptæ ‡ç­¾ window[callbackName] = null // æ¸…ç©ºwindowä¸Šçš„callbackå‡½æ•° } console.log(&#39;aaa&#39;) }) } export default jsonp ###åŽç«¯ã€ä½¿ç”¨expressæ¥è¯´ã€‘ router.get(&#39;/list&#39;, function(req,res){ console.log(req.query) let {callback} = req.query res.send(`${callback}(&#39;sssss&#39;)`) }) ä¼˜ç‚¹ å¯ä»¥è§£å†³è·¨åŸŸï¼Œå¹¶ä¸”å…¼å®¹æ‰€æœ‰æµè§ˆå™¨ ç¼ºç‚¹ åªèƒ½getè¯·æ±‚ï¼Œä¸èƒ½postè¯·æ±‚ ç‰¹æ€§ åˆ©ç”¨äº†é™æ€èµ„æºä¸å—åŒæºç­–ç•¥å½±å“ åŽŸç† åŠ¨æ€ç”Ÿæˆscriptæ ‡ç­¾ï¼Œå¹¶ä¸”è®¾ç½®srcå±žæ€§ä¸ºæŽ¥å£åœ°å€ï¼ŒåŠ¨æ€æ’å…¥åˆ°é¡µé¢ä¸­ï¼Œå‘å‡ºè¯·æ±‚ï¼ŒåŽç«¯æŽ¥åˆ°è¯·æ±‚ï¼Œéœ€è¦èŽ·å–callbackçš„å‚æ•°ï¼Œè€Œcallbackçš„å‚æ•°åŠ¨æ€ç”Ÿæˆscriptæ ‡ç­¾çš„æ—¶å€™ï¼ŒåŠ¨æ€ç”Ÿæˆå‡½æ•°åç§° æ–¹å¼äºŒï¼šcorscorsè·¨åŸŸèµ„æºå…±äº«ï¼Œè¿™æ˜¯æµè§ˆå™¨çš„æ–°å¢žç‰¹æ€§ï¼Œåªéœ€è¦æ“ä½œæœåŠ¡å³å¯ï¼Œå®¢æˆ·ç«¯ä¸å˜ï¼Œå¸¸ç”¨åœºæ™¯å°±æ˜¯å°ç¨‹åº Corsæ˜¯ä¸€ä¸ªw3cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€œè·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCorss-origin rsource sharingï¼‰ ä»–å…è®¸æµè§ˆå™¨å‘è·¨åŸŸæœåŠ¡å™¨ï¼Œå‘å‡ºXMLrequrestè¯·æ±‚ï¼Œä»Žè€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ å‰ç«¯ä¸éœ€è¦åšä»»ä½•ä¿®æ”¹ï¼Œåªéœ€è¦æœåŠ¡ç«¯è®¾ç½®å…è®¸çš„headerå¤´å³å¯ app.use((req, res, next) =&gt; { res.header(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;); // å…è®¸æ‰€æœ‰è·¨åŸŸè¯·æ±‚ res.header(&#39;Access-Control-Allow-Credentials&#39;, true) // å…è®¸æºå¸¦cookie res.header(&#39;Access-Control-Allow-Headers&#39;, &#39;Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild&#39;); //å…è®¸çš„headerå†…å®¹ res.header(&#39;Access-Control-Allow-Methods&#39;, &#39;PUT, POST, GET, DELETE, OPTIONS&#39;); // å…è®¸çš„è¯·æ±‚æ–¹æ³• next() }) ä¼˜ç‚¹ å‰ç«¯ä¸éœ€è¦åšä»»ä½•å¤„ç†ï¼Œæ”¯æŒgetï¼Œpostä»»ä½•è¯·æ±‚ ç¼ºç‚¹ æµè§ˆå™¨å…¼å®¹ï¼Œä¸å…¼å®¹IE10ä»¥ä¸‹æµè§ˆå™¨ ç‰¹æ€§ æµè§ˆå™¨æ–°ç‰¹æ€§ æ–¹å¼ä¸‰ï¼šä»£ç†ä¸€èˆ¬æƒ…å†µä¸‹è·¨åŸŸäº§ç”Ÿçš„åŽŸå› åŸŸåç«¯å£ä¸ä¸€æ ·ï¼Œå› ä¸ºåœ¨å¼€å‘çŽ¯å¢ƒä¸­ï¼Œå‰ç«¯å¯åŠ¨çš„æ˜¯è‡ªå·±çš„æœåŠ¡ï¼ŒåŽç«¯å¯åŠ¨ä¹Ÿæ˜¯è‡ªå·±çš„æœåŠ¡ï¼Œè€Œåœ¨åŽé¢ä¸Šçº¿äº†å°±ä¸å­˜åœ¨è·¨åŸŸäº†ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ä»£ç†çš„å½¢å¼ï¼ˆåŽç«¯ä¸éœ€è¦åšä»»ä½•è°ƒæ•´ï¼Œåªéœ€è¦å‰ç«¯æ·»åŠ åå‘ä»£ç†å³å¯ï¼‰ å®¢æˆ·ç«¯å‘å‡ºåŽ»è¯·æ±‚ â€“ æœ¬åœ°æœåŠ¡å™¨æ‹¦æˆª â€“ å‘çŽ°æ˜¯apiå¼€å¤´ â€“ æœ¬åœ°æœåŠ¡å‘å‡ºè¯·æ±‚è¯·æ±‚(localhost:3000) â€“ è·¨åŸŸæœåŠ¡å™¨è¿”å›žæ•°æ® â€“ æœ¬åœ°æœåŠ¡å™¨æŽ¥æ”¶æ•°æ® â€“ å°†æ•°æ®è¿”å›žç»™å®¢æˆ·ç«¯ æ–¹å¼å››ï¼šwindow.name+iframewindow.nameé€šè¿‡åœ¨iframeï¼ˆä¸€èˆ¬åŠ¨æ€åˆ›å»ºiï¼‰ä¸­åŠ è½½è·¨åŸŸHTMLæ–‡ä»¶æ¥èµ·ä½œç”¨ã€‚ç„¶åŽï¼ŒHTMLæ–‡ä»¶å°†ä¼ é€’ç»™è¯·æ±‚è€…çš„å­—ç¬¦ä¸²å†…å®¹èµ‹å€¼ç»™window.nameã€‚ç„¶åŽï¼Œè¯·æ±‚è€…å¯ä»¥æ£€ç´¢window.nameå€¼ä½œä¸ºå“åº”ã€‚ iframeæ ‡ç­¾çš„è·¨åŸŸèƒ½åŠ›ï¼› window.nameå±žæ€§å€¼åœ¨æ–‡æ¡£åˆ·æ–°åŽä¾æ—§å­˜åœ¨çš„èƒ½åŠ›ï¼ˆä¸”æœ€å¤§å…è®¸2Må·¦å³ï¼‰ã€‚ æ¯ä¸ªiframeéƒ½æœ‰åŒ…è£¹å®ƒçš„windowï¼Œè€Œè¿™ä¸ªwindowæ˜¯top windowçš„å­çª—å£ã€‚contentWindowå±žæ€§è¿”å›žiframeå…ƒç´ çš„Windowå¯¹è±¡ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªWindowå¯¹è±¡æ¥è®¿é—®iframeçš„æ–‡æ¡£åŠå…¶å†…éƒ¨DOMã€‚ &lt;!-- ä¸‹è¿°ç”¨ç«¯å£ 10000è¡¨ç¤ºï¼šdomainA 10001è¡¨ç¤ºï¼šdomainB --&gt; &lt;!-- localhost:10000 --&gt; &lt;script&gt; var iframe = document.createElement(&#39;iframe&#39;); iframe.style.display = &#39;none&#39;; // éšè— var state = 0; // é˜²æ­¢é¡µé¢æ— é™åˆ·æ–° iframe.onload = function() { if(state === 1) { console.log(JSON.parse(iframe.contentWindow.name)); // æ¸…é™¤åˆ›å»ºçš„iframe iframe.contentWindow.document.write(&#39;&#39;); iframe.contentWindow.close(); document.body.removeChild(iframe); } else if(state === 0) { state = 1; // åŠ è½½å®Œæˆï¼ŒæŒ‡å‘å½“å‰åŸŸï¼Œé˜²æ­¢é”™è¯¯(proxy.htmlä¸ºç©ºç™½é¡µé¢) // Blocked a frame with origin &quot;http://localhost:10000&quot; from accessing a cross-origin frame. iframe.contentWindow.location = &#39;http://localhost:10000/proxy.html&#39;; } }; iframe.src = &#39;http://localhost:10001&#39;; document.body.appendChild(iframe); &lt;/script&gt; &lt;!-- localhost:10001 --&gt; &lt;!DOCTYPE html&gt; ... &lt;script&gt; window.name = JSON.stringify({a: 1, b: 2}); &lt;/script&gt; &lt;/html&gt; æ³¨æ„ï¼š ç›´æŽ¥åµŒå…¥å…¶ä»–åŸŸï¼ˆlocalhots:10001ï¼‰ä¸‹çš„URLä¼šæŠ¥é”™ï¼Œæ‰€ä»¥éœ€è¦åŠ è½½å®Œæˆæ›¿æ¢ä¸ºå½“å‰åŸŸçš„URL(localhots:10000)ï¼Œproxy.htmlä¸ºç©ºç™½é¡µé¢ï¼Œåªä¸ºè§£å†³è¯¥é—®é¢˜ï¼› é‡æ–°è®¾ç½®srcï¼ˆhttp://localhost:10000/proxy.htmlï¼‰åŽå¯¼è‡´é¡µé¢ä¸æ–­åˆ·æ–°ï¼Œæ‰€ä»¥é€šè¿‡stateæ¥æŽ§åˆ¶ï¼› å…¨éƒ¨èŽ·å–å®Œç»“æžœåŽï¼Œæ¸…é™¤è¯¥iframeã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>cors</tag>
        <tag>è·¨åŸŸ</tag>
        <tag>jsonp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RESTful API]]></title>
    <url>%2F2019%2F02%2F12%2Fweb%20server%2F</url>
    <content type="text"><![CDATA[å‰åŽç«¯äº¤äº’ï¼Ÿ ä»¥å‰å‰åŽç«¯æ˜¯ä¸åˆ†ç¦»çš„ï¼Œéšç€ajaxçš„å‡ºçŽ°ï¼Œå¯ä»¥å®žçŽ°å¼‚æ­¥èŽ·å–æ•°æ®ï¼Œä¸éœ€è¦ä¸€ç›´åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥é€šè¿‡å¼‚æ­¥çš„å½¢å¼èŽ·å–æ•°æ®ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼ŒåŽæ¥éšç€ä¸€äº›å‰ç«¯æ¡†æž¶çš„å‡ºçŽ°ï¼Œå¼€å§‹æœ‰äº†å‰åŽç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ï¼Œå‰ç«¯è´Ÿè´£é¡µé¢ç»“æž„ï¼Œæ ·å¼ï¼Œæ•ˆæžœï¼Œæ•°æ®æ¸²æŸ“ã€ï¼ˆé€»è¾‘å¤„ç†ï¼‰åŽç«¯åªéœ€è¦æä¾›æ•°æ®æŽ¥å£ï¼Œæå‡äº†å¼€å‘æ•ˆçŽ‡ å‰åŽç«¯åˆ†ç¦» å‰åŽç«¯åˆ†ç¦»ä¹‹åŽå‡ºçŽ°çš„é—®é¢˜ï¼Œæ•°æ®ç»“æž„æœ‰æ—¶å€™ä¸ä¼šç‰¹åˆ«ä¾¿åˆ©ï¼ˆä¸å¤ªæ–¹ä¾¿ï¼‰ï¼ŒæŽ¥å£æŠ¥é”™çš„æ—¶å€™ï¼ŒæŽ¥å£æè¿°ä¸æ¸…æ™°ï¼Œè¿™ä¸ªæ—¶å€™éƒ½éœ€è¦å‰ç«¯å’ŒåŽå°æ²Ÿé€šï¼Œä¸ºäº†æå‡å¼€å‘æ•ˆçŽ‡ï¼ŒçŽ°åœ¨æ‰€æœ‰çš„åŽç«¯éœ€è¦æä¾›æŽ¥å£æ–‡æ¡£ï¼Œæè¿°æ¯ä¸€ä¸ªæŽ¥å£æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæ¯ä¸€ä¸ªå‚æ•°æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œä½†æ˜¯è¿˜æ˜¯é¿å…ä¸äº†åˆä¸æ¸…æ™°çš„åœ°æ–¹ï¼ŒåŽç«¯ä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿé”™è¯¯ï¼Œæ‰€ä»¥çŽ°åœ¨ä¸€èˆ¬æŽ¥å£éƒ½ä¼šæœ‰æŽ¥å£è§„èŒƒï¼ˆæœ€å¸¸ç”¨çš„RESTful APIï¼‰ åŽç«¯å¼€å‘è¯­è¨€ï¼Ÿ####php,java,.net,â€¦. è¿™äº›è¯­è¨€éƒ½å¯ä»¥è¾“å‡ºhtmlè¯­è¨€ phpå¾ªçŽ¯ &lt;div&gt; &lt;?php for ($x=0; $x&lt;=10; $x++) { exho &quot;&lt;li&gt; $x &lt;/li&gt;&quot;; } ?&gt; &lt;/div&gt; åœ¨è¿™ä¸ªæ—¶å€™å‰åŽç«¯çš„èŒè´£å°±æ˜¯å‰ç«¯åªåšé¡µé¢å¸ƒå±€+jsæ•ˆæžœï¼Œå†™é™æ€é¡µé¢ï¼Œå°†é™æ€é¡µé¢ç»™åŽç«¯ä½œä¸ºæ¨¡æ¿ï¼ŒåŽç«¯å¼€å§‹åµŒå¥—æ•°æ®ï¼Œè¿™æ—¶å€™å‰åŽäº¤äº’æ˜¯å‰ç«¯éœ€è¦ååŠ©åŽç«¯åšé¡µé¢è°ƒè¯•ï¼Œå‰ç«¯ä¼šä¸€ç›´é…åˆåŽå°åšæ ·å¼ï¼Œç»“æž„å¤„ç†ï¼Œé€ æˆå·¥ä½œæ•ˆçŽ‡ä½Žä¸‹çš„é—®é¢˜å…¨æ ˆå·¥ç¨‹å¸ˆæœ‰äº†nodeçš„å‡ºçŽ°ï¼Œå‰ç«¯ä¹Ÿå¯ä»¥åšæ•°æ®åº“çš„æ“ä½œå‘¢ï¼ŒæŽ¥å£çš„å¼€å‘ï¼Œnodeå¼€å‘æŽ¥å£ä¸€èˆ¬ç”¨ä¸¤ä¸ªæ¡†æž¶expressã€‚ koa ï¼Œæ•°æ®åº“mysql ï¼Œmongdb ï¼ˆCRUD); çŽ°åœ¨ä¸€èˆ¬å¸¸ç”¨nodeåšä¸­é—´å±‚å¤„ç†ã€å°±æ˜¯åŽŸæœ‰æŽ¥å£çš„è½¬æ¢ã€‘ï¼Œnodeåœ¨ä¼ä¸šå¼€å‘ä¸­ä¹Ÿä¼šåšä¸€äº›æå‡å¼€å‘æ•ˆçŽ‡çš„å·¥å…·ï¼Œnodeä¹Ÿå¯ä»¥ç”¨ä½œæ¡Œé¢åº”ç”¨ç¨‹åºé¢çš„å¼€å‘RESTfulèµ·æºï¼š RESTè¿™ä¸ªè¯ï¼Œæ˜¯Roy Thomas Fieldingåœ¨ä»–2000å¹´çš„åšå£«è®ºæ–‡ä¸­æå‡ºçš„ã€‚ åç§°ï¼š Fieldingå°†ä»–å¯¹äº’è”ç½‘è½¯ä»¶çš„æž¶æž„åŽŸåˆ™ï¼Œå®šåä¸ºRESTï¼Œå³Representational State Transferçš„ç¼©å†™ï¼ˆè¡¨çŽ°å±‚çŠ¶æ€è½¬åŒ–ï¼‰ã€‚ ç†è§£ï¼š RE:(è¡¨çŽ°å±‚)ï¼šæŒ‡çš„å°±æ˜¯èµ„æºï¼ˆæŠŠèµ„æºå‘ˆçŽ°å‡ºæ¥å°±å«è¡¨çŽ°å±‚ï¼‰ ST:(è½¬æ€è½¬æ¢)ï¼šè®¿é—®ä¸€ä¸ªç½‘ç«™ï¼Œå°±ä»£è¡¨äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ä¸€ä¸ªäº’åŠ¨è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒåŠ¿å¿…æ¶‰åŠåˆ°æ•°æ®å’ŒçŠ¶æ€çš„å˜åŒ–ã€‚äº’è”ç½‘é€šä¿¡åè®®HTTPåè®®ï¼Œæ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ã€‚è¿™æ„å‘³ç€ï¼Œæ‰€æœ‰çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚å› æ­¤ï¼Œå¦‚æžœå®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œå¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µï¼Œè®©æœåŠ¡å™¨ç«¯å‘ç”Ÿâ€çŠ¶æ€è½¬åŒ–â€ã€‚è€Œè¿™ç§è½¬åŒ–æ˜¯å»ºç«‹åœ¨è¡¨çŽ°å±‚ä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥å°±æ˜¯â€è¡¨çŽ°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚ å®¢æˆ·ç«¯ç”¨åˆ°çš„æ‰‹æ®µï¼Œåªèƒ½æ˜¯HTTPåè®®ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯HTTPåè®®é‡Œé¢ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼š GETã€POSTã€PUTã€DELETEã€‚ å®ƒä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼š GETç”¨æ¥èŽ·å–èµ„æºï¼Œ POSTç”¨æ¥æ–°å»ºèµ„æºï¼ˆä¹Ÿå¯ä»¥ç”¨äºŽæ›´æ–°èµ„æºï¼‰ï¼Œ PUTç”¨æ¥æ›´æ–°èµ„æºï¼Œ DELETEç”¨æ¥åˆ é™¤èµ„æºã€‚ æ€»ç»“RESTful çœ‹Urlå°±çŸ¥é“è¦ä»€ä¹ˆ çœ‹http methodå°±çŸ¥é“å¹²ä»€ä¹ˆ çœ‹http status codeå°±çŸ¥é“ç»“æžœå¦‚ä½•]]></content>
      <tags>
        <tag>js</tag>
        <tag>å‰åŽç«¯äº¤äº’</tag>
        <tag>Restful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vuexç®€å•æ¦‚è¿°]]></title>
    <url>%2F2019%2F01%2F30%2Fvuex%2F</url>
    <content type="text"><![CDATA[Vuex Vuexæ˜¯ä»€ä¹ˆï¼Ÿ å¼•å…¥å®˜æ–¹æä¾›çš„è§£é‡Šï¼Œvuex æ˜¯ä¸“é—¨ä¸º vue.js è®¾è®¡çš„ä¸€å¥— çŠ¶æ€ç®¡ç†æ¨¡å¼ ã€‚ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Ÿè¯´ç™½äº†å°±æ˜¯æ•°æ®çš„é›†ä¸­ç®¡ç†ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨ vue.js æ—¶æ‰€ç”¨åˆ°çš„æ•°æ®å…¨éƒ¨æŠ½å–å‡ºæ¥æ”¾åœ¨ä¸€ä¸ªstateå¯¹è±¡ä¸‹ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ä»»ä½•ç»„ä»¶å†…éƒ½å¯ä»¥è®¿é—®å¾—åˆ°è¯¥æ•°æ®ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹ä¸‹ vuex æ˜¯å¦‚ä½•ç®¡ç†æˆ‘ä»¬çš„æ•°æ®çš„ã€‚ é¦–å…ˆå…ˆé€šè¿‡npmæ¥å®‰è£…ä¸€ä¸‹vuexï¼šnpm install vuex --save stateçŠ¶æ€å±žæ€§åœ¨é¡¹ç›®srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹(è¯¥æ–‡ä»¶å¤¹ä¸æ˜¯å¿…é¡»çš„ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æŽ¥æ–°å»ºä¸€ä¸ªstore.jsï¼Œåªè¦ä½ å¼•å…¥çš„è·¯å¾„æ­£ç¡®å³å¯)ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª index.jsã€‚storeæ–‡ä»¶å¤¹ä¸»è¦æ˜¯å•ç‹¬ç®¡ç†æˆ‘ä»¬çš„æ•°æ®çŠ¶æ€ï¼ŒåŒ…æ‹¬è¡Œä¸ºè§¦å‘ç­‰ç­‰ã€‚ store/index.js import Vue from &#39;vue&#39; import Vuex from &#39;vuex&#39; Vue.use(Vuex) let store = new Vuex.Store({ state: { //è¦è®¾ç½®çš„å…¨å±€è®¿é—®çš„stateå¯¹è±¡ name: &quot;vuex&quot; } }) export default store ä¸ºäº†èƒ½åœ¨æ‰€æœ‰çš„ç»„ä»¶ä¸­å…±äº«æˆ‘ä»¬çš„æ•°æ®ï¼Œæˆ‘ä»¬æœ‰å¿…è¦ç»™æ ¹å®žä¾‹ä¸‹æ³¨å…¥æˆ‘ä»¬çš„storeå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨main.jsæ–‡ä»¶ä¸­ main.js import Vue from &#39;vue&#39; import App from &#39;./App.vue&#39; import &quot;./commcss/index.scss&quot; import store from &#39;./store/index&#39; new Vue({ el: &#39;#app&#39;, render: h =&gt; h(App), store // å…¨å±€æ³¨å†Œ }) App.vue &lt;template&gt; &lt;div class=&quot;app&quot;&gt; {{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import { mapState} from &#39;vuex&#39; /* *1.mapState è¾…åŠ©å‡½æ•° *å½“ä¸€ä¸ªç»„ä»¶éœ€è¦èŽ·å–å¤šä¸ªçŠ¶æ€æ—¶å€™ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜Žä¸ºè®¡ç®—å±žæ€§ä¼šæœ‰äº›é‡å¤å’Œå†—ä½™ã€‚ *ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mapState è¾…åŠ©å‡½æ•°å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±žæ€§ï¼Œè®©ä½ å°‘æŒ‰å‡ æ¬¡é”®ï¼š */ export default { computde: { ...mapState([&#39;name&#39;]) } } &lt;/script&gt; Getter(storeçš„è®¡ç®—å±žæ€§ï¼Œä¾‹å¦‚å¯¹åˆ—è¡¨è¿›è¡Œè¿‡æ»¤) store/index.js state: { count: 1, arr: [ { sex: &#39;ç”·&#39;, id: 1 }, { sex: &#39;ç”·&#39;, id: 2 }, { sex: &#39;ç”·&#39;, id: 3 }, { sex: &#39;ç”·&#39;, id: 4 }, { sex: &#39;å¥³&#39;, id: 5 }, { sex: &#39;ç”·&#39;, id: 6 }, { sex: &#39;ç”·&#39;, id: 7 } ] }, getters: { man (state) { return state.arr.filter(item=&gt;{return item.sex===&#39;ç”·&#39;}) } }, App.vue &lt;template&gt; &lt;div class=&quot;app&quot;&gt; &lt;ul&gt; &lt;li v-for=&quot;(item,index) in man&quot; :key=&quot;item.id&quot;&gt;{{item.sex}}&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import { mapGetters } from &#39;vuex&#39; //mapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±žæ€§ï¼š export default { computde: { ...mapGetters([&#39;man&#39;]) } } &lt;/script&gt; mutation(æ›´æ–°stateçš„å”¯ä¸€æ–¹æ³•) store/index.js mutation: { change (state) { state.name = &#39;vue&#39; } } App.vue &lt;template&gt; &lt;div class=&quot;app&quot; @click=&quot;change&quot;&gt; {{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { method: { change () { this.$store.commit(&#39;change&#39;) } } } &lt;/script&gt; ä¸€æ¡é‡è¦çš„åŽŸåˆ™å°±æ˜¯è¦è®°ä½ mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°åŽŸå› ï¼š(ä¸ºä»€ä¹ˆä¸èƒ½æ‰§è¡Œä¸€æ­¥æ“ä½œ) çŽ°åœ¨æƒ³è±¡ï¼Œæˆ‘ä»¬æ­£åœ¨ debug ä¸€ä¸ª app å¹¶ä¸”è§‚å¯Ÿ devtool ä¸­çš„ mutation æ—¥å¿—ã€‚æ¯ä¸€æ¡ mutation è¢«è®°å½•ï¼Œdevtools éƒ½éœ€è¦æ•æ‰åˆ°å‰ä¸€çŠ¶æ€å’ŒåŽä¸€çŠ¶æ€çš„å¿«ç…§ã€‚ç„¶è€Œï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ mutation ä¸­çš„å¼‚æ­¥å‡½æ•°ä¸­çš„å›žè°ƒè®©è¿™ä¸å¯èƒ½å®Œæˆï¼šå› ä¸ºå½“ mutation è§¦å‘çš„æ—¶å€™ï¼Œå›žè°ƒå‡½æ•°è¿˜æ²¡æœ‰è¢«è°ƒç”¨ï¼Œdevtools ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å›žè°ƒå‡½æ•°å®žé™…ä¸Šè¢«è°ƒç”¨â€”â€”å®žè´¨ä¸Šä»»ä½•åœ¨å›žè°ƒå‡½æ•°ä¸­è¿›è¡Œçš„çŠ¶æ€çš„æ”¹å˜éƒ½æ˜¯ä¸å¯è¿½è¸ªçš„ã€‚ å› æ­¤ï¼šã€æˆ‘ä»¬éœ€è¦ä¸€ä¸ªactionæ¥è¿›è¡Œå¼‚æ­¥æ“ä½œã€‘ActionAction ç±»ä¼¼äºŽ mutationï¼Œä¸åŒåœ¨äºŽï¼š Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æŽ¥å˜æ›´çŠ¶æ€ã€‚ Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚ store/index.js state: { count: 0 }, mutations: { addcount (state) { state.count++ } }, actions: { getInfo (context) { setTimeout(()=&gt;{ context.commit(&#39;addcount&#39;) },2000) } } App.vue &lt;template&gt; &lt;div class=&quot;app&quot; @click=&quot;change&quot;&gt; {{count}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { computed: { ...mapState([&#39;count&#39;]) }, method: { change () { this.$store.dispatch(&#39;getInfo&#39;) } } } &lt;/script&gt; ä¹ä¸€çœ¼çœ‹ä¸ŠåŽ»æ„Ÿè§‰å¤šæ­¤ä¸€ä¸¾ï¼Œæˆ‘ä»¬ç›´æŽ¥åˆ†å‘ mutation å²‚ä¸æ›´æ–¹ä¾¿ï¼Ÿå®žé™…ä¸Šå¹¶éžå¦‚æ­¤ï¼Œè¿˜è®°å¾— mutation å¿…é¡»åŒæ­¥æ‰§è¡Œè¿™ä¸ªé™åˆ¶ä¹ˆï¼ŸAction å°±ä¸å—çº¦æŸï¼æˆ‘ä»¬å¯ä»¥åœ¨ action å†…éƒ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼šModuleç”±äºŽä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éžå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚ ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»Žä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼šé¦–å…ˆåˆ›å»ºmodule/todo.js module/todo.js export default { namespaced: true, state: { count: 0 }, mutations: { addcount (state) { state.count++ } }, } store/index.js import todo from &quot;./modules/todo&quot; modules: { todo } App.vue &lt;template&gt; &lt;div class=&quot;app&quot; @click=&quot;change&quot;&gt; {{count}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { computed: { ...mapState(&#39;todo&#39;,[&#39;count&#39;]) }, method: { change () { this.$store.commit(&#39;todo/addcount&#39;) } } } &lt;/script&gt;]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
        <tag>vuex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-routerè·¯ç”±]]></title>
    <url>%2F2019%2F01%2F28%2FNew%20Router%2F</url>
    <content type="text"><![CDATA[è·¯ç”±è·¯ç”±ä¼ å‚(query,params)åœ¨å•é¡µé¢åº”ç”¨ä¸­è·¯ç”±çš„ä¼ é€’æ–¹å¼å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•ã€(query,params) query åŒ…å«åœ¨è·¯å¾„åŽé¢ä»¥ï¼Ÿä½œä¸ºåˆ†å‰²ç¬¦ï¼Œå¤šå‚æ•°ç›´æŽ¥ä½¿ç”¨&amp;åˆ†å‰²å¼€å‘ï¼Œåå­—å’Œå€¼ä½¿ç”¨=åˆ†éš”ï¼Œè¿™ç§æ–¹å¼é€‚åˆä¼ é€’ä¸å¿…é¡»çš„å€¼ï¼Œä¼ é€’å’Œä¸ä¼ é€’éƒ½ä¸ä¼šå½±å“é¡µé¢çš„åŠ è½½ params åŒ…å«åœ¨è·¯ç”±è·¯å¾„ä¹‹ä¸­ï¼Œè¿™ç§æ–¹å¼æ˜¯æ¡†æž¶å†…éƒ¨çš„å‚æ•°ä¼ é€’å®žçŽ°çš„ï¼Œè¿™ç§æ–¹å¼é€‚åˆä¼ é€’å¿…é¡»ä¼ é€’çš„å€¼(/detail/:id) (/detail/11213),å¯ä»¥å‡ºçŽ°åœ¨è·¯å¾„ä¸­çš„ä»»ä½•ä½ç½® å¦‚ä½•èŽ·å–($router) åœ¨vueä¸­è·¯ç”±å‚æ•°é€šè¿‡ï¼Œ$routeèŽ·å–ï¼Œ$route.paramsèŽ·å–paramsä¼ é€’çš„å‚æ•°ï¼Œ$route.queryèŽ·å–queryä¼ é€’çš„å‚æ•°ï¼Œè€Œ$routeå°±æ˜¯ä»£è¡¨çš„æ˜¯å½“å‰é¡µé¢çš„è·¯ç”±ä¿¡æ¯å¯¹è±¡###è€Œ$routeræ˜¯èŽ·å–çš„æ˜¯è·¯ç”±å®žä¾‹ï¼Œ$routeåªæ˜¯$routerä¸­ä¸€ä¸ªå‚æ•°çš„æŒ‡é’ˆè€Œå·²ï¼ˆï¼‰ å¸¸è¯†ï¼š 1.router-linkç»„ä»¶æ˜¯ç”¨æ¥è·³è½¬è·¯ç”±çš„ï¼Œtoå±žæ€§æ˜¯å°†è¦è·³è½¬çš„è·¯ç”±é¡µåœ°å€ã€‚ 2.router-viewç»„ä»¶æ˜¯ç”¨æ¥å±•ç¤ºç»„ä»¶é¡µçš„ã€‚]]></content>
      <tags>
        <tag>vue-router</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueæž„é€ å™¨åŠå…¶å®žä¾‹åŒ–æ¦‚å¿µ]]></title>
    <url>%2F2019%2F01%2F28%2Fvue%20extend%2F</url>
    <content type="text"><![CDATA[Vueæž„é€ å™¨åŠå…¶å®žä¾‹åŒ–æ¦‚å¿µ Vueæž„é€ å™¨é™„å®˜æ–¹æ–‡æ¡£ ç®€å•ä»‹ç» Vue.extend(options)å‚æ•°: å¯¹è±¡ç”¨æ³•: ä½¿ç”¨Vueæž„é€ å™¨ï¼Œåˆ›å»ºä¸€ä¸ªâ€œå­ç±»â€ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«ç»„ä»¶é€‰é¡¹çš„å¯¹è±¡ï¼Œå…¶ä¸­,dataé€‰é¡¹ä¸­å¿…é¡»æ˜¯å‡½æ•°æè¿°ï¼šVue.extendè¿”å›žçš„æ˜¯ä¸€ä¸ªâ€œæ‰©å±•å®žä¾‹æž„é€ å™¨â€ï¼Œä¹Ÿå°±æ˜¯é¢„è®¾äº†éƒ¨åˆ†é€‰é¡¹çš„Vueçš„å®žä¾‹æž„é€ å™¨ï¼Œå®ƒå¸¸å¸¸æœåŠ¡äºŽVue.componentç”¨æ¥ç”Ÿæˆç»„ä»¶ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºå½“åœ¨æ¨¡æ¿ä¸­é‡åˆ°è¯¥ç»„ä»¶ä½œä¸ºæ ‡ç­¾çš„è‡ªå®šä¹‰å…ƒç´ æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨â€œæ‰©å±•å®žä¾‹æž„é€ å™¨â€æ¥ç”Ÿäº§ç»„ä»¶å®žä¾‹ï¼Œå¹¶æŒ‚åœ¨åˆ°è‡ªå®šä¹‰å…ƒç´ ä¸Š ç®€å•ä¸¾ä¾‹ è‡ªå®šä¹‰æ— å‚æ•°æ ‡ç­¾ä¸‹é¢çš„ä»£ç ä¸­çš„authorå°±æ˜¯è¿”å›žçš„â€œæ‰©å±•å®žä¾‹æž„é€ å™¨â€ var author = Vue.extend({ template: &quot;&lt;p&gt;&lt;a :href=&#39;url&#39;&gt;{{author}}&lt;/a&gt;&lt;/p&gt;&quot;, data : function() { return { author : &#39;vamous&#39;, url : &#39;http://blog.csdn.net/Dear_Mr/article/details/72614370&#39; } } }); ###å¯¹åº”çš„htmlå¦‚ä¸‹ï¼š &lt;author&gt;&lt;/author&gt; æ­¤æ—¶çš„é¡µé¢å¿…ç„¶æ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæžœçš„ï¼Œå› ä¸ºæ‰©å±•å®žä¾‹æž„é€ å™¨è¿˜éœ€è¦æŒ‚è½½ï¼Œå¦‚ä¸‹new author().$mount(&#39;author&#39;); ä½¿ç”¨propsDatavar author = Vue.extend({ template: &quot;&lt;p&gt;&lt;a :href=&#39;url&#39;&gt;{{author}} &amp; {{name}}&lt;/a&gt;&lt;/p&gt;&quot;, data : function() { return { author : &#39;vamous&#39;, url : &#39;http://blog.csdn.net/Dear_Mr/article/details/72614370&#39; } }, props : [&#39;name&#39;] }); new author({propsData: {name : &#39;dear_mr&#39;}}).$mount(&#39;#author&#39;); å¯ä»¥åˆ©ç”¨propsDataä¼ é€’å‚æ•°æŒ‚è½½åœ¨æ™®é€šæ ‡ç­¾ä¸Š è¿”å›žçš„æ‰©å±•å®žä¾‹æž„é€ å™¨çš„æ–¹å¼å’Œä¸Šé¢è¿˜æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯htmlé‡Œä¸å†æ˜¯è‡ªå®šä¹‰æ ‡ç­¾ï¼Œè€Œæ˜¯ä¸€ä¸ªæ™®é€šæ ‡ç­¾ï¼Œæ¯”å¦‚div &lt;div id=&quot;author&quot;&gt;&lt;/div&gt; new author().$mount(&#39;author&#39;); å…¶å®žå¯¹äºŽåŒä¸€ä¸ªæ‰©å±•æž„é€ å™¨è€Œè¨€ï¼Œå®ƒçš„æ¯ä¸€ä¸ªå®žä¾‹å…¶å®žæ˜¯å¯ä»¥æŒ‚è½½åˆ°ä¸åŒçš„æ ‡ç­¾ä¸Šçš„ï¼Œæ¯”å¦‚æˆ‘å¯ä»¥è¿™æ · new author().$mount(&#39;#author&#39;); new author().$mount(&#39;author&#39;); è¿™ä¸¤ä¸ªæ ‡ç­¾çš„å†…å®¹ä¼šä¸€åŒæ˜¾ç¤ºï¼Œç»“æžœä¸€æ · æ€»ç»“ Vueã€‚extend(object)//æ‰©å±•çš„å­ç±»éœ€è¦Vueå®žä¾‹åŒ–æ‰èƒ½ä½¿ç”¨ï¼Œå¦‚æžœéœ€è¦ä¼ é€’propsï¼Œéœ€è¦åœ¨newçš„æ—¶å€™é€šè¿‡propsDataä¼ é€’ $mount()æ‰‹åŠ¨æ‰§è¡Œç»„ä»¶çš„æ¸²æŸ“ï¼Œå¦‚æžœä¼ é€’ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œå°±ä¼šæ¸²æŸ“é€‰æ‹©å™¨å†…éƒ¨ï¼Œå¦‚æžœä¼ é€’åªä¼šç”Ÿæˆdomä¸ä¼šæ‰§è¡Œæ¸²æŸ“ï¼Œéœ€è¦æ‰‹åŠ¨å°†elæŒ‚è½½åˆ°é¡µé¢ $destroy()æ‰‹åŠ¨é”€æ¯ç»„ä»¶ï¼Œä½†æ˜¯å¦‚æžœå°†domç§»åŠ¨å°†ä¸ä¼šé”€æ¯domï¼Œéœ€è¦æ‰‹åŠ¨é”€æ¯ $nextTick()ç”Ÿå‘½å‘¨æœŸupdatedçš„æ›¿ä»£æ–¹æ¡ˆï¼Œå› ä¸ºåœ¨updatedä¸­åªæ˜¯å¾—çŸ¥ç»„ä»¶éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œä½†å¹¶ä¸çŸ¥é“æ˜¯å“ªä¸ªå±žæ€§æ”¹å˜äº†ï¼Œè€ŒnextTick()å½“å±žæ€§æ”¹å˜å¹¶ä¸”æ¸²æŸ“å®Œæˆçš„å›žè°ƒï¼Œç±»ä¼¼äºŽreactä¸­çš„setStateçš„å›žè°ƒå‡½æ•° é€‚ç”¨åœºæ™¯ ä½¿ç”¨æ‰©å±•å­ç±»æ–¹å¼åˆ›å»ºçš„ç»„ä»¶é€‚åˆå¼€å‘ä½¿ç”¨apiçš„æ–¹æ³•è°ƒç”¨ ä»¥ä¸Šå°±æ˜¯å¯¹Vue.extendæž„é€ å™¨çš„å®žä¾‹è¯¦è§£]]></content>
      <tags>
        <tag>vue</tag>
        <tag>vueæž„é€ å™¨</tag>
        <tag>vue extend</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽVueå…¨å±€çš„æ‰©å±•]]></title>
    <url>%2F2019%2F01%2F28%2Fvue%20block%2F</url>
    <content type="text"><![CDATA[å…³äºŽVueå…¨å±€çš„æ‰©å±• Vueçš„å…¨å±€ç»„ä»¶æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨ç»„ä»¶ï¼Œéœ€è¦ç»è¿‡å¼•å…¥ï¼Œç»‘å®šä¸¤ä¸ªæ­¥éª¤ã€‚é‚£ä¹ˆï¼Œå¦‚æžœæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›å…¨å±€ç»„ä»¶æˆ–è€…ç¬¬ä¸‰æ–¹çš„ç»„ä»¶åº“æ€Žä¹ˆåŠžå‘¢ï¼Ÿåœ¨Vueå®˜æ–¹æ–‡æ¡£ä¸­ä»‹ç»çš„æ˜¯ä½¿ç”¨Vue.component(tagName, options)æ¥åˆ›å»ºä¸€ä¸ªå…¨å±€ç»„ä»¶ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æ˜¯ä¸Žæ ¹å®žä¾‹å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¦‚æžœè¦åŒæ—¶æ³¨å†Œå¤šä¸ªå…¨å±€ç»„ä»¶ï¼Œå°±ä¼šä½¿æ ¹å®žä¾‹æ–‡ä»¶è¿‡é‡ï¼Œå› æ­¤ä½¿ç”¨Vue.use()æ¥â€œå®‰è£…â€å…¨å±€ç»„ä»¶ï¼Œå°±æ˜¾å¾—æ›´è½»ä¸€äº›ã€‚æ–¹æ³•ï¼š 1.æ–°å»ºä¸€ä¸ªpluginsæ–‡ä»¶å¤¹ 2.åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ”¾ç½®å…¨å±€ç»„ä»¶çš„æ–‡ä»¶components.js 3.åœ¨components.jsæ–‡ä»¶ä¸­å¼•å…¥æ‰€æœ‰è¦æ³¨å†Œçš„å…¨å±€ç»„ä»¶ 4.åœ¨app.jsæ ¹å®žä¾‹æ–‡ä»¶ä¸­ï¼Œå¼•å…¥components.js ä»¥loginç»„ä»¶ä¸ºä¾‹login.jsimport Login from &#39;../components/eg.vue&#39;; export default (Vue)=&gt;{ Vue.component(&quot;Login&quot;,Login); } app.jsimport components from &#39;./plugins/components.js&#39;; Vue.use(components); ç»è¿‡ä¸Šè¿°ç¼–å†™åŽï¼Œå°±æ³¨å†Œäº†å…¨å±€ç»„ä»¶Loginã€‚Vueå…¨å±€æŒ‡ä»¤å¯¹äºŽå…¨å±€æŒ‡ä»¤çš„æ³¨å†Œï¼Œå®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„æ–¹æ³•æ˜¯ä½¿ç”¨Vue.directive()ï¼Œä½ç½®åŒæ ·æ˜¯åœ¨æ ¹å®žä¾‹æ–‡ä»¶ä¸‹ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æžœå¤šä¸ªå…¨å±€æŒ‡ä»¤ï¼Œå†åŠ ä¸Šå¤šä¸ªå…¨å±€ç»„ä»¶ï¼Œé‚£ä¹ˆapp.jsæ–‡ä»¶å°†å˜å¾—è‡ƒè‚¿æ— æ¯”ã€‚å› æ­¤ï¼ŒåŒä¸Šé¢çš„æ³¨å†Œå…¨å±€ç»„ä»¶æ–¹æ³•ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ä½¿ç”¨Vue.use()æ¥â€œå®‰è£…â€å…¨å±€æŒ‡ä»¤ã€‚æ–¹æ³•ï¼š 1.æ–°å»ºä¸€ä¸ªpluginsæ–‡ä»¶å¤¹ 2.åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ”¾ç½®å…¨å±€ç»„ä»¶çš„æ–‡ä»¶directives.js 3.åœ¨directives.jsæ–‡ä»¶ä¸­å¼•å…¥æ‰€æœ‰è¦æ³¨å†Œçš„å…¨å±€æŒ‡ä»¤ 4.åœ¨app.jsæ ¹å®žä¾‹æ–‡ä»¶ä¸­ï¼Œå¼•å…¥directives.js ä»¥v-focusæŒ‡ä»¤ä¸ºä¾‹ï¼šdirectives.js: export default (Vue)=&gt;{ Vue.directive(&quot;focus&quot;,{ inserted:function(el){ el.focus(); } }) } app.jsimport directives from &quot;./plugins/directives.js&quot; Vue.use(directives); è¿™æ ·å°±æ³¨å†Œäº†å…¨å±€æŒ‡ä»¤æ‰©å±•Vueç±»æ–¹æ³•å¾ˆç®€å•å†æ­¤ä¸åšæ›´å¤šæè¿°â€¦..ç›´æŽ¥çœ‹ä»£ç ã€‚ã€‹ ã€‚Vue.coke = function () { console.log(&quot;æ‰©å±•äº†cokeç±»æ–¹æ³•&quot;) } ç®€å•å§ï¼ï¼ï¼ï¼ï¼æ‰©å±•VueåŽŸåž‹ï¼Œåœ¨vueç»„ä»¶ä¸­å°±å¯ä»¥é€šè¿‡thisæ¥è®¿é—®åºŸè¯ä¸å¤šè¯´ä¸Šä»£ç Vue.prototype.$api = function () { console.log(&quot;æ‰©å±•äº†$apiæ–¹æ³•&quot;) } â€¦â€¦â€¦â€¦â€¦â€¦.Vueè¿‡æ»¤å™¨Vue.jså…è®¸è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œå¯è¢«ç”¨äºŽä¸€äº›å¸¸è§çš„æ–‡æœ¬æ ¼å¼åŒ–ã€‚è¿‡æ»¤å™¨å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼šåŒèŠ±æ‹¬å·æ’å€¼å’Œv-bindè¡¨è¾¾å¼ã€‚è¿‡æ»¤å™¨åº”è¯¥è¢«æ·»åŠ åœ¨JavaScriptè¡¨è¾¾å¼çš„å°¾éƒ¨ï¼Œç”±â€œç®¡é“â€ç¬¦å·æŒ‡ç¤ºï¼š|&lt;!-- åœ¨åŒèŠ±æ‹¬å·ä¸­ --&gt; {{ message | capitalize }} &lt;!-- åœ¨ `v-bind` ä¸­ --&gt; &lt;div v-bind:id=&quot;rawId | formatId&quot;&gt;&lt;/div&gt; å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶çš„é€‰é¡¹ä¸­å®šä¹‰æœ¬åœ°çš„è¿‡æ»¤å™¨ï¼šä»¥æˆªå–æ‰‹æœºä¸ºä¾‹filters: { phones (num) { let phoneStr = num.toString() let res = /(\d{1,})(\d{4})/ while (reg.test(phoneStr.replace)) { phoneStr = phoneStr.replace(reg, &#39;$1-$2&#39;) } return phoneStr } } //è°ƒç”¨ {{17603446842 | phones}} //è¿”å›žç»“æžœ 176-0344-6842 å…¨å±€è¿‡æ»¤å™¨Vue.filter(&quot;phones&quot;,function(num){ let phoneStr = num.toString() let res = /(\d{1,})(\d{4})/ while (reg.test(phoneStr.replace)) { phoneStr = phoneStr.replace(reg, &#39;$1-$2&#39;) } return phoneStr }) æ¥å§ï¼Œä¸¾ä¸€ä¸ªå®žç”¨ä¸€ç‚¹çš„ä¾‹å­ä¸Šä»£ç var app5 = new Vue({ el: &#39;#app5&#39;, data: { shoppingList: [ &quot;Milk&quot;, &quot;Donuts&quot;, &quot;Cookies&quot;, &quot;Chocolate&quot;, &quot;Peanut Butter&quot;, &quot;Pepto Bismol&quot;, &quot;Pepto Bismol (Chocolate flavor)&quot;, &quot;Pepto Bismol (Cookie flavor)&quot; ], key: &quot;&quot; }, computed: { filterShoppingList: function () { // `this` points to the vm instance var key = this.key; var shoppingList = this.shoppingList; //åœ¨ä½¿ç”¨filteræ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‰é¢è°ƒç”¨çš„æ˜¯éœ€è¦ä½¿ç”¨filterçš„æ•°ç»„ï¼Œè€Œç»™filterå‡½æ•°ä¼ å…¥çš„æ˜¯æ•°ç»„ä¸­çš„æ¯ä¸ªitemï¼Œä¹Ÿå°±æ˜¯è¯´filteré‡Œé¢çš„å‡½æ•°ï¼Œæ˜¯æ¯ä¸ªitemè¦åŽ»åšçš„ï¼Œå¹¶å°†æ¯ä¸ªç»“æžœè¿”å›žã€‚ return shoppingList.filter(function (item) { return item.toLowerCase().indexOf(key.toLowerCase()) != -1 });; } } }) template &lt;ul&gt; Filter Key &lt;input type=&quot;text&quot; v-model=&quot;key&quot;&gt; &lt;li v-for=&quot;item in filterShoppingList&quot;&gt; {{ item }} &lt;/li&gt; &lt;/ul&gt; æœ€ç»ˆæ•ˆæžœå®žçŽ°äº†æ ¹æ®å…³é”®å­—æ¥è¿‡æ»¤åˆ—è¡¨çš„åŠŸèƒ½ã€‚]]></content>
      <tags>
        <tag>vue</tag>
        <tag>vueå…¨å±€ç»„ä»¶</tag>
        <tag>vueæŒ‡ä»¤</tag>
        <tag>vueè¿‡æ»¤å™¨</tag>
        <tag>directive</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue transfromå±žæ€§]]></title>
    <url>%2F2019%2F01%2F27%2Ftransition%2F</url>
    <content type="text"><![CDATA[Vue transfromå±žæ€§vueä¸­çš„åŠ¨ç”»å¯ä»¥ä½¿ç”¨transfromç»„ä»¶å®Œæˆtransfromç»„ä»¶æä¾›ä¸¤ä¸ªè¿‡æ¸¡çŠ¶æ€ è¿›å…¥ enter ç¦»å¼€ leave æ¯ä¸ªçŠ¶æ€æœ‰ä¸‰ä¸ªæ­¥éª¤ã€è‡ªåŠ¨æ·»åŠ ç±»å vä»£è¡¨çš„æ˜¯transfromç»„ä»¶ä¸Šçš„nameå±žæ€§æŒ‡å®šçš„å€¼ã€‘ v-enter v-enter-active v-enter-to v-leave v-leave-active v-leave-to é€šè¿‡ç»“åˆcssè¿‡æ¸¡åŠ¨ç”»å’Œå…³é”®å¸§åŠ¨ç”»å¯ä»¥å®žçŽ°åˆ‡æ¢åŠ¨ç”» åŠ¨ç”»è§¦å‘åœºæ™¯ è·Ÿç»„ä»¶åˆå§‹åŒ–æ¸²æŸ“ v-showï¼Œv-ifï¼ŒcomponentåŠ¨æ€ç»„ä»¶åˆ‡æ¢çš„æ—¶å€™ router-view è·¯ç”±åˆ‡æ¢çš„æ—¶å€™ transfrom ç»„ä»¶è¿˜å¯ä»¥é€šè¿‡å±žæ€§åŽ»æ”¹å˜ä¸åŒçŠ¶æ€è‡ªåŠ¨æ·»åŠ çš„classç±»å enter-active-class=â€animated slideInDownâ€ leave-active-class=â€animated bounceOutDownâ€ è¿™ç§æ–¹å¼é€‚åˆé…åˆç¬¬ä¸‰æ–¹åŠ¨ç”»åº“å®žçŽ°åŠ¨ç”»&lt;transition v-on:before-enter=&quot;berforeEnter&quot; //å¯ä»¥åšä¸€äº›åˆå§‹åŒ–æ ·å¼è®¾ç½® v-on:enter=&quot;enter&quot; //æ‰§è¡Œjsæ“ä½œdomå®Œæˆçš„åŠ¨ç”»æ•ˆæžœ v-on:after-enter=&quot;afterEnter&quot; //åŠ¨ç”»æ‰§è¡Œç»“æŸï¼ˆä¹Ÿå°±æ˜¯åœ¨enterä¸­è°ƒç”¨äº†doneå‡½æ•°ï¼‰ v-on:enter-cancelled=&quot;enterCancelled&quot; åŠ¨ç”»è¿˜æ²¡æœ‰ç»“æŸï¼Œå°±æ‰§è¡Œä¸‹ä¸€æ¬¡åŠ¨ç”»äº†ï¼Œè¿™æ—¶å€™ä¸ä¼šè§¦å‘åŠ¨ç”»ç»“æŸï¼Œè€Œæ˜¯è§¦å‘è¿™ä¸ªæ—¶é—´ï¼ˆå–æ¶ˆï¼‰ v-on:before-leave=&quot;beforeLeave&quot; v-on:leave=&quot;leave&quot; v-on:after-leave=&quot;afterLeave&quot; v-on:leave-cancelled=&quot;leaveCancelled&quot; &gt; &lt;!--...--&gt; &lt;/transition&gt;]]></content>
      <tags>
        <tag>vue</tag>
        <tag>transfrom</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueä¸­çš„Domæ“ä½œ]]></title>
    <url>%2F2019%2F01%2F27%2Fvue-dom%2F</url>
    <content type="text"><![CDATA[vueä¸­çš„Domæ“ä½œåœ¨vueï¼Œreactï¼Œã€‚ã€‚ã€‚ã€‚ä»¥æ•°æ®é©±åŠ¨è§†å›¾çš„æ¡†æž¶ï¼Œéƒ½æ˜¯é€šè¿‡æ•°æ®æ›´æ–°è§†å›¾ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨domæ“ä½œï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›ç‰¹å®šçš„æ—¶å€™éœ€è¦ç”¨åˆ°domæ“ä½œdomæ“ä½œçš„æ–¹æ³• transition:ç»„ä»¶ä¸­çš„é’©å­å‡½æ•°å¯ä»¥æŽ¥å—ä¸€ä¸ªelå±žæ€§ï¼Œä½œç”¨åŠ¨ç”»çš„domï¼Œå¯ä»¥å¤šdomæ·»åŠ å®žçŽ°åŠ¨ç”»æ•ˆæžœ refï¼šrefå¯ä»¥ä½œç”¨åœ¨domå…ƒç´ å’Œç»„ä»¶å…ƒç´ ä¸Šï¼Œä½œç”¨åœ¨domå…ƒç´ ä¸Šé€šè¿‡refsèŽ·å–åˆ°å°±æ˜¯domèŠ‚ç‚¹ï¼Œä½œç”¨åœ¨ç»„ä»¶å…ƒç´ ä¸ŠèŽ·å–åˆ°ç»„ä»¶å®žä¾‹ åœ¨mountedç”Ÿå‘½å‘¨æœŸä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨documentçš„domçš„æ“ä½œæ–¹æ³•ï¼Œæ¯”å¦‚æ·»åŠ ä¸€äº›æ»šåŠ¨äº‹ä»¶â€¦ #elï¼šå¯ä»¥èŽ·å–ç»„ä»¶çš„æ ¹èŠ‚ç‚¹å…ƒç´  ï¿¥mount()ï¼šå¯ä»¥æ‰‹åŠ¨æ¸²æŸ“ç»„ä»¶ï¼Œæˆä¸ºçœŸå®žçš„domèŠ‚ç‚¹ äº‹ä»¶ä¸­çš„e.targetå¯ä»¥èŽ·å–éƒ½ç»‘å®šäº‹ä»¶çš„domï¼Œä½†ä¸å‡†ç¡®ï¼Œå› ä¸ºèŽ·å–åˆ°çš„æ˜¯ç‚¹å‡»æœ€å†…å±‚çš„å…ƒç´ ï¼Œå½“ç„¶å¦‚æžœä½œç”¨åœ¨è¡¨å•å…ƒç´ å°±æ— æ‰€è°“ æŒ‡ä»¤ä¹Ÿå¯ä»¥æ“ä½œdomçš„]]></content>
      <tags>
        <tag>vue</tag>
        <tag>dom</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»£ç æ•´æ´ä¹‹é“ï¼šç¨‹åºå‘˜çš„èŒä¸šç´ å…»]]></title>
    <url>%2F2019%2F01%2F25%2Findex%2F</url>
    <content type="text"><![CDATA[ä»£ç æ•´æ´ä¹‹é“ï¼šç¨‹åºå‘˜çš„èŒä¸šç´ å…» æˆ‘ä»¬å¹¶éžæ˜¯å› ä¸ºå–œæ¬¢å’Œå…¶ä»–äººåœ¨ä¸€èµ·å·¥ä½œæ‰é€‰æ‹©åšç¨‹åºå‘˜çš„ã€‚æˆ‘ä»¬éƒ½è®¤ä¸ºäººé™…å…³ç³»éš¾ä»¥åº”ä»˜è€Œä¸”æ¯«æ— è§„å¾‹ã€‚ç¼–ç¨‹ç”¨çš„æœºå™¨åˆ™æ•´æ´ï¼Œè¡Œä¸ºä¹Ÿå¯é¢„è§ã€‚å¦‚æžœå¯ä»¥ä¸€ä¸ªäººå¾…åœ¨æˆ¿é—´é‡Œæ•°ä¸ªå°æ—¶æ²‰æµ¸åœ¨ä¸€äº›çœŸæ­£æœ‰è¶£çš„é—®é¢˜ä¸Šï¼Œé‚£å°†ä¼šæ˜¯æœ€å¼€å¿ƒçš„æ—¶å…‰ã€‚ ä»¥ä¸‹å…¨éƒ¨å†…å®¹å‡ä¸ºæœ¬äºº2019å¹´è¯»ä¹¦è¿‡ç¨‹ä¸­æ‰€å–œæ¬¢æˆ–è€…æœ‰æ„Ÿè§¦çš„ç‰‡æ®µçš„æ‘˜å½•ï¼Œæ¥è‡ªäºŽä¸åŒçš„ä¹¦ç›®ï¼Œæ¯æœ¬ä¹¦æ ‡æ³¨äº†ä¹¦åï¼Œä¹¦ç±æŽ’åºä»…ä»…æ˜¯é˜…è¯»é¡ºåºï¼ˆå€’æ—¶é—´é¡ºåºï¼‰ï¼Œç‰ˆæƒå½’åŽŸä½œè€…æ‰€æœ‰ï¼Œè¿™é‡Œä»…ä½œæ‘˜å½•æ•´ç†ã€‚ é˜¿åŠ èŽŽÂ·å…‹é‡Œæ–¯è’‚çš„çœŸå®žäººç”Ÿ ä½ æ— æ³•åˆ›ä½œå‘½è¿ï¼Œå‘½è¿ä¼šä¸è¯·è‡ªæ¥ï¼Œå°±æ˜¯è¿™ä¹ˆå›žäº‹ã€‚ äººäººéƒ½åšæ¢¦ï¼Œä½†ä»–ä»¬çš„æ¢¦ä¸ä¸€æ ·ã€‚ é‚£äº›å¤œé‡Œåœ¨è„å…®å…®çš„è„‘è¢‹ç“œé‡Œåšæ¢¦çš„äººï¼Œ ç™½å¤©ä¸€è§‰é†’æ¥å‘çŽ°ä¸è¿‡æ˜¯è™šå¹»ä¸€åœºï¼› è¦å°å¿ƒé‚£äº›åœ¨ç™½å¤©åšæ¢¦çš„äººï¼Œ å› ä¸ºä»–ä»¬ä¼šçå¤§çœ¼ç›åšæ¢¦ï¼Œ ç”¨è¡ŒåŠ¨è®©æ¢¦æƒ³å˜æˆçŽ°å®žã€‚ å¤©çœŸæ˜¯ä¸€ç§ç½ªè¿‡ï¼Œå†·æ¼ æ˜¯ä¸€ç§çˆ±ã€‚å¾‹å¸ˆä»¥ä¸ºè‡ªå·±æ“çºµç€æ¸¸æˆï¼Œä½†ä¸è¿‡æ˜¯ä»–æƒ³åŠ å®³çš„äººæ‰‹ä¸­çš„çŽ©å¶ã€‚ ç‰§ç¾Šå°‘å¹´å¥‡å¹»ä¹‹æ—… ä¸ç®¡æ˜¯ç‰§ç¾Šäººã€æµ·å‘˜ï¼Œè¿˜æ˜¯æŽ¨é”€å‘˜ï¼Œæ€»ä¼šæœ‰ä¸€ä¸ªåœ°æ–¹ä»¤ä»–ä»¬é­‚ç‰µæ¢¦è¦ï¼Œé‚£é‡Œä¼šæœ‰ä¸€ä¸ªäººè®©ä»–ä»¬å¿˜è®°è‡ªç”±è‡ªåœ¨å‘¨æ¸¸ä¸–ç•Œçš„å¿«ä¹ã€‚ å½“æ€»æ˜¯é¢å¯¹åŒæ ·çš„é¢å­”ï¼Œåƒåœ¨ç¥žå­¦é™¢é‡Œé‚£æ ·ï¼Œå°±ä¼šæ¸æ¸è®©é‚£äº›äººæˆä¸ºç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ã€‚è€Œç”±äºŽä»–ä»¬æ˜¯ä½ ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œå½“ç„¶å°±æƒ³æ”¹å˜ä½ çš„ç”Ÿæ´»ã€‚å¦‚æžœä½ ä¸åƒä»–ä»¬æ‰€æœŸæœ›çš„é‚£æ ·ï¼Œä»–ä»¬å°±ä¼šä¸é«˜å…´ã€‚å› ä¸ºï¼Œå¯¹äºŽè¯¥æ€Žæ ·ç”Ÿæ´»ï¼Œæ‰€æœ‰äººéƒ½æœ‰å›ºå®šçš„è§‚å¿µã€‚ä½†æ˜¯ä»–ä»¬å¯¹äºŽè‡ªå·±è¯¥æ€Žæ ·ç”Ÿæ´»å´ä¸€å¤´é›¾æ°´ï¼Œå°±åƒé‚£ä¸ªç»™äººè§£æ¢¦ã€å´ä¸ä¼šæŠŠæ¢¦å˜æˆçŽ°å®žçš„è€å¦‡äººã€‚ ç”·å­©å¿ƒæƒ³ï¼Œäººæ€»ä¼šè¯´ä¸€äº›åˆé’»å¤æ€ªçš„äº‹æƒ…ã€‚æœ‰çš„æ—¶å€™ï¼Œæœ€å¥½ä¸Žç¾Šç¾¤ä¸ºä¼´ï¼Œç¾Šç¾¤ä¸å£°ä¸å“ï¼Œåªé¡¾åƒè‰å’Œæ°´æ™¶ã€‚ä¸Žä¹¦ä¸ºä¼´ä¹Ÿè¡Œï¼Œä¹¦æ€»æ˜¯åœ¨äººä»¬æœ€æƒ³å¬æ•…äº‹çš„æ—¶å€™ï¼Œå‘Šè¯‰ä½ ä¸€äº›æ„æƒ³ä¸åˆ°çš„äº‹æƒ…ã€‚ä½†æ˜¯ï¼Œå½“äººä¸Žäººäº¤è°ˆçš„æ—¶å€™ï¼Œæœ‰äº›äººè¯´çš„è¯ä¼šè®©æˆ‘ä»¬æ— æ‰€é€‚ä»Žï¼Œä¸çŸ¥è¯¥æ€Žæ ·æŠŠè°ˆè¯ç»§ç»­ä¸‹åŽ»ã€‚ã€Œå¤©å‘½å°±æ˜¯ä½ ä¸€ç›´æœŸæœ›åŽ»åšçš„äº‹æƒ…ã€‚äººä¸€æ—¦æ­¥å…¥é’å¹´æ—¶æœŸï¼Œå°±çŸ¥é“ä»€ä¹ˆæ˜¯è‡ªå·±çš„å¤©å‘½äº†ã€‚åœ¨äººç”Ÿçš„è¿™ä¸ªé˜¶æ®µï¼Œä¸€åˆ‡éƒ½é‚£ä¹ˆæ˜Žæœ—ï¼Œæ²¡æœ‰åšä¸åˆ°çš„äº‹æƒ…ã€‚äººä»¬æ•¢äºŽæ¢¦æƒ³ï¼ŒæœŸå¾…å®Œæˆä»–ä»¬ä¸€ç”Ÿä¸­å–œæ¬¢åšçš„ä¸€åˆ‡äº‹æƒ…ã€‚ä½†æ˜¯ï¼Œéšç€æ—¶å…‰çš„æµé€ï¼Œä¸€è‚¡ç¥žç§˜çš„åŠ›é‡å¼€å§‹ä¼å›¾è¯æ˜Žï¼Œæ ¹æœ¬ä¸å¯èƒ½å®žçŽ°å¤©å‘½ã€‚ã€å®žé™…ä¸Šï¼Œæ¯å¤©éƒ½ä¸€æˆä¸å˜ï¼Œæ˜¯å› ä¸ºäººä»¬å·²ç»å¤±åŽ»äº†å¯¹ç¾Žå¥½äº‹ç‰©çš„æ•é”æ„Ÿè§‰ã€‚æˆ‘å’Œåˆ«äººæ²¡ä»€ä¹ˆä¸¤æ ·ï¼šæ€»æ˜¯ä»¥ç†æƒ³çš„çœ¼å…‰çœ‹å¾…ä¸–ç•Œï¼Œä»¥ä¸ºäº‹æƒ…ä¼šæŒ‰ç†æƒ³çš„æ–¹å¼å‘å±•ï¼Œè€Œä¸ä¼šç”¨çŽ°å®žçš„çœ¼å…‰çœ‹å¾…ä¸–ç•Œï¼Œçœ‹ä¸åˆ°äº‹æƒ…çœŸç›¸ã€‚ã€Œå› ä¸ºéº¦åŠ æ˜¯æ”¯æ’‘æˆ‘æ´»ä¸‹åŽ»çš„å¸Œæœ›ï¼Œä½¿æˆ‘èƒ½å¤Ÿå¿å—å¹³åº¸çš„å²æœˆï¼Œå¿å—æ©±æŸœé‡Œé‚£äº›ä¸ä¼šè¯´è¯çš„æ°´æ™¶ï¼Œå¿å—é‚£é—´ç³Ÿç³•é€é¡¶çš„é¤åŽ…é‡Œçš„åˆé¥­å’Œæ™šé¥­ã€‚æˆ‘å®³æ€•å®žçŽ°æˆ‘çš„æ¢¦æƒ³ï¼Œå®žçŽ°ä¹‹åŽï¼Œæˆ‘å°±æ²¡æœ‰æ´»ä¸‹åŽ»çš„åŠ¨åŠ›äº†ã€‚ã€ã€Œä½ çš„æ¢¦æƒ³æ˜¯ç¾Šç¾¤å’Œé‡‘å­—å¡”ã€‚ä½ ä¸Žæˆ‘ä¸åŒï¼Œå› ä¸ºä½ å¸Œæœ›å®žçŽ°ä½ çš„æ¢¦æƒ³ï¼Œè€Œæˆ‘åªæ˜¯æƒ³ä¿æœ‰åŽ»éº¦åŠ çš„æ¢¦æƒ³ã€‚æˆ‘æ›¾æ— æ•°æ¬¡åœ°æƒ³è±¡è¿‡ï¼Œå¦‚ä½•ç©¿è¿‡æ²™æ¼ ï¼Œåˆ°è¾¾å®‰æ”¾ç€åœ£çŸ³çš„å¹¿åœºï¼Œåœ¨è§¦æ‘¸åœ£çŸ³ä¹‹å‰ï¼Œå›´ç€å®ƒç»•è¡Œä¸ƒåœˆã€‚æˆ‘æ›¾æƒ³è±¡è¿‡æœ‰äº›äººç«™åœ¨æˆ‘èº«æ—ï¼Œæœ‰äº›äººç«™åœ¨æˆ‘å‰é¢ï¼Œè¿˜æœ‰æˆ‘ä»¬çš„è°ˆè¯å’Œå…±åŒçš„ç¥ˆç¥·ã€‚å¯æ˜¯ï¼Œæˆ‘æ‹…å¿ƒä¼šå¤§å¤±æ‰€æœ›ï¼Œæ‰€ä»¥æˆ‘å®æ„¿åªä¿ç•™ä¸€ä¸ªæ¢¦æƒ³ã€‚ã€ã€Œä½ ä¸€åº¦æˆä¸ºæˆ‘çš„ç¦éŸ³ã€‚è€Œä»Šå¤©æˆ‘æ˜Žç™½äº†ä¸€ä¸ªé“ç†ï¼Œä»»ä½•ä¸è¢«æŽ¥çº³çš„ç¦éŸ³ï¼Œéƒ½ä¼šå˜æˆè¯…å’’ã€‚æˆ‘å¯¹ç”Ÿæ´»æ²¡æœ‰æ›´å¤šçš„è¦æ±‚ã€‚è€Œä½ æ­£è¿«ä½¿æˆ‘ç›¯ç€ä»Žæœªè§è¿‡çš„è´¢å¯Œå’Œå‰æ™¯ã€‚çŽ°åœ¨ï¼Œæˆ‘çŸ¥é“äº†è¿™äº›è´¢å¯Œå’Œå‰æ™¯ï¼Œä¹ŸçŸ¥é“äº†æˆ‘å®Œå…¨æœ‰å¯èƒ½æ‹¥æœ‰å®ƒä»¬ã€‚å¯æ˜¯æˆ‘çš„æ„Ÿè§‰å´æ¯”ä»¥å‰ç³Ÿç³•äº†ã€‚å› ä¸ºæˆ‘çŸ¥é“æˆ‘è‡ªå·±å¯ä»¥æ‹¥æœ‰è¿™ä¸€åˆ‡ï¼Œå´ä¸æ„¿æ‹¥æœ‰å®ƒä»¬ã€‚ã€åˆ«çš„äº‹æƒ…ä¸å¥½è¯´ï¼Œä½†åœ¨è¿™ä»¶äº‹ä¸Šï¼Œç”·å­©åšä¿¡ä¸ç–‘ï¼Œå°½ç®¡ä»–çš„çˆ¶æ¯ä»¥åŠå…ˆè¾ˆéƒ½è¯´è¿‡ï¼Œå¿…é¡»åœ¨æ‹çˆ±ã€è®¢å©šã€ç›¸äº’äº†è§£å’Œæœ‰äº†é’±ä¹‹åŽæ‰å¯ä»¥ç»“å©šã€‚è¯´è¿™è¯çš„äººå¤§æ¦‚ä»Žæ¥ä¸äº†è§£å®‡å®™çš„è¯­è¨€ï¼Œå› ä¸ºå¦‚æžœæŽŒæ¡äº†è¿™ç§è¯­è¨€ï¼Œå¾ˆå®¹æ˜“å°±èƒ½ç†è§£ï¼Œä¸–ä¸Šæ€»æœ‰äººåœ¨ç­‰å¾…ç€å¦å¤–ä¸€ä¸ªäººï¼Œæ— è®ºæ˜¯åœ¨å¤§æ²™æ¼ è¿˜æ˜¯åœ¨å¤§åŸŽå¸‚ã€‚å½“è¿™ä¸¤ä¸ªäººæœ€ç»ˆç›¸é‡ï¼Œå››ç›®ç›¸å¯¹çš„æ—¶å€™ï¼Œè¿‡åŽ»çš„ä¸€åˆ‡å’Œå°†æ¥çš„ä¸€åˆ‡å…¨éƒ½å˜å¾—æ— è¶³è½»é‡äº†ï¼Œåªæœ‰çœ¼å‰çš„è¿™ä¸€åˆ»æœ€é‡è¦ã€‚å› ä¸ºç”Ÿæ´»æ°¸è¿œæ˜¯ï¼Œä¹Ÿä»…ä»…æ˜¯æˆ‘ä»¬çŽ°åœ¨ç»åŽ†çš„è¿™ä¸€åˆ»ã€‚è¿™æ­£æ˜¯éœ€è¦çˆ±å‘æŒ¥åŠ›é‡çš„åœ°æ–¹ï¼Œå› ä¸ºå½“æˆ‘ä»¬æœ‰çˆ±çš„æ—¶å€™ï¼Œæ€»æ˜¯å¸Œæœ›è‡ªå·±å˜å¾—æ›´å¥½ã€‚ ä¸”å¬é£ŽåŸ è¯´åˆ°åº•ï¼Œå†™æ–‡ç« å¹¶éžè‡ªæˆ‘è¯Šæ²»çš„æ‰‹æ®µï¼Œå……å…¶é‡ä¸è¿‡æ˜¯è‡ªæˆ‘ç–—å…»çš„ä¸€ç§å°å°çš„å°è¯•ã€‚é—®é¢˜æ˜¯ï¼Œç›´è¨€ä¸è®³æ˜¯ä»¶æžä¸ºå›°éš¾çš„äº‹ã€‚ç”šè‡³è¶Šæ˜¯æƒ³ç›´è¨€ä¸è®³ï¼Œç›´çŽ‡çš„è¨€è¯­è¶Šæ˜¯éå…¥é»‘æš—çš„æ·±å¤„ã€‚æ­»åŽ»çš„ç¥–æ¯å¸¸è¯´ã€Œå¿ƒæƒ…æŠ‘éƒçš„äººåªèƒ½åšæŠ‘éƒçš„æ¢¦ï¼Œè¦æ˜¯æ›´åŠ æŠ‘éƒçš„ï¼Œè¿žæ¢¦éƒ½ä¸åšçš„ã€‚ã€å¦‚æžœä½ å¿—åœ¨è¿½æ±‚è‰ºæœ¯è¿½æ±‚æ–‡å­¦ï¼Œé‚£ä¹ˆåŽ»è¯»ä¸€è¯»å¸Œè…Šäººå†™çš„ä¸œè¥¿å¥½äº†ã€‚å› ä¸ºè¦è¯žç”ŸçœŸæ­£çš„è‰ºæœ¯ï¼Œå¥´éš¶åˆ¶åº¦æ˜¯å¿…ä¸å¯å°‘çš„ã€‚è€Œå¤å¸Œè…Šäººä¾¿æ˜¯è¿™æ ·ï¼šå¥´éš¶ä»¬è€•ç§ã€çƒ§é¥­ã€åˆ’èˆ¹ï¼Œè€Œå¸‚æ°‘ä»¬åˆ™åœ¨åœ°ä¸­æµ·çš„é˜³å…‰ä¸‹é™¶é†‰äºŽåŸè¯—ä½œèµ‹ï¼ŒåŸ‹å¤´äºŽæ•°å­¦è§£æžã€‚æ‰€è°“è‰ºæœ¯ä¾¿æ˜¯è¿™ä¹ˆä¸€ç§çŽ©æ„å„¿ã€‚è‡³äºŽåŠå¤œä¸‰ç‚¹åŠåœ¨æ‚„æ— å£°æ¯çš„åŽ¨æˆ¿å¯»æ‰¾ç”µå†°ç®±é‡Œçš„é£Ÿå“çš„äººï¼Œåªèƒ½å†™å‡ºè¿™ç­‰æ¨¡æ ·çš„æ–‡ç« ã€‚è€Œé‚£å°±æ˜¯æˆ‘ã€‚ã€Œæˆ‘æ—¶å¸¸æƒ³ï¼šå‡å¦‚æ´»ç€ä¸ç»™ä»»ä½•äººæ·»éº»çƒ¦è¯¥æœ‰å¤šå¥½ï¼ä½ è¯´èƒ½åšåˆ°å—ï¼Ÿã€ã€Œæ€Žä¹ˆè¯´å‘¢ï¼Œå¤§æ¦‚å› ä¸ºåŽŒçƒ¦äº†å§ã€‚å¯æˆ‘ä¹Ÿåœ¨å°½æˆ‘çš„åŠªåŠ›â€”â€”å°±è¿žè‡ªå·±éƒ½éš¾ä»¥ç½®ä¿¡ã€‚æˆ‘ä¹Ÿåœ¨è€ƒè™‘åˆ«äººï¼Œåƒè€ƒè™‘è‡ªå·±çš„äº‹ä¸€æ ·ï¼Œä¹Ÿå› æ­¤æŒ¨è¿‡è­¦å¯Ÿçš„æã€‚ä½†åˆ°æ—¶å€™äººä»¬ç»ˆç©¶è¦å„å½’å…¶ä½ï¼Œå”¯ç‹¬æˆ‘æ— å¤„å¯å½’ï¼Œå°±åƒçŽ©ã€ŽæŠ¢æ¤…å­ã€æ¸¸æˆæ²¡äº†æ¤…å­ã€‚ã€ã€Œä¸è¿‡ä½ è®¤çœŸæƒ³æƒ³çœ‹ï¼šæ¡ä»¶å¤§ä¼™éƒ½ä¸€æ ·ï¼Œå°±åƒåŒåä¸€æž¶å‡ºäº†æ•…éšœçš„é£žæœºã€‚è¯šç„¶ï¼Œæœ‰çš„è¿æ°”å¥½äº›ï¼Œæœ‰çš„è¿æ°”å·®äº›ï¼Œæœ‰çš„åšå¼ºäº›æœ‰çš„æ‡¦å¼±äº›ï¼Œæœ‰çš„æœ‰é’±æœ‰çš„æ²¡é’±ã€‚ä½†æ²¡æœ‰ä¸€ä¸ªå®¶ä¼™æ€€æœ‰è¶…ä¹Žå¸¸äººçš„è‡ªä¿¡ï¼Œå¤§å®¶ä¸€ä¸ªæ ·ï¼Œæ‹¥æœ‰ä»€ä¹ˆçš„å®¶ä¼™ç”Ÿæ€•ä¸€æ—¦å¤±åŽ»ï¼Œä¸€æ— æ‰€æœ‰çš„å®¶ä¼™æ‹…å¿ƒæ°¸è¿œä¸€æ— æ‰€æœ‰ï¼Œå¤§å®¶ä¸€ä¸ªæ ·ã€‚æ‰€ä»¥ï¼Œæ—©äº›å¯Ÿè§‰åˆ°è¿™ä¸€ç‚¹çš„äºº åº”è¯¥åŠ›äº‰ä½¿è‡ªå·±å¤šå°‘æ€€æœ‰è‡ªä¿¡ï¼Œå“ªæ€•è£…æ¨¡åšæ ·ä¹Ÿå¥½ï¼Œå¯¹å§ï¼Ÿä»€ä¹ˆè‡ªä¿¡ä¹‹äººï¼Œé‚£æ ·çš„äººæ ¹æœ¬æ²¡æœ‰ï¼Œæœ‰çš„ä¸è¿‡æ˜¯èƒ½å¤Ÿè£…å‡ºè‡ªä¿¡çš„äººã€‚ã€ã€ŒæŠŠè°éƒ½çŸ¥é“çš„äº‹å†™æˆå°è¯´ï¼Œé‚£ç©¶ç«Ÿæœ‰ä½•æ„å‘³å¯è¨€ï¼Ÿã€æˆ‘æœ‰æ—¶è¯´è°Žã€‚æœ€åŽä¸€æ¬¡è¯´è°Žæ˜¯åœ¨åŽ»å¹´ã€‚è¯´è°Žæ˜¯éžå¸¸ä»¤äººè®¨åŽŒçš„å‹¾å½“ã€‚ä¸å¦¨è¯´ï¼Œè¯´è°Žä¸Žæ²‰é»˜æ˜¯çŽ°ä»£äººç±»ä¸­æµè¡Œçš„ä¸¤å¤§ç½ªè¿‡ã€‚æˆ‘ä»¬å®žé™…ä¸Šç»å¸¸è¯´è°Žï¼Œä¹Ÿå¾€å¾€æ²‰é»˜ä¸è¯­ã€‚ç„¶è€Œï¼Œå€˜è‹¥æˆ‘ä»¬ä¸€å¹´å››å­£éƒ½å–‹å–‹ä¸ä¼‘ï¼Œè€Œä¸”å–‹å–‹ä¸ä¼‘çš„æ— ä¸çœŸå®žï¼Œé‚£ä¹ˆçœŸå®žçš„ä»·å€¼å¿…ç„¶è¡ç„¶æ— å­˜ã€‚ è¶…èƒ½åŠ›ä¾¦æŽ¢äº‹åŠ¡æ‰€ å’Œäº‹ä»¶æ— å…³çš„äººï¼Œåªè¦æ—¶é—´å¤Ÿä¹…ï¼Œæˆ–æœ‰æ–°çš„äº‹ä»¶å‘ç”Ÿï¼Œå°±ä¼šå¾ˆå¿«å¿˜è®°è¿‡å¾€çš„äº‹ã€‚ä¸–ç•Œä¸Šæ°¸è¿œæ²¡æœ‰ã€Œæ„ŸåŒèº«å—ã€è¿™ä»¶äº‹ï¼Œå› ä¸ºæ²¡æœ‰äº²èº«ç»åŽ†ï¼Œæ— æ³•ä½“ä¼šåˆ°å½“äº‹äººçš„ç—›è‹¦ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[çŸ¥è¯†ç‚¹æ€»æ±‡]]></title>
    <url>%2F2019%2F01%2F25%2Fall%2F</url>
    <content type="text"><![CDATA[reactæ€»æ±‡å›¾ç‰‡æŸ¥çœ‹ä¸‹è½½ä¸‹æ¥è¿›è¡ŒæŸ¥çœ‹ ** reactçŸ¥è¯†ç‚¹æ€»æ±‡å›¾ç‰‡æŸ¥çœ‹ jsåŸºæœ¬çŸ¥è¯†æ€»æ±‡å›¾ç‰‡æŸ¥çœ‹ä¸‹è½½ä¸‹æ¥è¿›è¡ŒæŸ¥çœ‹ ** jsåŸºæœ¬çŸ¥è¯†æ€»æ±‡å›¾ç‰‡æŸ¥çœ‹]]></content>
  </entry>
  <entry>
    <title><![CDATA[px2rem ç§»åŠ¨ç«¯è‡ªé€‚åº”æ–¹æ¡ˆ]]></title>
    <url>%2F2019%2F01%2F25%2Fpx2rem%2F</url>
    <content type="text"><![CDATA[1/25/2019 4:36:42 PM px2remvue-cliä¸­å¦‚ä½•ä½¿ç”¨px2remå®žé™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®¾è®¡ç¨¿å¾—åˆ°çš„å€¼å•ä½æ˜¯ pxï¼Œæ‰€ä»¥è¦å°† px è½¬æ¢æˆ rem å†å†™è¿›æ ·å¼ä¸­ã€‚å°† px è½¬æ¢æˆ rem æˆ‘ä»¬å°†ä½¿ç”¨ px2rem è¿™ä¸ªå·¥å…·ï¼Œå®ƒæœ‰ webpack çš„ loaderï¼špx2rem-loaderå®‰è£… px2rem-loaderåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼šnpm i px2rem-loader --save-dev é…ç½® px2rem-loader1/25/2019 4:36:17 PM åœ¨ vue-cli ç”Ÿæˆçš„ webpack é…ç½®ä¸­ï¼Œvue-loader çš„ options å’Œå…¶ä»–æ ·å¼æ–‡ä»¶ loader æœ€ç»ˆæ˜¯éƒ½æ˜¯ç”± build/utils.js é‡Œçš„ä¸€ä¸ªæ–¹æ³•ç”Ÿæˆçš„ã€‚æˆ‘ä»¬åªéœ€åœ¨ cssLoader åŽå†åŠ ä¸Šä¸€ä¸ª px2remLoader å³å¯ï¼Œpx2rem-loader çš„ remUnit é€‰é¡¹æ„æ€æ˜¯ 1rem=å¤šå°‘åƒç´ ï¼Œç»“åˆ lib-flexible çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°† px2remLoader çš„ options.remUnit è®¾ç½®æˆè®¾è®¡ç¨¿å®½åº¦çš„ 1/10ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾è®¾è®¡ç¨¿å®½ä¸º 750pxã€‚// utils.js var cssLoader = { loader: &#39;css-loader&#39;, options: { sourceMap: options.sourceMap } } var px2remLoader = { loader: &#39;px2rem-loader&#39;, options: { remUnit: 75 } } å¹¶æ”¾è¿› loaders æ•°ç»„ä¸­// utils.js function generateLoaders(loader, loaderOptions) { var loaders = [cssLoader, px2remLoader] } ä¹Ÿå¯ä»¥åŠ¨æ€çš„æ ¹æ®å¯è§†çª—å£çš„å¤§å°æ¥è®¾ç½®[åœ¨è¿™é‡Œå†™ä¸€ä¸ªè®¡ç®—]const size = 200 const screen = 375 const flexFn = () =&gt; { const windowWidth = window.outerWidth const ratio = windowWidth / screen const newSize = ratio * (size / 2) document.querySelector(&#39;html&#39;).style.fontSize = newSize + &quot;px&quot; } flexFn() window.addEventListener(&quot;resize&quot;, () =&gt; { flexFn() },false) ç›´æŽ¥å°†è¯¥jså¼•å…¥åˆ°main.jsä¸­å³å¯ ä¿®æ”¹é…ç½®åŽéœ€è¦é‡å¯ï¼Œç„¶åŽæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å†™å•ä½ç›´æŽ¥å†™ pxï¼Œè®¾è®¡ç¨¿é‡å¤šå°‘å°±å¯ä»¥å†™å¤šå°‘äº†ï¼Œèˆ’æœå¤šäº†ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
        <tag>vue-cli</tag>
        <tag>px2rem</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueæ¦‚è¿°]]></title>
    <url>%2F2019%2F01%2F25%2Fvue%2F</url>
    <content type="text"><![CDATA[1/25/2019 4:34:55 PM æ­¤æ–‡ç« åªæ˜¯å¯¹VUEå¸¸ç”¨çš„çŸ¥è¯†è¿›è¡Œäº†ä¸€ä¸ªç®€è¿°ï¼Œè¯¦æƒ…è¯·è®¿é—®å®˜æ–¹æ–‡æ¡£ ä»€ä¹ˆæ˜¯vueï¼Ÿvueæ˜¯ä¸€ä¸ªæ¡†æž¶(æ¸è¿›å¼å¼€å‘æ¡†æž¶),å…¶å®žå°±æ˜¯ä¸€ä¸ªæ¡†æž¶çš„åç§°ï¼Œå…¶ç‰¹ç‚¹æ˜¯(æ•°æ®åŒå‘ç»‘å®šï¼Œç»„ä»¶å¼€å‘ï¼Œå•é¡µé¢è·¯ç”±ï¼ŒæŒ‡ä»¤ï¼Œæ’ä»¶)ä»€ä¹ˆå«æ¸è¿›å¼æ¡†æž¶é€šè¿‡å¼€å‘ç»„ä»¶çš„å½¢å¼ï¼Œè¿›è¡Œç»„ä»¶çš„ç»„ä»¶çš„ç»„åˆï¼Œæ¥ç»„åˆå‡ºæ¥çš„ä¸€ä¸ªé¡µé¢è€Œå·²æœ€é‡è¦çš„ç‰¹æ€§å°±æ˜¯ç»„ä»¶ç»„ä»¶ç±»ä¼¼äºŽæ¨¡å—ï¼Œè®¾è®¡ç»„å»ºçš„ç›®çš„æ˜¯ä¸ºäº†æ›´å¥½çš„è§£è€¦ä¸šåŠ¡ï¼Œå’Œæ¨¡å—åŒ–çš„åŒºåˆ«å°±åœ¨äºŽ(ç»„ä»¶çš„ç»„æˆåŒ…å«äº†(ç»“æž„ï¼Œé€»è¾‘ï¼Œæ ·å¼))è€Œæ¨¡å—åªæ˜¯é€»è¾‘ç»„ä»¶çš„ç‰¹æ€§ ç»„å»ºçš„çŠ¶æ€(data,props) ç»„ä»¶å’Œç»„ä»¶çš„é€šè®¯ è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸ ç»„ä»¶çš„æ¸²æŸ“å’Œç»„ä»¶çš„åˆ›å»ºæ–¹å¼ è®¾è®¡ç»„ä»¶ç»„ä»¶ä¸€èˆ¬åˆ†ä¸ºï¼Œå±•ç¤ºç»„ä»¶å’Œå—æŽ§ç»„ä»¶ å±•ç¤ºç»„ä»¶ï¼šçº¯ç²¹çš„å±•ç¤ºåŠŸèƒ½ ä¸šåŠ¡ç»„ä»¶ï¼šå•ä¸ªçš„ä¸šåŠ¡åŠŸèƒ½ç‹¬ç«‹å‡ºæ¥çš„ç»„ä»¶ æŽ§ä»¶ï¼šå†…ç½®è¡¨å•å…ƒç´ ä¸èƒ½æ»¡è¶³ç½‘é¡µå¼€å‘ï¼Œæœ‰ä¸€äº›ç‰¹æ®Šéœ€è¦è‡ªå®šä¹‰çš„è¡¨å•ç»„ä»¶ï¼Œç§°ä¸ºæŽ§åˆ¶ï¼Œä¸€èˆ¬éœ€è¦ç»“åˆv-modelåŽ»åšæ•°æ®åŒå‘ç»‘å®šçš„æŽ§åˆ¶ å®¹å™¨ç»„ä»¶ï¼šä½œä¸ºé¡µé¢çš„å®¹å™¨ï¼Œç”¨æ¥ç®¡ç†å½“å‰é¡µé¢çš„æ•°æ®ï¼Œé€šè¿‡æ•°æ®åŽ»æŽ§åˆ¶å±•ç¤ºç»„ä»¶çš„æ˜¾ç¤º apiç»„ä»¶ï¼šé€šè¿‡apiå½¢å¼è°ƒç”¨çš„ç»„ä»¶ï¼ˆæç¤ºï¼Œloadingï¼ŒéªŒè¯ç­‰ä¹‹ç±»çš„éœ€è¦é€šè¿‡jsè°ƒç”¨æ–¹æ³•æŽ§åˆ¶çš„ç»„ä»¶ã€‚vue.extendåˆ›å»ºï¼‰ ç»„åˆå¼ç»„ä»¶ï¼šç»„ä»¶å’Œç»„ä»¶ä¹‹é—´æœ‰ç‰¹å®šå…³ç³»çš„ç»„ä»¶ï¼ˆslotå…ƒç´ ä½œä¸ºæ’æ§½ï¼‰ å¦‚ä½•æ‹†åˆ†ç»„ä»¶ æŒ‰ç…§è®¾è®¡uiæä¾›çš„uiå›¾ï¼Œæå–å…¬å…±å±•ç¤ºåŠŸèƒ½ï¼Œä½œä¸ºå±•ç¤ºç»„ä»¶çš„æå–ï¼Œåœ¨é¡µé¢å¼€å‘è¿‡ç¨‹ä¸­æå–é¡µé¢ä¸­ç‹¬ç«‹ä¸šåŠ¡å•ç‹¬å‡ºæ¥ä¸šåŠ¡ç»„ä»¶ï¼Œåœ¨è¡¨å•é¡µé¢æå–å…¬å…±çš„éžå†…ç½®è¡¨å•å…ƒç´ ä½œä¸ºæŽ§ä»¶å¤„ç†ï¼ˆåœ°åŒºé€‰æ‹©ï¼Œé€‰æ‹©æ—¥æœŸï¼Œé€‰æ‹©â€¦..ï¼‰ ç»„ä»¶çš„åˆ›å»ºæ–¹å¼ vue.component(componnetName,option) (è‡ªåŠ¨æ¸²æŸ“) åœ¨æ¯ä¸€ä¸ªç»„ä»¶ä¸­éƒ½æœ‰componenté€‰é¡¹ï¼Œç”¨æ¥æ³¨å†Œå±€éƒ¨ç»„ä»¶ (è‡ªåŠ¨æ¸²æŸ“) é€šè¿‡Vue.extends()æ‰©å±•å­ç±»çš„å½¢å¼åˆ›å»º (æ‰‹åŠ¨æ¸²æŸ“) ç»„å»ºçš„å®žä¾‹é€‰é¡¹ @[function] data @[object] method @[object] compoted @[object] watch @[object] conponents @[function] ç”Ÿå‘½å‘¨æœŸ beforeCreated () {} // åˆå§‹åŒ–æ•°æ®ä¹‹å‰ created () {} // æ•°æ®åˆå§‹åŒ–ä¹‹åŽ beforeMout () {} // å¼€å§‹æ¸²æŸ“ mounted () {} // æ¸²æŸ“å®Œæˆ beforeUpdate () {} // å¼€å§‹æ›´æ–° å½“ä¸€ä¸ªæ•°æ®çš„æ”¹å˜å¼•èµ·äº†è§†å›¾çš„é‡æ–°çš„æ¸²æŸ“æ‰ä¼šæ‰§è¡Œï¼Œå•ç‹¬çš„ä¸€ä¸ªæ•°æ®æ”¹å˜æ˜¯ä¸ä¼šæ‰§è¡Œçš„ uppdated () {} // æ›´æ–°å®Œæˆ //å½“ä½¿ç”¨keep-aliveç»„ä»¶æ—¶æ‰ä¼š æ‰§è¡Œ activated () {} // ç»„ä»¶å¯ç”¨æ—¶ deactivated () {} // ç»„ä»¶åœç”¨æ—¶ //ç»„ä»¶é”€æ¯ v-ifé”€æ¯ç»„ä»¶ï¼Œæˆ–è€…åˆ‡æ¢è·¯ç”±(åœ¨æ²¡æœ‰å¯ç”¨ç¼“å­˜çš„å‰æ)ï¼Œæˆ–è€…æ‰‹åŠ¨æ‰§è¡Œthis.$destroy () {} // æ¸…ç†ç»„ä»¶ä¸­ç»‘å®šçš„dataï¼Œé€šè¿‡v-onç»‘å®šäº‹ä»¶ï¼Œå¦‚æžœæœ‰æ‰‹åŠ¨ç»‘å®šçš„å†…å®¹éœ€è¦ï¼Œåœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æ‰‹åŠ¨é”€æ¯ beforeDestroy () {} destroyed () {} errorCaptured () {} // å½“ç»„ä»¶ä¸­å‘ç”Ÿé”™è¯¯æ—¶ ç»„ä»¶çš„é€šè®¯æ–¹å¼é€šè®¯åˆ›å»ºï¼šçˆ¶å­ï¼Œå­çˆ¶ï¼ŒåŒçº§ï¼Œè·¨çº§é€šè®¯å…¶å®žå°±æ˜¯è°ç”¨è°çš„æ•°æ® çˆ¶å­ï¼šå­ç»„ä»¶ä½¿ç”¨çˆ¶ç»„ä»¶æ•°æ®ï¼Œprops(å¸¸ç”¨)ï¼Œå­ç»„ä»¶å†…éƒ¨é€šè¿‡$parent å­çˆ¶ï¼šçˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶æ•°æ®ï¼Œé€šè¿‡è‡ªå®šäº‹ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡$emit(äº‹ä»¶åç§°ï¼Œå‘é€æ•°æ®)ç»™çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®(å¸¸ç”¨)$children $refs åŒçº§ï¼šä»£ç†(ä¸€ä¸ªå­ç»„ä»¶å°†æ•°æ®å‘é€åˆ°çˆ¶çº§ï¼Œçˆ¶åœ¨å‘é€åˆ°å¦ä¸€ä¸ªå­çº§)ï¼ŒeventBus vuex è·¨çº§ï¼šé€å±‚ä¼ é€’ï¼Œvuex eventsBus ç»„ä»¶çš„åµŒå¥—ç»„ä»¶å†…éƒ¨é€šè¿‡slotå†…ç½®ç»„ä»¶ï¼Œå¯ä»¥ç”¨æ¥æ‰¿è½½åµŒå¥—ç»„ä»¶(å•ä¸ªslotï¼Œå’Œå‘½åslot)å†…ç½®ç»„ä»¶ template å•æ–‡ä»¶ç»„ä»¶ä¸­ä»£æ›¿äº†templateé€‰é¡¹ï¼Œå¯ä»¥ç”¨ä½œä¸€ä¸ªåŒ…è£¹å…ƒç´ ï¼Œä¸ä¼šè¢«æ¸²æŸ“ component åŠ¨æ€ç»„ä»¶ï¼Œé€šè¿‡iså±žæ€§åŠ¨æ€æ¸²æŸ“æŸä¸€ä¸ªç»„ä»¶ slot æ’æ§½ï¼Œç”¨æ¥æ‰¿è½½ç»„ä»¶æ½œé€ƒçš„å­ç»„ä»¶ transition vueç”¨æ¥å®žçŽ°åŠ¨ç”»çš„ç»„ä»¶(æä¾›äº†ï¼Œè¿›å…¥å’Œç¦»å¼€ä¸¤ä¸ªçŠ¶æ€) transitions-group ç”¨æ¥å®žçŽ°å¤šåŠ¨ç”»(åˆ—è¡¨åŠ¨ç”»ï¼ŒæŽ’åºï¼Œæ·»åŠ ï¼Œåˆ é™¤) keep-alive ç”¨æ¥å¯åŠ¨vueç¼“å­˜åŠŸèƒ½ï¼Œç¼“å­˜ç»„ä»¶çš„çŠ¶æ€ vueçš„å®žä¾‹å±žæ€§å®žä¾‹å±žæ€§ vm.$data // è®¿é—®å®šä¹‰çš„data vm.$props // è®¿é—®propså¯¹è±¡ vm.$el // è®¿é—®ç»„ä»¶çš„æ ¹èŠ‚ç‚¹ vm.$options // è®¿é—®æ‰€æœ‰é…ç½®é¡¹ vm.$parent // è®¿é—®çˆ¶ç»„ä»¶å®žä¾‹ vm.$root vm.$children vm.$slots vm.$scopedSlots vm.$refs vm.$isServer vm.$attrs vm.$listeners å®žä¾‹æ–¹æ³• / æ•°æ® vm.$watch vm.$set vm.$delete å®žä¾‹æ–¹æ³• / äº‹ä»¶ vm.$on vm.$once vm.$off vm.$emit å®žä¾‹æ–¹æ³• / ç”Ÿå‘½å‘¨æœŸ vm.$mount vm.$forceUpdate vm.$nextTick //æ•°æ®æ”¹å˜åŽå›žè°ƒ vm.$destroy //æ‰‹åŠ¨æ¸²æŸ“]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue slot-scopeçš„ç†è§£ï¼ˆé€‚åˆåˆå­¦è€…ï¼‰]]></title>
    <url>%2F2018%2F08%2F04%2Fvue%20slot-scope%2F</url>
    <content type="text"><![CDATA[Vue slot-scopeçš„ç†è§£ï¼ˆé€‚åˆåˆå­¦è€…ï¼‰ 1/26/2019 2:58:04 PM Vueä¸­å…³äºŽæ’æ§½çš„æ–‡æ¡£è¯´æ˜Žå¾ˆçŸ­ï¼Œè¯­è¨€åˆå†™çš„å¾ˆå‡ç»ƒï¼Œå†åŠ ä¸Šå…¶å’Œæ–¹æ³•ï¼Œæ•°æ®ï¼Œè®¡ç®—æœºç­‰å¸¸ç”¨é€‰é¡¹åœ¨ä½¿ç”¨é¢‘çŽ‡ï¼Œä½¿ç”¨å…ˆåŽä¸Šçš„å·®åˆ«ï¼Œè¿™å°±æœ‰å¯èƒ½é€ æˆåˆæ¬¡æŽ¥è§¦æ’æ§½çš„å¼€å‘è€…å®¹æ˜“äº§ç”Ÿâ€œç®—äº†å§ï¼Œå›žå¤´å†å­¦ï¼Œåæ­£å·²ç»å¯ä»¥å†™åŸºç¡€ç»„ä»¶äº†â€çš„æƒ³æ³•ï¼ŒäºŽæ˜¯å°±å…³é—­äº†VUEçš„è¯´æ˜Žæ–‡æ¡£ã€‚ å®žé™…ä¸Šï¼Œæ’æ§½çš„æ¦‚å¿µå¾ˆç®€å• slot æ¦‚å¿µï¼šæ’æ§½ï¼Œä¹Ÿå°±æ˜¯æ§½ï¼Œæ˜¯ç»„ä»¶çš„ä¸€å—HTMLæ¨¡æ¿ï¼Œè¿™å—æ¨¡æ¿æ˜¾ç¤ºä¸æ˜¾ç¤ºï¼Œä»¥åŠæ€Žæ ·æ˜¾ç¤ºç”±çˆ¶ç»„ä»¶æ¥å†³å®šã€‚ æ’æ§½å¯ä»¥åˆ†ä¸º3éƒ¨åˆ†æ¥è¯´ å•ä¸ªæ’æ§½ é¦–å…ˆæ˜¯å•ä¸ªæ’æ§½ï¼Œå•ä¸ªæ’æ§½çš„è‹±æ–‡VUEçš„å®˜æ–¹å«æ³•ï¼Œä½†æ˜¯å…¶å®žä¹Ÿå¯ä»¥å«å®ƒé»˜è®¤æ’æ§½ï¼Œæˆ–è€…ä¸Žå…·åæ’æ§½ç›¸å¯¹ï¼Œæˆ‘ä»¬å¯ä»¥å«å®ƒåŒ¿åæ’æ§½ã€‚å› ä¸ºå®ƒä¸ç”¨è®¾ç½®åç§°å±žæ€§ã€‚ å•ä¸ªæ’æ§½å¯ä»¥æ”¾ç½®åœ¨ç»„ä»¶çš„ä»»æ„ä½ç½®ï¼Œä½†æ˜¯å°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œä¸€ä¸ªç»„ä»¶ä¸­åªèƒ½æœ‰ä¸€ä¸ªè¯¥ç±»æ’æ§½ã€‚ç›¸å¯¹åº”çš„ï¼Œå…·åæ’æ§½å°±å¯ä»¥æœ‰å¾ˆå¤šä¸ªï¼Œåªè¦åå­—ï¼ˆåç§°å±žæ€§ï¼‰ä¸åŒå°±å¯ä»¥äº†ã€‚ ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºã€‚ çˆ¶ç»„ä»¶ï¼š &lt;div class=&quot;slot-righ&quot;&gt; &lt;p&gt;22222&lt;/p&gt; &lt;Slo&gt; &lt;div class=&quot;con&quot;&gt; 111111 &lt;/div&gt; &lt;/Slo&gt; &lt;/div&gt; å­ç»„ä»¶ï¼š &lt;div class=&quot;sol&quot;&gt; &lt;p&gt;11111&lt;/p&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; å…·åæ’æ§½ åŒ¿åæ’æ§½æ²¡æœ‰åç§°å±žæ€§ï¼Œæ‰€ä»¥æ˜¯åŒ¿åæ’æ§½ï¼Œé‚£ä¹ˆï¼Œæ’æ§½åŠ äº†åç§°å±žæ€§ï¼Œå°±å˜æˆäº†å…·åæ’æ§½ã€‚å…·åæ’æ§½å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­å‡ºçŽ°Ã‘æ¬¡ï¼Œå‡ºçŽ°åœ¨ä¸åŒçš„ä½ç½®ã€‚ä¸‹é¢çš„ä¾‹å­ï¼Œä¸€ä¸ªå°±æ˜¯æœ‰ä¸¤ä¸ªå…·åæ’æ§½çŠ¶è¯­ä»Žå¥ï¼šå•ä¸ªæ’æ§½çš„ç»„ä»¶ï¼Œè¿™ä¸‰ä¸ªæ’æ§½è¢«çˆ¶ç»„ä»¶ç”¨åŒä¸€å¥—çš„CSSæ ·å¼æ˜¾ç¤ºäº†å‡ºæ¥ï¼Œä¸åŒçš„æ˜¯å†…å®¹ä¸Šç•¥æœ‰åŒºåˆ«ã€‚ ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºã€‚ çˆ¶ç»„ä»¶ï¼š &lt;div class=&quot;slot-righ&quot;&gt; &lt;p&gt;22222&lt;/p&gt; &lt;Slo&gt; &lt;div class=&quot;con&quot; slot=&quot;up&quot;&gt; 111111 &lt;/div&gt; &lt;/Slo&gt; &lt;/div&gt; å­ç»„ä»¶ï¼š &lt;div class=&quot;sol&quot;&gt; &lt;p&gt;11111&lt;/p&gt; &lt;slot name=&quot;up&quot;&gt;&lt;/slot&gt;//å…·åæ’æ§½ &lt;/div&gt; ä½œç”¨åŸŸæ’æ§½| å¸¦æ•°æ®çš„æ’æ§½ æœ€åŽï¼Œå°±æ˜¯æˆ‘ä»¬çš„ä½œç”¨åŸŸæ’æ§½ã€‚è¿™ä¸ªç¨å¾®éš¾ç†è§£ä¸€ç‚¹ã€‚å®˜æ–¹å«å®ƒä½œç”¨åŸŸæ’æ§½ï¼Œå®žé™…ä¸Šï¼Œå¯¹æ¯”å‰é¢ä¸¤ç§æ’æ§½ï¼Œæˆ‘ä»¬å¯ä»¥å«å®ƒå¸¦æ•°æ®çš„æ’æ§½ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Œå°±æ˜¯å‰é¢ä¸¤ç§ï¼Œéƒ½æ˜¯åœ¨ç»„ä»¶çš„æ¨¡æ¿é‡Œé¢å†™ ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºã€‚ çˆ¶ç»„ä»¶ï¼š &lt;div class=&quot;slot-righ&quot;&gt; &lt;p&gt;22222&lt;/p&gt; &lt;Slo&gt; &lt;div class=&quot;con&quot; slot-scope=&quot;user&quot;&gt;//çˆ¶ç»„ä»¶æ‹¿åˆ°æ•°æ® {{user.data}} &lt;/div&gt; &lt;/Slo&gt; &lt;/div&gt; å­ç»„ä»¶ï¼š &lt;template&gt; &lt;div class=&quot;sol&quot;&gt; &lt;p&gt;11111&lt;/p&gt; &lt;slot :data=&quot;data&quot;&gt;&lt;/slot&gt;//è¿™é‡Œå†æ’æ§½ä¸Šç»‘å®šæ•°æ® &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data(){ return { data:11111111 } } } &lt;/script&gt; æ­£å› ä¸ºä½œç”¨åŸŸæ’æ§½ç»‘å®šäº†ä¸€å¥—æ•°æ®ï¼Œçˆ¶ç»„ä»¶å¯ä»¥æ‹¿æ¥ç”¨äºŽæ˜¯ï¼Œæƒ…å†µå°±å˜æˆäº†è¿™æ ·ï¼šæ ·å¼çˆ¶ç»„ä»¶è¯´äº†ç®—ï¼Œä½†å†…å®¹å¯ä»¥æ˜¾ç¤ºå­ç»„ä»¶æ’æ§½ç»‘å®šçš„ã€‚]]></content>
      <tags>
        <tag>js</tag>
        <tag>vue</tag>
        <tag>slot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sassåŸºæœ¬è¯­æ³•ä½¿ç”¨]]></title>
    <url>%2F2018%2F08%2F04%2Fsass%2F</url>
    <content type="text"><![CDATA[1/26/2019 10:54:49 AM sasså­¦è¿‡CSSçš„äººéƒ½çŸ¥é“ï¼Œå®ƒä¸æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ã€‚ä½ å¯ä»¥ç”¨å®ƒå¼€å‘ç½‘é¡µæ ·å¼ï¼Œä½†æ˜¯æ²¡æ³•ç”¨å®ƒç¼–ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCSSåŸºæœ¬ä¸Šæ˜¯è®¾è®¡å¸ˆçš„å·¥å…·ï¼Œä¸æ˜¯ç¨‹åºå‘˜çš„å·¥å…·ã€‚åœ¨ç¨‹åºå‘˜çœ¼é‡Œï¼ŒCSSæ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„ä¸œè¥¿ã€‚å®ƒæ²¡æœ‰å˜é‡ï¼Œä¹Ÿæ²¡æœ‰æ¡ä»¶è¯­å¥ï¼Œåªæ˜¯ä¸€è¡Œè¡Œå•çº¯çš„æè¿°ï¼Œå†™èµ·æ¥ç›¸å½“è´¹äº‹ã€‚åŸºæœ¬è¯­æ³• å˜é‡SASSå…è®¸ä½¿ç”¨å˜é‡ï¼Œæ‰€æœ‰å˜é‡ä»¥$å¼€å¤´ã€‚ $blue : #1875e7; div { color : $blue; } å¦‚æžœå˜é‡éœ€è¦é•¶åµŒåœ¨å­—ç¬¦ä¸²ä¹‹ä¸­ï¼Œå°±å¿…é¡»éœ€è¦å†™åœ¨#{}ä¹‹ä¸­ã€‚ $side : left; .rounded { border-#{$side}-radius: 5px; } è®¡ç®—åŠŸèƒ½SASSå…è®¸åœ¨ä»£ç ä¸­ä½¿ç”¨ç®—å¼ï¼š body { margin: (14px/2); top: 50px + 100px; right: $var * 10%; } åµŒå¥—SASSå…è®¸é€‰æ‹©å™¨åµŒå¥—ã€‚æ¯”å¦‚ï¼Œä¸‹é¢çš„CSSä»£ç ï¼š div h1 { color : red; } å¯ä»¥å†™æˆï¼š div { hi { color:red; } } ä»£ç çš„é‡ç”¨ ã€ç»§æ‰¿ã€‘ SASSå…è®¸ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œç»§æ‰¿å¦ä¸€ä¸ªé€‰æ‹©å™¨ã€‚æ¯”å¦‚ï¼ŒçŽ°æœ‰class1ï¼š .class1 { border: 1px solid #ddd; } class2è¦ç»§æ‰¿class1ï¼Œå°±è¦ä½¿ç”¨@extendå‘½ä»¤ï¼š .class2 { @extend .class1; font-size:120%; } MixinMixinæœ‰ç‚¹åƒCè¯­è¨€çš„å®ï¼ˆmacroï¼‰ï¼Œæ˜¯å¯ä»¥é‡ç”¨çš„ä»£ç å—ã€‚ä½¿ç”¨@mixinå‘½ä»¤ï¼Œå®šä¹‰ä¸€ä¸ªä»£ç å—ã€‚ @mixin left { float: left; margin-left: 10px; } ä½¿ç”¨@includeå‘½ä»¤ï¼Œè°ƒç”¨è¿™ä¸ªmixinã€‚ div { @include left; } mixinçš„å¼ºå¤§ä¹‹å¤„ï¼Œåœ¨äºŽå¯ä»¥æŒ‡å®šå‚æ•°å’Œç¼ºçœå€¼ã€‚ @mixin left($value: 10px) { float: left; margin-right: $value; } ä½¿ç”¨çš„æ—¶å€™ï¼Œæ ¹æ®éœ€è¦åŠ å…¥å‚æ•°ï¼š div { @include left(20px); } ä¸‹é¢æ˜¯ä¸€ä¸ªmixinçš„å®žä¾‹ï¼Œç”¨æ¥ç”Ÿæˆæµè§ˆå™¨å‰ç¼€ã€‚ @mixin rounded($vert, $horz, $radius: 10px) { border-#{$vert}-#{$horz}-radius: $radius; -moz-border-radius-#{$vert}#{$horz}: $radius; -webkit-border-#{$vert}-#{$horz}-radius: $radius; } ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·è°ƒç”¨ï¼š .navbar li { @include rounded(top, left); } .footer { @include rounded(top, left, 5px); } æ’å…¥æ–‡ä»¶@importå‘½ä»¤ï¼Œç”¨æ¥æ’å…¥å¤–éƒ¨æ–‡ä»¶ã€‚ @import &quot;path/filename.scss&quot;; å¦‚æžœæ’å…¥çš„æ˜¯.cssæ–‡ä»¶ï¼Œåˆ™ç­‰åŒäºŽcssçš„importå‘½ä»¤ã€‚ @import &quot;foo.css&quot;; é«˜çº§ç”¨æ³• ### 1. æ¡ä»¶è¯­å¥ #### @ifå¯ä»¥ç”¨æ¥åˆ¤æ–­ï¼š p { @if 1 + 1 == 2 { border: 1px solid; } @if 5 &lt; 3 { border: 2px dotted; } } #### é…å¥—çš„è¿˜æœ‰@elseå‘½ä»¤ï¼š @if lightness($color) &gt; 30% { background-color: #000; } @else { background-color: #fff; } ### 2. å¾ªçŽ¯è¯­å¥ #### SASSæ”¯æŒforå¾ªçŽ¯ï¼š @for $i from 1 to 10 { .border-#{$i} { border: #{$i}px solid blue; } } #### ä¹Ÿæ”¯æŒwhileå¾ªçŽ¯ï¼š $i: 6; @while $i &gt; 0 { .item-#{$i} { width: 2em * $i; } $i: $i - 2; } #### eachå‘½ä»¤ï¼Œä½œç”¨ä¸Žforç±»ä¼¼ï¼š @each $member in a, b, c, d { .#{$member} { background-image: url(&quot;/image/#{$member}.jpg&quot;); } } ### 3. è‡ªå®šä¹‰å‡½æ•° #### SASSå…è®¸ç”¨æˆ·ç¼–å†™è‡ªå·±çš„å‡½æ•°ã€‚ @function double($n) { @return $n * 2; } #sidebar { width: double(5px); }]]></content>
      <tags>
        <tag>css</tag>
        <tag>scss</tag>
        <tag>sass</tag>
      </tags>
  </entry>
</search>
