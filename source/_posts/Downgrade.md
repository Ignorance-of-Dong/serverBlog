---
title: 什么叫优雅降级和渐进增强？
date: '3/29/2019 11:44:33 PM '
tag: ['js', '兼容与优化']
meta:
  -
    name: description
    content: null
  -
    name: keywords
    content: null
---
## 什么叫优雅降级和渐进增强？

### 优雅降级: 

> Web站点在所有新式浏览器中都能正常工作，如果用户使用的是老式浏览器，则代码会针对旧版本的IE进行降级处理了,使之在旧式浏览器上以某种形式降级体验却不至于完全不能用。 
> 
> 如：border-shadow 

**优雅降级写法**

	.transition {
	          transition: all .5s;
	       -o-transition: all .5s;
	     -moz-transition: all .5s;
	  -webkit-transition: all .5s;
	}


### 渐进增强:

> 从被所有浏览器支持的基本功能开始，逐步地添加那些只有新版本浏览器才支持的功能,向页面增加不影响基础浏览器的额外样式和功能的。当浏览器支持时，它们会自动地呈现出来并发挥作用。 
> 
> 如：默认使用flash上传，但如果浏览器支持 HTML5 的文件上传功能，则使用HTML5实现更好的体验；

**渐进增强写法**

	.transition {
	  -webkit-transition: all .5s;
	     -moz-transition: all .5s;
	       -o-transition: all .5s;
	          transition: all .5s;
	}


### 前缀CSS3（-webkit- / -moz- / -o-）和正常CSS3在浏览器中的支持情况是这样的：

> - 很久以前：浏览器前缀CSS3和正常CSS3都不支持；
> 
> - 不久之前：浏览器只支持前缀CSS3，不支持正常CSS3；
> 
> - 现在：浏览器既支持前缀CSS3，又支持正常CSS3；
> 
> - 未来：浏览器不支持前缀CSS3，仅支持正常CSS3.
> 

----------


> **ps：从这里可以引申到其他有前缀的css3的属性，不要局限在这个属性里。**

**优雅降级的例子：**

> 假如你写了一个表单，没有用到input type="submit"表单元素，用了一个a标签的click事件做提交，但如果Javascript被禁用了怎么办？
使用如下的文档结构，就可以在javascript被禁用时，依然可以提交。

	<form>
	    <input type="text">
	    <input type="submit">
	</form>

> 优雅降级需要正确地体现HTML标签的语义，符合“浏览器的预期”。让你的网页在各种情况—下——包括降级（javascript被禁用，css传输失败等等）的情形都可以运作良好。这是我理解的优雅降级的意义。

### 在网页布局中如何选择？

 > 如果软件开发的预算和时间充足，就不存在抉择的问题，可以两者都调整到一个最佳状态，而不用权衡，做选择题了。然而现实很残酷，要么开发周期短，要么开发预算少，或者二者兼而有之，这个时候该如何抉择？就我个人而言，讲讲我的观点。

### 分析使用你客户端程序的版本比例。
> 
> 如果低版本用户居多，当然优先采用渐进增强的开发流程；
> 
> 如果高版本用户居多，为了提高大多数用户的使用体验，那当然优先采用优雅降级的开发流程。

### 大多数公司是怎么处理这个问题的：


> - 绝大多数的大公司都是采用渐进增强的方式，因为业务优先，提升用户体验永远不会排在最前面。
> 
> - 例如：新浪微博网站前端的更新，拥有这种亿级用户的网站，绝对不可能追求某个特效而不考虑低版本用户可不可用，一定是确保低版本到高版本的可访问性，再去渐进增强，采用新功能给高版本用户提供更好的用户体验。
> 
> - 但也不是没有反例。如果你开发的是一款面向青少年的软件（或网站）
> 
> - 你知道这个群体的人总是喜欢尝试新事物，总是喜欢酷炫的特效，总是喜欢把它们的软件更新到最新版本。面对这种情况，渐进增强的开发流程实为上选。

